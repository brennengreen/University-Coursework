Script started on 2020-10-28 10:08:11-0400
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$  cat > /dev/null
pid is printed out twice becqaus    ause there is both a branch for the parent process and for the child process
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$  vim fork.c 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;24r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[24;1H"fork.c" 21L, 273C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<unistd.h>[m

[32mint[m main() {

  [32mint[m x = [31m1[m;
  pid_t pid;

  pid = fork();
  printf([31m"pid=[m[35m%d\n[m[31m"[m, pid);

  [33mif[m (pid ==[31m0[m) {
    x++;
    printf([31m"hello from child[m[35m\n[m[31m"[m);
  }
  [33melse[m {
    x--;
    printf([31m"hello from parent[m[35m\n[m[31m"[m);
  }
  [33mreturn[m([31m0[m);
} [34m// main()[m
[1m[34m~                                                                               [23;1H~                                                                               [m[24;63H1,1[11CAll[1;1H[?25h[?25l[24;53H^[[1;1H[24;55H][1;1H[24;56H1[1;1H[24;57H1[1;1H[24;58H;[1;1H[24;53H      [1;1H[27m[23m[29m[m[H[2J[1;1H[1m[34m#include [m[1m[35m<stdio.h>[m
[1m[34m#include [m[1m[35m<unistd.h>[m

[1m[32mint[m main() {

  [1m[32mint[m x = [1m[35m1[m;
  pid_t pid;

  pid = fork();
  printf([1m[35m"pid=[m[1m[31m%d\n[m[1m[35m"[m, pid);

  [1m[33mif[m (pid ==[1m[35m0[m) {
    x++;
    printf([1m[35m"hello from child[m[1m[31m\n[m[1m[35m"[m);
  }
  [1m[33melse[m {
    x--;
    printf([1m[35m"hello from parent[m[1m[31m\n[m[1m[35m"[m);
  }
  [1m[33mreturn[m([1m[35m0[m);
} [1m[36m// main()[m
[1m[34m~                                                                               [23;1H~                                                                               [m[24;63H1,1[11CAll"fork.c" 21L, 273C[1;1H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[1m[34m#include [m[1m[35m<stdio.h>[m
[1m[34m#include [m[1m[35m<unistd.h>[m

[1m[32mint[m main() {

  [1m[32mint[m x = [1m[35m1[m;
  pid_t pid;

  pid = fork();
  printf([1m[35m"pid=[m[1m[31m%d\n[m[1m[35m"[m, pid);

  [1m[33mif[m (pid ==[1m[35m0[m) {
    x++;
    printf([1m[35m"hello from child[m[1m[31m\n[m[1m[35m"[m);
  }
  [1m[33melse[m {
    x--;
    printf([1m[35m"hello from parent[m[1m[31m\n[m[1m[35m"[m);
  }
  [1m[33mreturn[m([1m[35m0[m);
} [1m[36m// main()[m
[1m[34m~                                                                                                                                                               [23;1H~                                                                                                                                                               [24;1H~                                                                                                                                                               [25;1H~                                                                                                                                                               [26;1H~                                                                                                                                                               [27;1H~                                                                                                                                                               [28;1H~                                                                                                                                                               [29;1H~                                                                                                                                                               [30;1H~                                                                                                                                                               [31;1H~                                                                                                                                                               [32;1H~                                                                                                                                                               [33;1H~                                                                                                                                                               [34;1H~                                                                                                                                                               [35;1H~                                                                                                                                                               [36;1H~                                                                                                                                                               [37;1H~                                                                                                                                                               [38;1H~                                                                                                                                                               [39;1H~                                                                                                                                                               [40;1H~                                                                                                                                                               [41;1H~                                                                                                                                                               [42;1H~                                                                                                                                                               [43;1H~                                                                                                                                                               [44;1H~                                                                                                                                                               [45;1H~                                                                                                                                                               [46;1H~                                                                                                                                                               [m[47;143H1,1[11CAll[1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [2;1H[47;143H2[2;1H[?25h[?25l[47;133Hi[2;1H[47;133H [2;1H[47;1H[1m-- INSERT --[m[47;143H[K[47;143H2,1[11CAll[2;1H[?25h[?25l[47;143H3[3;1H[?25h[?25l[47;143H4[4;1H[?25h[?25l[47;143H5[5;1H[?25h[?25l[47;143H6[6;1H[?25h[?25l[47;143H7[7;1H[?25h[?25l[47;143H8[8;1H[?25h[?25l[47;143H9[9;1H[?25h[?25li  pid = fork();[47;145H2[9;2H[?25h[?25l[47;143H10,2[10;2H[?25h[?25l[47;143H9,2 [9;2H[?25h[?25l  pid = fork();[9;16H[K[47;145H1[9;1H[?25h[?25l[47;143H10,1[10;1H[?25h[?25l[47;144H1[11;1H[?25h[?25l[47;144H2[12;1H[?25h[?25l[47;144H3[13;1H[?25h[?25l[47;146H2[13;2H[?25h[?25l[47;146H3[13;3H[?25h[?25l[47;146H4[13;4H[?25h[?25l[47;146H5[13;5H[?25h[?25l[14;46r[14;1H[L[1;47r[13;5H[K[14;11Hx++;[47;143H[K[47;143H14,4-11[7CAll[14;11H[?25h[?25l[47;144H3,5   [13;5H[?25h[?25l[47;144H4,4-11[14;11H[?25h[?25lx++;[14;14H[K[47;146H3-10[14;10H[?25h[?25lx++;[14;13H[K[47;146H2-9 [14;9H[?25h[?25lx++;[14;9H[K[47;146H1  [14;1H[?25h[?25l[13;46r[46;1H
[1;47r[13;1H    x++;[46;1H[1m[34m~                                                                                                                                                               [m[47;143H[K[47;143H13,5[10CAll[13;5H[?25h[?25l[14;46r[14;1H[L[1;47r[13;5H[K[14;11Hx++;[47;143H[K[47;143H14,4-11[7CAll[14;11H[?25h[?25l      x++;[47;146H5-17[14;17H[?25h[?25l        x++;[47;146H6-25[14;25H[?25h[?25l[14;17Hx++;[14;25H[K[47;146H5-17[14;17H[?25h[?25lx++;[14;17H[K[47;146H4-11[14;11H[?25h[?25lx++;[14;14H[K[47;146H3-10[14;10H[?25h[?25lx++;[14;13H[K[47;146H2-9 [14;9H[?25h[?25lx++;[14;9H[K[47;146H1  [14;1H[?25h[?25l[13;46r[46;1H
[1;47r[13;1H    x++;[46;1H[1m[34m~                                                                                                                                                               [m[47;143H[K[47;143H13,5[10CAll[13;5H[?25h[?25l[14;46r[14;1H[L[1;47r[13;5H[K[14;11Hx++;[47;143H[K[47;143H14,4-11[7CAll[14;11H[?25h[?25lx++;[14;14H[K[47;146H3-10[14;10H[?25h[?25lx++;[14;13H[K[47;146H2-9 [14;9H[?25h[?25lx++;[14;9H[K[47;146H1  [14;1H[?25h[?25l x++;[47;146H2[14;2H[?25h[?25l x++;[47;146H3[14;3H[?25h[?25l x++;[47;146H4[14;4H[?25h[?25l x++;[47;146H5[14;5H[?25h[?25l[47;144H3[13;5H[?25h[?25lg[47;146H6[13;6H[?25h[?25le[47;146H7[13;7H[?25h[?25lt[47;146H8[13;8H[?25h[?25lp[47;146H9[13;9H[?25h[?25li[47;146H10[13;10H[?25h[?25ld[47;147H1[13;11H[?25h[?25l([47;147H2[13;12H[?25h[?25l)[46m()[m[47;147H3[13;13H[?25h[?25l;()[47;147H4[13;14H[?25h[?25l[46m()[m[47;147H3[13;13H[?25h[?25l[47;147H2[13;12H[?25h[?25l[47;147H1[13;11H[?25h[?25l()[47;147H0[13;10H[?25h[?25l[47;146H9 [13;9H[?25h[?25l[47;146H8[13;8H[?25h[?25l[47;146H7[13;7H[?25h[?25l[47;146H6[13;6H[?25h[?25l[47;146H5[13;5H[?25h[?25lpgetpid();[47;146H6[13;6H[?25h[?25lrgetpid();[47;146H7[13;7H[?25h[?25ligetpid();[47;146H8[13;8H[?25h[?25lngetpid();[47;146H9[13;9H[?25h[?25ltgetpid();[47;146H10[13;10H[?25h[?25lfgetpid();[47;147H1[13;11H[?25h[?25l(getpid();[47;147H2[13;12H[?25h[?25l[1m[35m"getpid();
    x++;
    printf([m[1Chello from child\n[1m[35m");
  }
  else {
    x--;
    printf([m[1Chello from parent\n[1m[35m");
  }
  return(0);
} // main()[m[47;147H3[13;13H[?25h[?25l[1m[35mPgetpid();[m[47;147H4[13;14H[?25h[?25l[1m[35mrgetpid();[m[47;147H5[13;15H[?25h[?25l[1m[35mogetpid();[m[47;147H6[13;16H[?25h[?25l[1m[35msgetpid();[m[47;147H7[13;17H[?25h[?25l[1m[35msgetpid();[m[47;147H8[13;18H[?25h[?25l[1m[35megetpid();[m[47;147H9[13;19H[?25h[?25l[1m[35msgetpid();[m[47;146H20[13;20H[?25h[?25l[1m[35m getpid();[m[47;147H1[13;21H[?25h[?25l[1m[35mIgetpid();[m[47;147H2[13;22H[?25h[?25l[1m[35mDgetpid();[m[47;147H3[13;23H[?25h[?25l[1m[35m getpid();[m[47;147H4[13;24H[?25h[?25l[1m[31m%g[m[1m[35metpid();[m[47;147H5[13;25H[?25h[?25l[1m[31ms[m[1m[35mgetpid();[m[47;147H6[13;26H[?25h[?25l[1m[35m"[mgetpid();
    x++;
    printf([1m[35m"hello from child[m[1m[31m\n[m[1C);
  }
  [1m[33melse[m {
    x--;
    printf([1m[35m"hello from parent[m[1m[31m\n[m[1C);
  }
  [1m[33mreturn[m([1m[35m0[m);
} [1m[36m// main()[m[47;147H7[13;27H[?25h[?25l,getpid();[47;147H8[13;28H[?25h[?25l getpid();[47;147H9[13;29H[?25h[?25l[47;146H30[13;30H[?25h[?25l[47;147H1[13;31H[?25h[?25l[47;147H2[13;32H[?25h[?25l[47;147H3[13;33H[?25h[?25l[47;147H4[13;34H[?25h[?25ld[46m()[m[47;147H5[13;35H[?25h[?25l[47;147H6[13;36H[?25h[?25l[47;147H7[13;37H[?25h[?25l);[13;11H[46m([m[23C()[46m)[m[47;147H8[13;38H[?25h[?25l[13;11H([25C)[47;147H9[13;39H[?25h[?25l[47;144H4,9 [14;9H[?25h[?25l[47;144H3,39[13;39H[?25h[?25l[13;11H[46m([25C)[m[47;147H8[13;38H[?25h[?25l[47;147H7[13;37H[?25h[?25l[13;11H([23C[46m()[m)[47;147H6[13;36H[?25h[?25l[47;147H5[13;35H[?25h[?25l()[47;147H4[13;34H[?25h[?25l[47;147H3[13;33H[?25h[?25l[47;147H2[13;32H[?25h[?25l[47;147H1[13;31H[?25h[?25l[47;147H0[13;30H[?25h[?25l[47;146H29[13;29H[?25h[?25l[47;147H8[13;28H[?25h[?25l[47;147H7[13;27H[?25h[?25l[47;147H6[13;26H[?25h[?25l[47;147H5[13;25H[?25h[?25l[47;147H4[13;24H[?25h[?25l[47;147H3[13;23H[?25h[?25l[47;147H2[13;22H[?25h[?25l[47;147H1[13;21H[?25h[?25l[47;147H0[13;20H[?25h[?25l[47;146H19[13;19H[?25h[?25l[47;147H8[13;18H[?25h[?25l[47;147H7[13;17H[?25h[?25l[47;147H6[13;16H[?25h[?25l[47;147H7[13;17H[?25h[?25l[47;147H6[13;16H[?25h[?25l[1m[35mCsses ID [m[1m[31m%s[m[1m[35m"[m, getpid());[47;147H7[13;17H[?25h[?25l[1m[35msses ID [m[1m[31m%s[m[1m[35m"[m, getpid());[13;39H[K[47;147H6[13;16H[?25h[?25l[1m[35mcsses ID [m[1m[31m%s[m[1m[35m"[m, getpid());[47;147H7[13;17H[?25h[?25l[1m[35messes ID [m[1m[31m%s[m[1m[35m"[m, getpid());[47;147H8[13;18H[?25h[?25l[47;147H9[13;19H[?25h[?25l[47;146H20[13;20H[?25h[?25l[47;147H1[13;21H[?25h[?25l[47;147H2[13;22H[?25h[?25l[1m[35m ID [m[1m[31m%s[m[1m[35m"[m, getpid());[13;40H[K[47;147H1[13;21H[?25h[?25l[1m[35m ID [m[1m[31m%s[m[1m[35m"[m, getpid());[13;39H[K[47;147H0[13;20H[?25h[?25l[47;146H19[13;19H[?25h[?25l[47;147H8[13;18H[?25h[?25l[47;147H7[13;17H[?25h[?25l[47;147H6[13;16H[?25h[?25l[47;147H5[13;15H[?25h[?25l[47;147H4[13;14H[?25h[?25l[47;147H3[13;13H[?25h[?25l[46m([25C)[m[47;147H2[13;12H[?25h[?25l[47;147H1[13;11H[?25h[?25l[47;147H2[13;12H[?25h[?25l([25C)[47;147H3[13;13H[?25h[?25l[47;147H4[13;14H[?25h[?25l[47;147H3[13;13H[?25h[?25l[1m[35mCProcess ID [m[1m[31m%s[m[1m[35m"[m, getpid());[47;147H4[13;14H[?25h[?25l[1m[35mhProcess ID [m[1m[31m%s[m[1m[35m"[m, getpid());[47;147H5[13;15H[?25h[?25l[1m[35miProcess ID [m[1m[31m%s[m[1m[35m"[m, getpid());[47;147H6[13;16H[?25h[?25l[1m[35mlProcess ID [m[1m[31m%s[m[1m[35m"[m, getpid());[47;147H7[13;17H[?25h[?25l[1m[35mdProcess ID [m[1m[31m%s[m[1m[35m"[m, getpid());[47;147H8[13;18H[?25h[?25l[1m[35m Process ID [m[1m[31m%s[m[1m[35m"[m, getpid());[47;147H9[13;19H[?25h[?25l[47;147H8[13;18H[?25h[?25l[47;147H7[13;17H[?25h[?25l[47;147H6[13;16H[?25h[?25l[47;147H5[13;15H[?25h[?25l[47;147H4[13;14H[?25h[?25l[47;147H3[13;13H[?25h[?25l[46m([31C)[m[47;147H2[13;12H[?25h[?25l[47;147H1[13;11H[?25h[?25l([31C)[47;144H2[12;11H[?25h[?25l[13;11H[46m([31C)[m[47;144H3[13;11H[?25h[47;1H[K[13;10H[?25l[47;133H^[[13;10H[47;133H  [13;11H([31C)[47;143H13,10[9CAll[13;10H[?25h[?25l[47;133H:[13;10H[47;133H[K[47;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"fork.c" 22L, 318C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim fork.c cat > /dev/nulllear[K./ukshvim test.txt touch test.txt[8P./uksh[1Pclear./ukshtouch test.txt[1Pvim test.txt [7P./uksh[1Pclearat > /dev/null[4Pvim fork.c [Kmake
gcc -Wall -g     fork.c   -o fork
[01m[Kfork.c:[m[K In function â€˜[01m[Kmain[m[Kâ€™:
[01m[Kfork.c:13:31:[m[K [01;35m[Kwarning: [m[Kformat â€˜[01m[K%s[m[Kâ€™ expects argument of type â€˜[01m[Kchar *[m[Kâ€™, but argument 2 has type â€˜[01m[K__pid_t {aka int}[m[Kâ€™ [[01;35m[K-Wformat=[m[K]
     printf("Child Process ID [01;35m[K%s[m[K", [32m[Kgetpid()[m[K);
                              [01;35m[K~^[m[K   [32m[K~~~~~~~~[m[K
                              [32m[K%d[m[K
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ makevim fork.c 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;47r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[47;1H"fork.c" 22L, 318C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<unistd.h>[m

[32mint[m main() {

  [32mint[m x = [31m1[m;
  pid_t pid;

  pid = fork();
  printf([31m"pid=[m[35m%d\n[m[31m"[m, pid);

  [33mif[m (pid ==[31m0[m) {
    printf([31m"Child Process ID [m[35m%s[m[31m"[m, getpid());
    x++;
    printf([31m"hello from child[m[35m\n[m[31m"[m);
  }
  [33melse[m {
    x--;
    printf([31m"hello from parent[m[35m\n[m[31m"[m);
  }
  [33mreturn[m([31m0[m);
} [34m// main()[m
[1m[34m~                                                                                                                                                               [24;1H~                                                                                                                                                               [25;1H~                                                                                                                                                               [26;1H~                                                                                                                                                               [27;1H~                                                                                                                                                               [28;1H~                                                                                                                                                               [29;1H~                                                                                                                                                               [30;1H~                                                                                                                                                               [31;1H~                                                                                                                                                               [32;1H~                                                                                                                                                               [33;1H~                                                                                                                                                               [34;1H~                                                                                                                                                               [35;1H~                                                                                                                                                               [36;1H~                                                                                                                                                               [37;1H~                                                                                                                                                               [38;1H~                                                                                                                                                               [39;1H~                                                                                                                                                               [40;1H~                                                                                                                                                               [41;1H~                                                                                                                                                               [42;1H~                                                                                                                                                               [43;1H~                                                                                                                                                               [44;1H~                                                                                                                                                               [45;1H~                                                                                                                                                               [46;1H~                                                                                                                                                               [m[47;143H13,10[9CAll[13;10H[?25h[?25l[47;133H^[[13;10H[47;135H][13;10H[47;136H1[13;10H[47;137H1[13;10H[47;138H;[13;10H[47;133H      [13;10H[27m[23m[29m[m[H[2J[1;1H[1m[34m#include [m[1m[35m<stdio.h>[m
[1m[34m#include [m[1m[35m<unistd.h>[m

[1m[32mint[m main() {

  [1m[32mint[m x = [1m[35m1[m;
  pid_t pid;

  pid = fork();
  printf([1m[35m"pid=[m[1m[31m%d\n[m[1m[35m"[m, pid);

  [1m[33mif[m (pid ==[1m[35m0[m) {
    printf([1m[35m"Child Process ID [m[1m[31m%s[m[1m[35m"[m, getpid());
    x++;
    printf([1m[35m"hello from child[m[1m[31m\n[m[1m[35m"[m);
  }
  [1m[33melse[m {
    x--;
    printf([1m[35m"hello from parent[m[1m[31m\n[m[1m[35m"[m);
  }
  [1m[33mreturn[m([1m[35m0[m);
} [1m[36m// main()[m
[1m[34m~                                                                                                                                                               [24;1H~                                                                                                                                                               [25;1H~                                                                                                                                                               [26;1H~                                                                                                                                                               [27;1H~                                                                                                                                                               [28;1H~                                                                                                                                                               [29;1H~                                                                                                                                                               [30;1H~                                                                                                                                                               [31;1H~                                                                                                                                                               [32;1H~                                                                                                                                                               [33;1H~                                                                                                                                                               [34;1H~                                                                                                                                                               [35;1H~                                                                                                                                                               [36;1H~                                                                                                                                                               [37;1H~                                                                                                                                                               [38;1H~                                                                                                                                                               [39;1H~                                                                                                                                                               [40;1H~                                                                                                                                                               [41;1H~                                                                                                                                                               [42;1H~                                                                                                                                                               [43;1H~                                                                                                                                                               [44;1H~                                                                                                                                                               [45;1H~                                                                                                                                                               [46;1H~                                                                                                                                                               [m[47;143H13,10[9CAll"fork.c" 22L, 318C[13;10H[?25h[?25l[47;133H~@k[13;10H[47;133H   [14;8H[47;144H4,8 [14;8H[?25h[?25l[47;133H~@k[14;8H[47;133H   [13;8H[47;144H3[13;8H[?25h[?25l[47;133H~@k[13;8H[47;133H   [12;8H[47;144H2[12;8H[?25h[?25l[47;133H~@k[12;8H[47;133H   [13;8H[47;144H3[13;8H[?25h[?25l[47;133Hi[13;8H[47;133H [13;8H[47;1H[1m-- INSERT --[m[47;13H[K[47;143H13,8[10CAll[13;8H[?25h[?25l[47;146H9[13;9H[?25h[?25l[47;146H10[13;10H[?25h[?25lf[46m([31C)[m[47;147H1[13;11H[?25h[?25l[47;147H2[13;12H[?25h[?25l([31C)[47;147H3[13;13H[?25h[?25l[47;147H4[13;14H[?25h[?25l[47;147H5[13;15H[?25h[?25l[47;147H6[13;16H[?25h[?25l[47;147H7[13;17H[?25h[?25l[47;147H8[13;18H[?25h[?25l[47;147H9[13;19H[?25h[?25l[47;146H20[13;20H[?25h[?25l[47;147H1[13;21H[?25h[?25l[47;147H2[13;22H[?25h[?25l[47;147H3[13;23H[?25h[?25l[47;147H4[13;24H[?25h[?25l[47;147H5[13;25H[?25h[?25l[47;147H6[13;26H[?25h[?25l[47;147H7[13;27H[?25h[?25l[47;147H8[13;28H[?25h[?25l[47;147H9[13;29H[?25h[?25l[47;146H30[13;30H[?25h[?25l[47;147H1[13;31H[?25h[?25l[47;147H2[13;32H[?25h[?25l[47;147H3[13;33H[?25h[?25l[47;147H4[13;34H[?25h[?25l[47;147H3[13;33H[?25h[?25l[47;147H2[13;32H[?25h[?25l[1m[35m%"[m, getpid());[13;44H[K[47;147H1[13;31H[?25h[?25l[1m[31m%d[m[1m[35m"[m, getpid());[47;147H2[13;32H[?25h[?25l[1m[31m\"[m[1m[35m, getpid());
    x++;
    printf([m[1Chello from child\n[1m[35m");
  }
  else {
    x--;
    printf([m[1Chello from parent\n[1m[35m");
  }
  return(0);
} // main()[m[47;147H3[13;33H[?25h[?25l[1m[31mn[m[1m[35m"[m, getpid());
    x++;
    printf([1m[35m"hello from child[m[1m[31m\n[m[1C);
  }
  [1m[33melse[m {
    x--;
    printf([1m[35m"hello from parent[m[1m[31m\n[m[1C);
  }
  [1m[33mreturn[m([1m[35m0[m);
} [1m[36m// main()[m[47;147H4[13;34H[?25h[47;1H[K[13;33H[?25l[47;133H^[[13;33H[47;133H  [13;34H[47;143H13,33[9CAll[13;33H[?25h[?25l[47;133H<20>[13;33H[47;133H    [13;34H[47;147H4[13;34H[?25h[?25l[47;133H:[13;34H[47;133H[K[47;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"fork.c" 22L, 320C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim fork.c [7Pmake
gcc -Wall -g     fork.c   -o fork
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ makevim fork.c 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;47r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[47;1H"fork.c" 22L, 320C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<unistd.h>[m

[32mint[m main() {

  [32mint[m x = [31m1[m;
  pid_t pid;

  pid = fork();
  printf([31m"pid=[m[35m%d\n[m[31m"[m, pid);

  [33mif[m (pid ==[31m0[m) {
    printf([31m"Child Process ID [m[35m%d\n[m[31m"[m, getpid());
    x++;
    printf([31m"hello from child[m[35m\n[m[31m"[m);
  }
  [33melse[m {
    x--;
    printf([31m"hello from parent[m[35m\n[m[31m"[m);
  }
  [33mreturn[m([31m0[m);
} [34m// main()[m
[1m[34m~                                                                                                                                                               [24;1H~                                                                                                                                                               [25;1H~                                                                                                                                                               [26;1H~                                                                                                                                                               [27;1H~                                                                                                                                                               [28;1H~                                                                                                                                                               [29;1H~                                                                                                                                                               [30;1H~                                                                                                                                                               [31;1H~                                                                                                                                                               [32;1H~                                                                                                                                                               [33;1H~                                                                                                                                                               [34;1H~                                                                                                                                                               [35;1H~                                                                                                                                                               [36;1H~                                                                                                                                                               [37;1H~                                                                                                                                                               [38;1H~                                                                                                                                                               [39;1H~                                                                                                                                                               [40;1H~                                                                                                                                                               [41;1H~                                                                                                                                                               [42;1H~                                                                                                                                                               [43;1H~                                                                                                                                                               [44;1H~                                                                                                                                                               [45;1H~                                                                                                                                                               [46;1H~                                                                                                                                                               [m[47;143H13,34[9CAll[13;34H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[1m[34m#include [m[1m[35m<stdio.h>[m
[1m[34m#include [m[1m[35m<unistd.h>[m

[1m[32mint[m main() {

  [1m[32mint[m x = [1m[35m1[m;
  pid_t pid;

  pid = fork();
  printf([1m[35m"pid=[m[1m[31m%d\n[m[1m[35m"[m, pid);

  [1m[33mif[m (pid ==[1m[35m0[m) {
    printf([1m[35m"Child Process ID [m[1m[31m%d\n[m[1m[35m"[m, getpid());
    x++;
    printf([1m[35m"hello from child[m[1m[31m\n[m[1m[35m"[m);
  }
  [1m[33melse[m {
    x--;
    printf([1m[35m"hello from parent[m[1m[31m\n[m[1m[35m"[m);
  }
  [1m[33mreturn[m([1m[35m0[m);
} [1m[36m// main()[m
[1m[34m~                                                                                                                                                               [24;1H~                                                                                                                                                               [25;1H~                                                                                                                                                               [26;1H~                                                                                                                                                               [27;1H~                                                                                                                                                               [28;1H~                                                                                                                                                               [29;1H~                                                                                                                                                               [30;1H~                                                                                                                                                               [31;1H~                                                                                                                                                               [32;1H~                                                                                                                                                               [33;1H~                                                                                                                                                               [34;1H~                                                                                                                                                               [35;1H~                                                                                                                                                               [36;1H~                                                                                                                                                               [37;1H~                                                                                                                                                               [38;1H~                                                                                                                                                               [39;1H~                                                                                                                                                               [40;1H~                                                                                                                                                               [41;1H~                                                                                                                                                               [42;1H~                                                                                                                                                               [43;1H~                                                                                                                                                               [44;1H~                                                                                                                                                               [45;1H~                                                                                                                                                               [46;1H~                                                                                                                                                               [m[47;143H13,34[9CAll"fork.c" 22L, 320C[13;34H[?25h[?25l[47;133H~@k[13;34H[47;133H   [14;8H[47;144H4,8 [14;8H[?25h[?25l[47;133H~@k[14;8H[47;133H   [15;8H[47;144H5[15;8H[?25h[?25l[47;133H~@k[15;8H[47;133H   [16;3H[12;16H[46m{[16;3H}[m[47;144H6,3[16;3H[?25h[?25l[47;133H~@k[16;3H[47;133H   [17;8H[12;16H{[16;3H}[17;8H[46m{[20;3H}[m[47;144H7,8[17;8H[?25h[?25l[47;133Hi[17;8H[47;133H [17;8H[47;1H[1m-- INSERT --[m[47;13H[K[47;143H17,8[10CAll[17;8H[?25h[?25l{[20;3H}[47;144H8[18;8H[?25h[?25l[17;8H[46m{[20;3H}[m[47;144H7[17;8H[?25h[?25l[47;146H9[17;9H[?25h[?25l[18;46r[18;1H[L[1;47r[20;3H[46m [m
  }[47;143H[K[47;143H18,4-11[7CAll[17;8H{[20;3H [18;11H[?25h[?25l[47;146H3-10[18;10H[?25h[?25l[47;146H2-9 [18;9H[?25h[?25l[47;146H1  [18;1H[?25h[?25l[17;46r[46;1H
[1;47r[17;3H[1m[33melse[m {[46;1H[1m[34m~                                                                                                                                                               [m[47;143H[K[47;143H17,9[10CAll[17;8H[46m{[20;3H}[17;9H[?25h[?25l[18;46r[m[18;1H[L[1;47r[20;3H[46m [m
  }[47;143H[K[47;143H18,4-11[7CAll[17;8H{[20;3H [18;11H[?25h[?25l[47;146H5-17[18;17H[?25h[?25l[47;146H4-11[18;11H[?25h[?25l[47;146H3-10[18;10H[?25h[?25l[47;146H2-9 [18;9H[?25h[?25l[47;146H1  [18;1H[?25h[?25l[47;146H2[18;2H[?25h[?25l[47;146H3[18;3H[?25h[?25l[47;146H4[18;4H[?25h[?25l[47;146H5[18;5H[?25h[?25lp[47;146H6[18;6H[?25h[?25lr[47;146H7[18;7H[?25h[?25li[47;146H8[18;8H[?25h[?25ln[47;146H9[18;9H[?25h[?25lt[47;146H10[18;10H[?25h[?25lf[47;147H1[18;11H[?25h[?25l([47;147H2[18;12H[?25h[?25l:[47;147H3[18;13H[?25h[?25l[18;12H[K[47;147H2[18;12H[?25h[?25l[1m[35m"
    x--;
    printf([m[1Chello from parent\n[1m[35m");
  }
  return(0);
} // main()[m[47;147H3[18;13H[?25h[?25l[1m[35mC[m[47;147H4[18;14H[?25h[?25l[1m[35mh[m[47;147H5[18;15H[?25h[?25l[1m[35mi[m[47;147H6[18;16H[?25h[?25l[1m[35ml[m[47;147H7[18;17H[?25h[?25l[1m[35md[m[47;147H8[18;18H[?25h[?25l[1m[35m [m[47;147H9[18;19H[?25h[?25l[18;18H[K[47;147H8[18;18H[?25h[?25l[18;17H[K[47;147H7[18;17H[?25h[?25l[18;16H[K[47;147H6[18;16H[?25h[?25l[18;15H[K[47;147H5[18;15H[?25h[?25l[18;14H[K[47;147H4[18;14H[?25h[?25l[18;13H[K[47;147H3[18;13H[?25h[?25l[1m[35m([m[47;147H4[18;14H[?25h[?25l[1m[35mP[m[47;147H5[18;15H[?25h[?25l[1m[35ma[m[47;147H6[18;16H[?25h[?25l[1m[35mr[m[47;147H7[18;17H[?25h[?25l[1m[35me[m[47;147H8[18;18H[?25h[?25l[1m[35mn[m[47;147H9[18;19H[?25h[?25l[1m[35mt[m[47;146H20[18;20H[?25h[?25l[1m[35m)[m[47;147H1[18;21H[?25h[?25l[1m[35m [m[47;147H2[18;22H[?25h[?25l[1m[35mC[m[47;147H3[18;23H[?25h[?25l[1m[35mh[m[47;147H4[18;24H[?25h[?25l[1m[35mi[m[47;147H5[18;25H[?25h[?25l[1m[35ml[m[47;147H6[18;26H[?25h[?25l[1m[35md[m[47;147H7[18;27H[?25h[?25l[1m[35m [m[47;147H8[18;28H[?25h[?25l[1m[35mP[m[47;147H9[18;29H[?25h[?25l[1m[35mI[m[47;146H30[18;30H[?25h[?25l[1m[35mD[m[47;147H1[18;31H[?25h[?25l[1m[35m:[m[47;147H2[18;32H[?25h[?25l[1m[35m [m[47;147H3[18;33H[?25h[?25l[1m[35m0[m[47;147H4[18;34H[?25h[?25l[1m[35m"[m
    x--;
    printf([1m[35m"hello from parent[m[1m[31m\n[m[1C);
  }
  [1m[33mreturn[m([1m[35m0[m);
} [1m[36m// main()[m[47;147H5[18;35H[?25h[?25l)[18;11H[46m([23C)[m[47;147H6[18;36H[?25h[?25l;[18;11H([23C)[47;147H7[18;37H[?25h[47;1H[K[18;36H[?25l[47;133H^[[18;36H[47;133H  [18;37H[47;143H18,36[9CAll[18;36H[?25h[?25l[47;133H:[18;36H[47;133H[K[47;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[47;1H[K[18;36H[47;143H18,36[9CAll[18;36H[?25h[?25l[47;133Hi[18;36H[47;133H [18;36H[47;1H[1m-- INSERT --[m[47;143H[K[47;143H18,36[9CAll[18;36H[?25h[?25l[17;8H[46m{[21;3H}[m[47;144H7,9 [17;9H[?25h[?25l[12;16H[46m{[16;3H}[m[17;8H{[21;3H}[47;144H6,4[16;4H[?25h[?25l[12;16H{[16;3H}[17;8H[46m{[21;3H}[m[47;144H7,9[17;9H[?25h[?25l{[18;11H[46m([23C)[m[21;3H}[47;144H8,36[18;36H[?25h[?25l[18;11H([23C)[47;147H7[18;37H[?25h[?25l[18;11H[46m([23C)[m[47;147H6[18;36H[?25h[?25l[47;147H5[18;35H[?25h[?25l[18;11H([23C)[47;147H4[18;34H[?25h[?25l[1m[31m\"[m[1m[35m);
    x--;
    printf([m[1Chello from parent\n[1m[35m");
  }
  return(0);
} // main()[m[47;147H5[18;35H[?25h[?25l[1m[31mn[m[1m[35m"[m);
    x--;
    printf([1m[35m"hello from parent[m[1m[31m\n[m[1C);
  }
  [1m[33mreturn[m([1m[35m0[m);
} [1m[36m// main()[m[47;147H6[18;36H[?25h[47;1H[K[18;35H[?25l[47;133H^[[18;35H[47;133H  [18;36H[47;143H18,35[9CAll[18;35H[?25h[?25l[47;133H:[18;35H[47;133H[K[47;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"fork.c" 23L, 359C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim fork.c [7Pmake
gcc -Wall -g     fork.c   -o fork
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ makevim fork.c [7Pmakevim fork.c [7Pmakevim fork.c cat > /dev/nulllear[K./uksh[1Pclearat > /dev/null[4Pvim fork.c [7Pmakevim fork.c [7Pmakevim fork.c [7Pmake[Kmake[K./fork 
pid=6302
(Parent) Child PID: 0
hello from parent
pid=0
Child Process ID 6302
hello from child
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ ./fork [3Pmakevim fork.c [7Pmakevim fork.c [7Pmakevim fork.c cat > /dev/null
(Parent Ch   ) Child PID: 0, hello from parent, and pid=6301 f   2 from the parent process
Child Process ID 6302, hello from child, pid=0 fg  r from child process
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ cat > /dev/null[8P./fork [3Pmakevim fork.c 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;47r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[47;1H"fork.c" 23L, 359C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<unistd.h>[m

[32mint[m main() {

  [32mint[m x = [31m1[m;
  pid_t pid;

  pid = fork();
  printf([31m"pid=[m[35m%d\n[m[31m"[m, pid);

  [33mif[m (pid ==[31m0[m) {
    printf([31m"Child Process ID [m[35m%d\n[m[31m"[m, getpid());
    x++;
    printf([31m"hello from child[m[35m\n[m[31m"[m);
  }
  [33melse[m {
    printf([31m"(Parent) Child PID: 0[m[35m\n[m[31m"[m);
    x--;
    printf([31m"hello from parent[m[35m\n[m[31m"[m);
  }
  [33mreturn[m([31m0[m);
} [34m// main()[m
[1m[34m~                                                                                                                                                               [25;1H~                                                                                                                                                               [26;1H~                                                                                                                                                               [27;1H~                                                                                                                                                               [28;1H~                                                                                                                                                               [29;1H~                                                                                                                                                               [30;1H~                                                                                                                                                               [31;1H~                                                                                                                                                               [32;1H~                                                                                                                                                               [33;1H~                                                                                                                                                               [34;1H~                                                                                                                                                               [35;1H~                                                                                                                                                               [36;1H~                                                                                                                                                               [37;1H~                                                                                                                                                               [38;1H~                                                                                                                                                               [39;1H~                                                                                                                                                               [40;1H~                                                                                                                                                               [41;1H~                                                                                                                                                               [42;1H~                                                                                                                                                               [43;1H~                                                                                                                                                               [44;1H~                                                                                                                                                               [45;1H~                                                                                                                                                               [46;1H~                                                                                                                                                               [m[47;143H18,35[9CAll[18;35H[?25h[?25l[47;133H^[[18;35H[47;135H][18;35H[47;136H1[18;35H[47;137H1[18;35H[47;138H;[18;35H[47;133H      [18;35H[27m[23m[29m[m[H[2J[1;1H[1m[34m#include [m[1m[35m<stdio.h>[m
[1m[34m#include [m[1m[35m<unistd.h>[m

[1m[32mint[m main() {

  [1m[32mint[m x = [1m[35m1[m;
  pid_t pid;

  pid = fork();
  printf([1m[35m"pid=[m[1m[31m%d\n[m[1m[35m"[m, pid);

  [1m[33mif[m (pid ==[1m[35m0[m) {
    printf([1m[35m"Child Process ID [m[1m[31m%d\n[m[1m[35m"[m, getpid());
    x++;
    printf([1m[35m"hello from child[m[1m[31m\n[m[1m[35m"[m);
  }
  [1m[33melse[m {
    printf([1m[35m"(Parent) Child PID: 0[m[1m[31m\n[m[1m[35m"[m);
    x--;
    printf([1m[35m"hello from parent[m[1m[31m\n[m[1m[35m"[m);
  }
  [1m[33mreturn[m([1m[35m0[m);
} [1m[36m// main()[m
[1m[34m~                                                                                                                                                               [25;1H~                                                                                                                                                               [26;1H~                                                                                                                                                               [27;1H~                                                                                                                                                               [28;1H~                                                                                                                                                               [29;1H~                                                                                                                                                               [30;1H~                                                                                                                                                               [31;1H~                                                                                                                                                               [32;1H~                                                                                                                                                               [33;1H~                                                                                                                                                               [34;1H~                                                                                                                                                               [35;1H~                                                                                                                                                               [36;1H~                                                                                                                                                               [37;1H~                                                                                                                                                               [38;1H~                                                                                                                                                               [39;1H~                                                                                                                                                               [40;1H~                                                                                                                                                               [41;1H~                                                                                                                                                               [42;1H~                                                                                                                                                               [43;1H~                                                                                                                                                               [44;1H~                                                                                                                                                               [45;1H~                                                                                                                                                               [46;1H~                                                                                                                                                               [m[47;143H18,35[9CAll"fork.c" 23L, 359C[18;35H[?25h[?25l[47;133H~@k[18;35H[47;133H   [19;8H[47;144H9,8 [19;8H[?25h[?25l[47;133H~@k[19;8H[47;133H   [20;8H[47;143H20[20;8H[?25h[?25l[47;133H~@k[20;8H[47;133H   [19;8H[47;143H19[19;8H[?25h[?25l[47;133H~@k[19;8H[47;133H   [18;8H[47;144H8[18;8H[?25h[?25l[47;133H~@k[18;8H[47;133H   [17;8H[46m{[21;3H}[m[47;144H7[17;8H[?25h[?25l[47;133H~@k[17;8H[47;133H   [16;3H[12;16H[46m{[16;3H}[m[17;8H{[21;3H}[47;144H6,3[16;3H[?25h[?25l[47;133H~@k[16;3H[47;133H   [15;8H[12;16H{[16;3H}[47;144H5,8[15;8H[?25h[?25l[47;133H~@k[15;8H[47;133H   [14;8H[47;144H4[14;8H[?25h[?25l[47;133H~@k[14;8H[47;133H   [14;8H[?25h[?25l[47;133Hi[14;8H[47;133H [14;8H[47;1H[1m-- INSERT --[m[47;13H[K[47;143H14,8[10CAll[14;8H[?25h[?25l[47;144H5[15;8H[?25h[?25l[47;146H7[15;7H[?25h[?25l[47;146H6[15;6H[?25h[?25l[47;146H5[15;5H[?25h[?25l[16;46r[16;1H[L[1;47r[15;5H[K[16;5Hprintf([1m[35m"hello from child[m[1m[31m\n[m[1m[35m"[m);[47;143H[K[47;143H16,5[10CAll[16;5H[?25h[?25l[47;144H5[15;5H[?25h[?25lp[47;146H6[15;6H[?25h[?25lr[47;146H7[15;7H[?25h[?25li[47;146H8[15;8H[?25h[?25ln[47;146H9[15;9H[?25h[?25lt[47;146H10[15;10H[?25h[?25lf[47;147H1[15;11H[?25h[?25l([47;147H2[15;12H[?25h[?25l[1m[35m"
    printf([m[1Chello from child\n[1m[35m");
  }
  else {
    printf([m[1C(Parent) Child PID: [1m[35m0[m\n[1m[35m");
    x--;
    printf([m[1Chello from parent\n[1m[35m");
  }
  return(0);
} // main()[m[47;147H3[15;13H[?25h[?25l[1m[35m%[m[47;147H4[15;14H[?25h[?25l[1m[31m%d[m[47;147H5[15;15H[?25h[?25l[1m[35m"[m
    printf([1m[35m"hello from child[m[1m[31m\n[m[1C);
  }
  [1m[33melse[m {
    printf([1m[35m"(Parent) Child PID: [m[1C[1m[31m\n[m[1C);
    x--;
    printf([1m[35m"hello from parent[m[1m[31m\n[m[1C);
  }
  [1m[33mreturn[m([1m[35m0[m);
} [1m[36m// main()[m[47;147H6[15;16H[?25h[?25l,[47;147H7[15;17H[?25h[?25l[47;147H8[15;18H[?25h[?25lx[47;147H9[15;19H[?25h[?25l)[15;11H[46m([7C)[m[47;146H20[15;20H[?25h[?25l;[15;11H([7C)[47;147H1[15;21H[?25h[?25l[47;144H6[16;21H[?25h[?25l[12;16H[46m{[17;3H}[m[47;144H7,4 [17;4H[?25h[?25l[12;16H{[17;3H}[18;8H[46m{[22;3H}[m[47;144H8,9[18;9H[?25h[?25l{[22;3H}[47;144H9,21[19;21H[?25h[?25l[47;143H20,9 [20;9H[?25h[?25l[21;46r[21;1H[L[1;47r[47;143H[K[47;143H21,5[10CAll[21;5H[?25h[?25lp[47;146H6[21;6H[?25h[?25lr[47;146H7[21;7H[?25h[?25li[47;146H8[21;8H[?25h[?25ln[47;146H9[21;9H[?25h[?25lt[47;146H10[21;10H[?25h[?25lf[47;147H1[21;11H[?25h[?25l([47;147H2[21;12H[?25h[?25l[1m[35m"
    printf([m[1Chello from parent\n[1m[35m");
  }
  return(0);
} // main()[m[47;147H3[21;13H[?25h[?25l[1m[35m5[m[47;147H4[21;14H[?25h[?25l[21;13H[K[47;147H3[21;13H[?25h[?25l[1m[35m%[m[47;147H4[21;14H[?25h[?25l[1m[31m%d[m[47;147H5[21;15H[?25h[?25l[1m[35m,[m[47;147H6[21;16H[?25h[?25l[21;15H[K[47;147H5[21;15H[?25h[?25l[1m[35m"[m
    printf([1m[35m"hello from parent[m[1m[31m\n[m[1C);
  }
  [1m[33mreturn[m([1m[35m0[m);
} [1m[36m// main()[m[47;147H6[21;16H[?25h[?25l,[47;147H7[21;17H[?25h[?25l[47;147H8[21;18H[?25h[?25lx[47;147H9[21;19H[?25h[?25l)[21;11H[46m([7C)[m[47;146H20[21;20H[?25h[?25l;[21;11H([7C)[47;147H1[21;21H[?25h[47;1H[K[21;20H[?25l[47;133H^[[21;20H[47;133H  [21;21H[47;143H21,20[9CAll[21;20H[?25h[?25l[47;133H:[21;20H[47;133H[K[47;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"fork.c" 25L, 401C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim fork.c cat > /dev/null[8P./fork [3Pmake
gcc -Wall -g     fork.c   -o fork
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ makevim fork.c cat > /dev/null[8P./fork 
pid=6333
(Parent) Child PID: 0
0hello from parent
pid=0
Child Process ID 6333
2hello from child
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ Beca[K[K[K[K./fork [3Pmakevim fork.c cat > /dev/null
The last value printed(  (from the child) isn't 1 because both the parent and the child process get their own unique copy of the x   x variable in memory so   
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ clear
[3J[H[2J]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ wget http://voip.netlab.uky.edu/~fei/teaching/cs270/labs/lab5/forkfun.c
--2020-10-28 10:20:08--  http://voip.netlab.uky.edu/~fei/teaching/cs270/labs/lab5/forkfun.c
Resolving voip.netlab.uky.edu (voip.netlab.uky.edu)... 128.163.140.44
Connecting to voip.netlab.uky.edu (voip.netlab.uky.edu)|128.163.140.44|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 245 [text/x-csrc]
Saving to: â€˜forkfun.câ€™

forkfun.c                                 0%[                                                                                ]       0  --.-KB/s               forkfun.c                               100%[===============================================================================>]     245  --.-KB/s    in 0s      

2020-10-28 10:20:08 (33.8 MB/s) - â€˜forkfun.câ€™ saved [245/245]

]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim fork.c [K[K[Kfun.c 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;47r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[47;1H"forkfun.c" 17L, 245C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<unistd.h>[m

[32mint[m main() {

  pid_t pid;

  pid = fork();
  printf([31m"Line 1[m[35m\n[m[31m"[m);
  pid = fork();
  printf([31m"Line 2[m[35m\n[m[31m"[m);
  [33mif[m (fork() == [31m0[m)
    printf([31m"Line 3[m[35m\n[m[31m"[m);
  [33melse[m
    printf([31m"Line 4[m[35m\n[m[31m"[m);
  [33mreturn[m([31m0[m);
} [34m// main()[m
[1m[34m~                                                                                                                                                               [19;1H~                                                                                                                                                               [20;1H~                                                                                                                                                               [21;1H~                                                                                                                                                               [22;1H~                                                                                                                                                               [23;1H~                                                                                                                                                               [24;1H~                                                                                                                                                               [25;1H~                                                                                                                                                               [26;1H~                                                                                                                                                               [27;1H~                                                                                                                                                               [28;1H~                                                                                                                                                               [29;1H~                                                                                                                                                               [30;1H~                                                                                                                                                               [31;1H~                                                                                                                                                               [32;1H~                                                                                                                                                               [33;1H~                                                                                                                                                               [34;1H~                                                                                                                                                               [35;1H~                                                                                                                                                               [36;1H~                                                                                                                                                               [37;1H~                                                                                                                                                               [38;1H~                                                                                                                                                               [39;1H~                                                                                                                                                               [40;1H~                                                                                                                                                               [41;1H~                                                                                                                                                               [42;1H~                                                                                                                                                               [43;1H~                                                                                                                                                               [44;1H~                                                                                                                                                               [45;1H~                                                                                                                                                               [46;1H~                                                                                                                                                               [m[47;143H1,1[11CAll[1;1H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[1m[34m#include [m[1m[35m<stdio.h>[m
[1m[34m#include [m[1m[35m<unistd.h>[m

[1m[32mint[m main() {

  pid_t pid;

  pid = fork();
  printf([1m[35m"Line 1[m[1m[31m\n[m[1m[35m"[m);
  pid = fork();
  printf([1m[35m"Line 2[m[1m[31m\n[m[1m[35m"[m);
  [1m[33mif[m (fork() == [1m[35m0[m)
    printf([1m[35m"Line 3[m[1m[31m\n[m[1m[35m"[m);
  [1m[33melse[m
    printf([1m[35m"Line 4[m[1m[31m\n[m[1m[35m"[m);
  [1m[33mreturn[m([1m[35m0[m);
} [1m[36m// main()[m
[1m[34m~                                                                                                                                                               [19;1H~                                                                                                                                                               [20;1H~                                                                                                                                                               [21;1H~                                                                                                                                                               [22;1H~                                                                                                                                                               [23;1H~                                                                                                                                                               [24;1H~                                                                                                                                                               [25;1H~                                                                                                                                                               [26;1H~                                                                                                                                                               [27;1H~                                                                                                                                                               [28;1H~                                                                                                                                                               [29;1H~                                                                                                                                                               [30;1H~                                                                                                                                                               [31;1H~                                                                                                                                                               [32;1H~                                                                                                                                                               [33;1H~                                                                                                                                                               [34;1H~                                                                                                                                                               [35;1H~                                                                                                                                                               [36;1H~                                                                                                                                                               [37;1H~                                                                                                                                                               [38;1H~                                                                                                                                                               [39;1H~                                                                                                                                                               [40;1H~                                                                                                                                                               [41;1H~                                                                                                                                                               [42;1H~                                                                                                                                                               [43;1H~                                                                                                                                                               [44;1H~                                                                                                                                                               [45;1H~                                                                                                                                                               [46;1H~                                                                                                                                                               [m[47;143H1,1[11CAll"forkfun.c" 17L, 245C[1;1H[?25h[?25l[47;133H^[[1;1H[47;133H  [1;1H[47;133H^[[1;1H[47;133H  [1;1H[?25h[?25l[47;133H:[1;1H[47;1H[K[47;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"forkfun.c" 17L, 245C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim forkfun.c wget http://voip.netlab.uky.edu/~fei/teaching/cs270/labs/lab5/forkfun.cclear[Kat > /dev/null
The output should be around 14 lines of " o "Line"    X"^[   ": 
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ make forkfun
gcc -Wall -g     forkfun.c   -o forkfun
[01m[Kforkfun.c:[m[K In function â€˜[01m[Kmain[m[Kâ€™:
[01m[Kforkfun.c:6:9:[m[K [01;35m[Kwarning: [m[Kvariable â€˜[01m[Kpid[m[Kâ€™ set but not used [[01;35m[K-Wunused-but-set-variable[m[K]
   pid_t [01;35m[Kpid[m[K;
         [01;35m[K^~~[m[K
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ ./forkfun [K
Line 1
Line 2
Line 4
Line 1
Line 2
Line 4
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ Line 2
Line 3
Line 4
Line 3
Line 2
Line 3
Line 4
Line 3
clear
[3J[H[2J]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ clear./forkfunmake forkfuncat > /dev/null
T Yes I correctly predicted there would be 14 lines of output
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ clear
[3J[H[2J]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ wget http://csapp.cs.cmu.edu/3e/ics3/code/ecf/shellex.c
--2020-10-28 10:22:29--  http://csapp.cs.cmu.edu/3e/ics3/code/ecf/shellex.c
Resolving csapp.cs.cmu.edu (csapp.cs.cmu.edu)... 128.2.100.230
Connecting to csapp.cs.cmu.edu (csapp.cs.cmu.edu)|128.2.100.230|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 2562 (2.5K) [text/plain]
Saving to: â€˜shellex.câ€™

shellex.c                                 0%[                                                                                ]       0  --.-KB/s               shellex.c                               100%[===============================================================================>]   2.50K  --.-KB/s    in 0s      

2020-10-28 10:22:30 (349 MB/s) - â€˜shellex.câ€™ saved [2562/2562]

]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ wget http://csapp.cs.cmu.edu/3e/ics3/code/include/csapp.h
--2020-10-28 10:22:36--  http://csapp.cs.cmu.edu/3e/ics3/code/include/csapp.h
Resolving csapp.cs.cmu.edu (csapp.cs.cmu.edu)... 128.2.100.230
Connecting to csapp.cs.cmu.edu (csapp.cs.cmu.edu)|128.2.100.230|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 6621 (6.5K) [text/plain]
Saving to: â€˜csapp.hâ€™

csapp.h                                   0%[                                                                                ]       0  --.-KB/s               csapp.h                                 100%[===============================================================================>]   6.47K  --.-KB/s    in 0s      

2020-10-28 10:22:36 (89.2 MB/s) - â€˜csapp.hâ€™ saved [6621/6621]

]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ wget http://csapp.cs.cmu.edu/3e/ics3/code/src/csapp.c
--2020-10-28 10:22:45--  http://csapp.cs.cmu.edu/3e/ics3/code/src/csapp.c
Resolving csapp.cs.cmu.edu (csapp.cs.cmu.edu)... 128.2.100.230
Connecting to csapp.cs.cmu.edu (csapp.cs.cmu.edu)|128.2.100.230|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 24035 (23K) [text/plain]
Saving to: â€˜csapp.câ€™

csapp.c                                   0%[                                                                                ]       0  --.-KB/s               csapp.c                                 100%[===============================================================================>]  23.47K  --.-KB/s    in 0.04s   

2020-10-28 10:22:45 (622 KB/s) - â€˜csapp.câ€™ saved [24035/24035]

]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ clear
[3J[H[2J]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim shellex.c 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;47r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[47;1H"shellex.c" 106L, 2562C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m/* $begin shellmain */[m
[35m#include [m[31m"csapp.h"[m
[35m#define MAXARGS   [m[31m128[m

[34m/* Function prototypes */[m
[32mvoid[m eval([32mchar[m *cmdline);
[32mint[m parseline([32mchar[m *buf, [32mchar[m **argv);
[32mint[m builtin_command([32mchar[m **argv);

[32mint[m main()
{
    [32mchar[m cmdline[MAXLINE]; [34m/* Command line */[m[14;5H[33mwhile[m ([31m1[m) {[15;9H[34m/* Read */[m[16;9Hprintf([31m"> "[m);[17;9HFgets(cmdline, MAXLINE, [31mstdin[m);[18;9H[33mif[m (feof([31mstdin[m))[19;13Hexit([31m0[m);[21;9H[34m/* Evaluate */[m[22;9Heval(cmdline);
    }
}
[34m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[32mvoid[m eval([32mchar[m *cmdline)
{
    [32mchar[m *argv[MAXARGS]; [34m/* Argument list execve() */[m
    [32mchar[m buf[MAXLINE];   [34m/* Holds modified command line */[m
    [32mint[m bg;[14C[34m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[34m/* Process id */[m[36;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [33mif[m (argv[[31m0[m] == [31mNULL[m)[39;9H[33mreturn[m;   [34m/* Ignore empty lines */[m[41;5H[33mif[m (!builtin_command(argv)) {[42;9H[33mif[m ((pid = Fork()) == [31m0[m) {   [34m/* Child runs user job */[m[43;13H[33mif[m (execve(argv[[31m0[m], argv, environ) < [31m0[m) {[44;17Hprintf([31m"[m[35m%s[m[31m: Command not found.[m[35m\n[m[31m"[m, argv[[31m0[m]);[45;17Hexit([31m0[m);[46;13H}[47;143H1,1[11CTop[1;1H[?25h[?25l[47;133H^[[1;1H[47;135H][1;1H[47;136H1[1;1H[47;137H1[1;1H[47;138H;[1;1H[47;133H      [1;1H[27m[23m[29m[m[H[2J[1;1H[1m[36m/* $begin shellmain */[m
[1m[34m#include [m[1m[35m"csapp.h"[m
[1m[34m#define MAXARGS   [m[1m[35m128[m

[1m[36m/* Function prototypes */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline);
[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv);
[1m[32mint[m builtin_command([1m[32mchar[m **argv);

[1m[32mint[m main()
{
    [1m[32mchar[m cmdline[MAXLINE]; [1m[36m/* Command line */[m[14;5H[1m[33mwhile[m ([1m[35m1[m) {[15;9H[1m[36m/* Read */[m[16;9Hprintf([1m[35m"> "[m);[17;9HFgets(cmdline, MAXLINE, [1m[35mstdin[m);[18;9H[1m[33mif[m (feof([1m[35mstdin[m))[19;13Hexit([1m[35m0[m);[21;9H[1m[36m/* Evaluate */[m[22;9Heval(cmdline);
    }
}
[1m[36m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline)
{
    [1m[32mchar[m *argv[MAXARGS]; [1m[36m/* Argument list execve() */[m
    [1m[32mchar[m buf[MAXLINE];   [1m[36m/* Holds modified command line */[m
    [1m[32mint[m bg;[14C[1m[36m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[1m[36m/* Process id */[m[36;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [1m[33mif[m (argv[[1m[35m0[m] == [1m[35mNULL[m)[39;9H[1m[33mreturn[m;   [1m[36m/* Ignore empty lines */[m[41;5H[1m[33mif[m (!builtin_command(argv)) {[42;9H[1m[33mif[m ((pid = Fork()) == [1m[35m0[m) {   [1m[36m/* Child runs user job */[m[43;13H[1m[33mif[m (execve(argv[[1m[35m0[m], argv, environ) < [1m[35m0[m) {[44;17Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m: Command not found.[m[1m[31m\n[m[1m[35m"[m, argv[[1m[35m0[m]);[45;17Hexit([1m[35m0[m);[46;13H}[47;143H1,1[11CTop"shellex.c" 106L, 2562C[1;1H[?25h[?25l[47;143H2[2;1H[?25h[?25l[47;143H3[3;1H[?25h[?25l[47;133H~@k[3;1H[47;133H   [4;1H[47;143H4,0-1[4;1H[?25h[?25l[47;143H5,1  [5;1H[?25h[?25l[47;143H6[6;1H[?25h[?25l[47;143H7[7;1H[?25h[?25l[47;143H8[8;1H[?25h[?25l[47;143H9,0-1[9;1H[?25h[?25l[47;133H~@k[9;1H[47;133H   [10;1H[47;143H10,1 [10;1H[?25h[?25l
[46m{[24;1H}[m[47;144H1[11;1H[?25h[?25l{[24;1H}[47;144H2[12;1H[?25h[?25l[47;133H~@k[12;1H[47;133H   [13;1H[47;144H3,0-1[13;1H[?25h[?25l[47;144H4,1  [14;1H[?25h[?25l[47;144H5,1-8[15;8H[?25h[?25l[47;133H~@k[15;8H[47;133H   [16;8H[47;144H6[16;8H[?25h[?25l[47;144H7[17;8H[?25h[?25l[47;144H8[18;8H[?25h[?25l[47;133H~@k[18;8H[47;133H   [19;8H[47;144H9[19;8H[?25h[?25l[47;143H20,0-1[20;1H[?25h[?25l[47;144H1,1-8[21;8H[?25h[?25l[47;133H~@k[21;8H[47;133H   [22;8H[47;144H2[22;8H[?25h[?25l[47;144H3,1  [23;1H[?25h[?25l[11;1H[46m{[24;1H}[m[47;144H4[24;1H[?25h[?25l[47;133H~@k[24;1H[47;133H   [25;1H[11;1H{[24;1H}[47;144H5[25;1H[?25h[?25l[47;144H6[26;1H[?25h[?25l[47;144H7[27;1H[?25h[?25l[47;144H8[28;1H[?25h[?25l[47;144H9[29;1H[?25h[?25l[47;143H30[30;1H[?25h[?25l[47;133H~@k[30;1H[47;133H   [31;1H[47;144H1[31;1H[?25h[?25l[47;144H2[32;1H[?25h[?25l[47;144H3[33;1H[?25h[?25l[47;133H~@k[33;1H[47;133H   [34;1H[47;144H4[34;1H[?25h[?25l[47;144H5[35;1H[?25h[?25l[47;144H6[36;1H[?25h[?25l[47;133H~@k[36;1H[47;133H   [37;1H[47;144H7[37;1H[?25h[?25l[47;144H8[38;1H[?25h[?25l[47;144H9,1-8[39;8H[?25h[?25l[47;133H~@k[39;8H[47;133H   [40;1H[47;143H40,0-1[40;1H[?25h[?25l[47;144H1,1  [41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;9H}[47;1H[K[47;143H42,1[11C1%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;1H[1;46r[46;1H
[1;47r[47;143H[K[47;143H43,1[11C3%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;9H[1m[36m/* Parent waits for foreground job to terminate */[m[47;143H[K[47;143H44,1[11C5%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;9H[1m[33mif[m (!bg) {[47;143H[K[47;143H45,1[11C6%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;13H[1m[32mint[m status;[47;143H[K[47;143H46,1[11C8%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;13H[1m[33mif[m (waitpid(pid, &status, [1m[35m0[m) < [1m[35m0[m)[47;143H[K[47;143H47,1[10C10%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;17Hunix_error([1m[35m"waitfg: waitpid error"[m);[47;143H[K[47;143H48,0-1[8C11%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;8H[1;46r[46;1H
[1;47r[46;9H}[47;143H[K[47;143H49,1-8[8C13%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[46;9H[1m[33melse[m[47;143H[K[47;143H50,1-8[8C15%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[46;13Hprintf([1m[35m"[m[1m[31m%d[m[1m[35m [m[1m[31m%s[m[1m[35m"[m, pid, cmdline);[47;143H[K[47;143H51,1-8[8C16%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[46;5H}[47;143H[K[47;143H52,1-8[8C18%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[46;5H[1m[33mreturn[m;[47;143H[K[47;143H53,1-8[8C20%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[46;1H}[47;143H[K[47;143H54,1-8[8C21%[41;8H[?25h[?25l[47;133H~@k[41;8H[47;133H   [41;8H[1;46r[46;1H
[1;47r[47;143H[K[47;143H55,1-8[8C23%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[46;1H[1m[36m/* If first arg is a builtin command, run it and return true */[m[47;143H[K[47;143H56,1-8[8C25%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[46;1H[1m[32mint[m builtin_command([1m[32mchar[m **argv)[47;143H[K[47;143H57,1[10C26%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;1H[1;46r[46;1H
[1;47r[46;1H{[47;143H[K[47;143H58,1[10C28%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[12;1H[46m{[41;1H}[m[46;5H[1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"quit"[m)) [1m[36m/* quit command */[m[47;143H[K[47;143H59,1[10C30%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[11;1H{[40;1H}[46;9Hexit([1m[35m0[m);[47;143H[K[47;143H60,0-1[8C31%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;5H[1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[47;143H[K[47;143H61,1[10C33%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;9H[1m[33mreturn[m [1m[35m1[m;[47;143H[K[47;143H62,1[10C35%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;5H[1m[33mreturn[m [1m[35m0[m;[21C[1m[36m/* Not a builtin command */[m[47;143H[K[47;143H63,1[10C36%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;1H[1;46r[46;1H
[1;47r[46;1H}[47;143H[K[47;143H64,1[10C38%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;1H[1m[36m/* $end eval */[m[47;143H[K[47;143H65,1-8[8C40%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[47;143H[K[47;143H66,1[10C41%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;1H[1m[36m/* $begin parseline */[m[47;143H[K[47;143H67,1-8[8C43%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[46;1H[1m[36m/* parseline - Parse the command line and build the argv array */[m[47;143H[K[47;143H68,1[10C45%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[35;1H[46m{[41;1H}[m[46;1H[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv)[47;143H[K[47;143H69,1[10C46%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;1H[1;46r[46;1H
[1;47r[34;1H{[40;1H}[46;1H{[47;143H[K[47;143H70,1[10C48%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;5H[1m[32mchar[m *delim;[9C[1m[36m/* Points to first space delimiter */[m[47;143H[K[47;143H71,0-1[8C50%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;5H[1m[32mint[m argc;[12C[1m[36m/* Number of args */[m[47;143H[K[47;143H72,1[10C51%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;1H[1;46r[46;1H
[1;47r[46;5H[1m[32mint[m bg;[14C[1m[36m/* Background job? */[m[47;143H[K[47;143H73,1[10C53%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[47;143H[K[47;143H74,1[10C55%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;5Hbuf[strlen(buf)-[1m[35m1[m] = [1m[35m' '[m;  [1m[36m/* Replace trailing '\n' with space */[m[47;143H[K[47;143H75,1[10C56%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;5H[1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore leading spaces */[m[47;143H[K[47;143H76,1[10C58%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;9Hbuf++;[47;143H[K[47;143H77,1[10C60%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[47;143H[K[47;143H78,1[10C61%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;1H[1;46r[46;1H
[1;47r[46;5H[1m[36m/* Build the argv list */[m[47;143H[K[47;143H79,0-1[8C63%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;5Hargc = [1m[35m0[m;[47;143H[K[47;143H80,1[10C65%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;5H[1m[33mwhile[m ((delim = strchr(buf, [1m[35m' '[m))) {[47;143H[K[47;143H81,1[10C66%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;9Hargv[argc++] = buf;[47;143H[K[47;143H82,1-8[8C68%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[46;9H*delim = [1m[31m'\0'[m;[47;143H[K[47;143H83,0-1[8C70%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;9Hbuf = delim + [1m[35m1[m;[47;143H[K[47;143H84,1[10C71%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;1H[1;46r[46;1H
[1;47r[46;9H[1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore spaces */[m[47;143H[K[47;143H85,1[10C73%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;13Hbuf++;[47;143H[K[47;143H86,1[10C75%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;5H}[47;143H[K[47;143H87,1-8[8C76%[41;8H[?25h[?25l[47;133H~@k[41;8H[47;133H   [41;8H[1;46r[46;1H
[1;47r[46;5Hargv[argc] = [1m[35mNULL[m;[47;143H[K[47;143H88,1-8[8C78%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[47;143H[K[47;143H89,1-8[8C80%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[46;5H[1m[33mif[m (argc == [1m[35m0[m)  [1m[36m/* Ignore blank line */[m[47;143H[K[47;143H90,1-8[8C81%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[46;9H[1m[33mreturn[m [1m[35m1[m;[47;143H[K[47;143H91,1[10C83%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[47;143H[K[47;143H92,1[10C85%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;5H[1m[36m/* Should the job run in the background? */[m[47;143H[K[47;143H93,1[10C86%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;1H[1;46r[46;1H
[1;47r[46;5H[1m[33mif[m ((bg = (*argv[argc-[1m[35m1[m] == [1m[35m'&'[m)) != [1m[35m0[m)[47;143H[K[47;143H94,1[10C88%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;9Hargv[--argc] = [1m[35mNULL[m;[47;143H[K[47;143H95,1[10C90%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[47;143H[K[47;143H96,1-8[8C91%[41;8H[?25h[?25l[47;133H~@k[41;8H[47;133H   [41;1H[1;46r[46;1H
[1;47r[46;5H[1m[33mreturn[m bg;[47;143H[K[47;143H97,0-1[8C93%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;1H}[47;143H[K[47;143H98,1[10C95%[41;1H[?25h[?25l[1;46r[46;1H
[1;47r[46;1H[1m[36m/* $end parseline */[m[47;143H[K[47;143H99,1[10C96%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;8H[1;46r[46;1H
[1;47r[47;143H[K[47;143H100,1-8[7C98%[41;8H[?25h[?25l[1;46r[46;1H
[1;47r[47;143H[K[47;143H101,0-1[7CBot[41;1H[?25h[?25l[47;145H2,1  [42;1H[?25h[?25l[47;133H~@k[42;1H[47;133H   [43;1H[15;1H[46m{[43;1H}[m[47;145H3[43;1H[?25h[?25l[15;1H{[43;1H}[47;145H4[44;1H[?25h[?25l[47;145H5,0-1[45;1H[?25h[?25l[47;133H~@k[45;1H[47;133H   [46;1H[47;145H6[46;1H[?25h[?25l[47;133H~@k[46;1H[47;133H   [46;1H[?25h[?25l[47;133H~@k[46;1H[47;133H   [46;1H[?25h[?25l[47;133H~@k[46;1H[47;133H   [46;1H[?25h[?25l[47;133H~@k[46;1H[47;133H   [46;1H[?25h[?25l[47;133H~@k[46;1H[47;133H   [46;1H[?25h[?25l[47;133H^[[46;1H[47;133H  [46;1H[47;133H^[[46;1H[47;133H  [46;1H[?25h[?25l[47;133H^[[46;1H[47;133H  [46;1H[47;133H^[[46;1H[47;133H  [46;1H[?25h[?25l[47;133H:[46;1H[47;133H[K[47;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[47;3H[K[47;3H[?25h[?25l[47;2H[K[47;2H[?25hq[?25l[?25h![?25l[?25h[?25l[?2004l[47;1H[K[47;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ make shellex [K
gcc -o shellex shellex.c csapp.c -lpthread
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ ./shellex 
> ls
ls: Command not found.
> cat sh	ellex.c
cat: Command not found.
> /bin/ls
Makefile  MySession.txt  csapp.c  csapp.h  fork  fork.c  forkfun  forkfun.c  shellex  shellex.c
> /bin/cat sh	el	le	x.c
/* $begin shellmain */
#include "csapp.h"
#define MAXARGS   128

/* Function prototypes */
void eval(char *cmdline);
int parseline(char *buf, char **argv);
int builtin_command(char **argv); 

int main() 
{
    char cmdline[MAXLINE]; /* Command line */

    while (1) {
	/* Read */
	printf("> ");                   
	Fgets(cmdline, MAXLINE, stdin); 
	if (feof(stdin))
	    exit(0);

	/* Evaluate */
	eval(cmdline);
    } 
}
/* $end shellmain */
  
/* $begin eval */
/* eval - Evaluate a command line */
void eval(char *cmdline) 
{
    char *argv[MAXARGS]; /* Argument list execve() */
    char buf[MAXLINE];   /* Holds modified command line */
    int bg;              /* Should the job run in bg or fg? */
    pid_t pid;           /* Process id */
    
    strcpy(buf, cmdline);
    bg = parseline(buf, argv); 
    if (argv[0] == NULL)  
	return;   /* Ignore empty lines */

    if (!builtin_command(argv)) { 
        if ((pid = Fork()) == 0) {   /* Child runs user job */
            if (execve(argv[0], argv, environ) < 0) {
                printf("%s: Command not found.\n", argv[0]);
                exit(0);
            }
        }

	/* Parent waits for foreground job to terminate */
	if (!bg) {
	    int status;
	    if (waitpid(pid, &status, 0) < 0)
		unix_error("waitfg: waitpid error");
	}
	else
	    printf("%d %s", pid, cmdline);
    }
    return;
}

/* If first arg is a builtin command, run it and return true */
int builtin_command(char **argv) 
{
    if (!strcmp(argv[0], "quit")) /* quit command */
	exit(0);  
    if (!strcmp(argv[0], "&"))    /* Ignore singleton & */
	return 1;
    return 0;                     /* Not a builtin command */
}
/* $end eval */

/* $begin parseline */
/* parseline - Parse the command line and build the argv array */
int parseline(char *buf, char **argv) 
{
    char *delim;         /* Points to first space delimiter */
    int argc;            /* Number of args */
    int bg;              /* Background job? */

    buf[strlen(buf)-1] = ' ';  /* Replace trailing '\n' with space */
    while (*buf && (*buf == ' ')) /* Ignore leading spaces */
	buf++;

    /* Build the argv list */
    argc = 0;
    while ((delim = strchr(buf, ' '))) {
	argv[argc++] = buf;
	*delim = '\0';
	buf = delim + 1;
	while (*buf && (*buf == ' ')) /* Ignore spaces */
            buf++;
    }
    argv[argc] = NULL;
    
    if (argc == 0)  /* Ignore blank line */
	return 1;

    /* Should the job run in the background? */
    if ((bg = (*argv[argc-1] == '&')) != 0)
	argv[--argc] = NULL;

    return bg;
}
/* $end parseline */


> quit
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim shellex.c
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;47r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[47;1H"shellex.c" 106L, 2562C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m/* If first arg is a builtin command, run it and return true */[m
[32mint[m builtin_command([32mchar[m **argv)
{
    [33mif[m (!strcmp(argv[[31m0[m], [31m"quit"[m)) [34m/* quit command */[m[5;9Hexit([31m0[m);
    [33mif[m (!strcmp(argv[[31m0[m], [31m"&"[m))    [34m/* Ignore singleton & */[m[7;9H[33mreturn[m [31m1[m;
    [33mreturn[m [31m0[m;[21C[34m/* Not a builtin command */[m
}
[34m/* $end eval */

/* $begin parseline */
/* parseline - Parse the command line and build the argv array */[m
[32mint[m parseline([32mchar[m *buf, [32mchar[m **argv)
{
    [32mchar[m *delim;[9C[34m/* Points to first space delimiter */[m
    [32mint[m argc;[12C[34m/* Number of args */[m
    [32mint[m bg;[14C[34m/* Background job? */[m[20;5Hbuf[strlen(buf)-[31m1[m] = [31m' '[m;  [34m/* Replace trailing '\n' with space */[m
    [33mwhile[m (*buf && (*buf == [31m' '[m)) [34m/* Ignore leading spaces */[m[22;9Hbuf++;[24;5H[34m/* Build the argv list */[m
    argc = [31m0[m;
    [33mwhile[m ((delim = strchr(buf, [31m' '[m))) {[27;9Hargv[argc++] = buf;[28;9H*delim = [35m'\0'[m;[29;9Hbuf = delim + [31m1[m;[30;9H[33mwhile[m (*buf && (*buf == [31m' '[m)) [34m/* Ignore spaces */[m[31;13Hbuf++;
    }
    argv[argc] = [31mNULL[m;[35;5H[33mif[m (argc == [31m0[m)  [34m/* Ignore blank line */[m[36;9H[33mreturn[m [31m1[m;[38;5H[34m/* Should the job run in the background? */[m
    [33mif[m ((bg = (*argv[argc-[31m1[m] == [31m'&'[m)) != [31m0[m)[40;9Hargv[--argc] = [31mNULL[m;[42;5H[33mreturn[m bg;
}
[34m/* $end parseline */[m[47;143H106,0-1[7CBot[46;1H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[1m[36m/* If first arg is a builtin command, run it and return true */[m
[1m[32mint[m builtin_command([1m[32mchar[m **argv)
{
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"quit"[m)) [1m[36m/* quit command */[m[5;9Hexit([1m[35m0[m);
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[7;9H[1m[33mreturn[m [1m[35m1[m;
    [1m[33mreturn[m [1m[35m0[m;[21C[1m[36m/* Not a builtin command */[m
}
[1m[36m/* $end eval */

/* $begin parseline */
/* parseline - Parse the command line and build the argv array */[m
[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv)
{
    [1m[32mchar[m *delim;[9C[1m[36m/* Points to first space delimiter */[m
    [1m[32mint[m argc;[12C[1m[36m/* Number of args */[m
    [1m[32mint[m bg;[14C[1m[36m/* Background job? */[m[20;5Hbuf[strlen(buf)-[1m[35m1[m] = [1m[35m' '[m;  [1m[36m/* Replace trailing '\n' with space */[m
    [1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore leading spaces */[m[22;9Hbuf++;[24;5H[1m[36m/* Build the argv list */[m
    argc = [1m[35m0[m;
    [1m[33mwhile[m ((delim = strchr(buf, [1m[35m' '[m))) {[27;9Hargv[argc++] = buf;[28;9H*delim = [1m[31m'\0'[m;[29;9Hbuf = delim + [1m[35m1[m;[30;9H[1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore spaces */[m[31;13Hbuf++;
    }
    argv[argc] = [1m[35mNULL[m;[35;5H[1m[33mif[m (argc == [1m[35m0[m)  [1m[36m/* Ignore blank line */[m[36;9H[1m[33mreturn[m [1m[35m1[m;[38;5H[1m[36m/* Should the job run in the background? */[m
    [1m[33mif[m ((bg = (*argv[argc-[1m[35m1[m] == [1m[35m'&'[m)) != [1m[35m0[m)[40;9Hargv[--argc] = [1m[35mNULL[m;[42;5H[1m[33mreturn[m bg;
}
[1m[36m/* $end parseline */[m[47;143H106,0-1[7CBot"shellex.c" 106L, 2562C[46;1H[?25h[?25l[47;133H~@k[46;1H[47;133H   [45;1H[47;145H5[45;1H[?25h[?25l[47;133H~@k[45;1H[47;133H   [44;1H[47;145H4,1  [44;1H[?25h[?25l[47;133H~@k[44;1H[47;133H   [43;1H[15;1H[46m{[43;1H}[m[47;145H3[43;1H[?25h[?25l[47;133H~@k[43;1H[47;133H   [42;1H[15;1H{[43;1H}[47;145H2[42;1H[?25h[?25l[47;133H~@k[42;1H[47;133H   [41;1H[47;145H1,0-1[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [40;8H[47;145H0,1-8[40;8H[?25h[?25l[47;133H~@k[40;8H[47;133H   [39;1H[47;143H99,1   [39;1H[?25h[?25l[47;133H~@k[39;1H[47;133H   [38;1H[47;144H8[38;1H[?25h[?25l[47;133H~@k[38;1H[47;133H   [37;1H[47;144H7,0-1[37;1H[?25h[?25l[47;133H~@k[37;1H[47;133H   [36;8H[47;144H6,1-8[36;8H[?25h[?25l[47;133H~@k[36;8H[47;133H   [35;1H[47;144H5,1  [35;1H[?25h[?25l[47;133H~@k[35;1H[47;133H   [34;1H[47;144H4[34;1H[?25h[?25l[47;133H~@k[34;1H[47;133H   [33;1H[47;144H3[33;1H[?25h[?25l[47;133H~@k[33;1H[47;133H   [32;1H[47;144H2[32;1H[?25h[?25l[47;133H~@k[32;1H[47;133H   [31;1H[47;144H1[31;1H[?25h[?25l[47;133H~@k[31;1H[47;133H   [30;8H[47;144H0,1-8[30;8H[?25h[?25l[47;133H~@k[30;8H[47;133H   [29;8H[47;143H89[29;8H[?25h[?25l[47;133H~@k[29;8H[47;133H   [28;8H[47;144H8[28;8H[?25h[?25l[47;133H~@k[28;8H[47;133H   [27;8H[47;144H7[27;8H[?25h[?25l[47;133H~@k[27;8H[47;133H   [26;1H[47;144H6,1  [26;1H[?25h[?25l[47;133H~@k[26;1H[47;133H   [25;1H[47;144H5[25;1H[?25h[?25l[47;133H~@k[25;1H[47;133H   [24;1H[47;144H4[24;1H[?25h[?25l[47;133H~@k[24;1H[47;133H   [23;1H[47;144H3,0-1[23;1H[?25h[?25l[47;133H~@k[23;1H[47;133H   [22;8H[47;144H2,1-8[22;8H[?25h[?25l[47;133H~@k[22;8H[47;133H   [21;1H[47;144H1,1  [21;1H[?25h[?25l[47;133H~@k[21;1H[47;133H   [20;1H[47;144H0[20;1H[?25h[?25l[47;133H~@k[20;1H[47;133H   [19;1H[47;143H79,0-1[19;1H[?25h[?25l[47;133H~@k[19;1H[47;133H   [18;1H[47;144H8,1  [18;1H[?25h[?25l[47;133H~@k[18;1H[47;133H   [17;1H[47;144H7[17;1H[?25h[?25l[47;133H~@k[17;1H[47;133H   [16;1H[47;144H6[16;1H[?25h[?25l[47;133H~@k[16;1H[47;133H   [15;1H[46m{[43;1H}[m[47;144H5[15;1H[?25h[?25l[47;133H~@k[15;1H[47;133H   [14;1H
{[43;1H}[47;144H4[14;1H[?25h[?25l[47;133H~@k[14;1H[47;133H   [13;1H[47;144H3[13;1H[?25h[?25l[47;133H~@k[13;1H[47;133H   [12;1H[47;144H2[12;1H[?25h[?25l[47;133H~@k[12;1H[47;133H   [11;1H[47;144H1,0-1[11;1H[?25h[?25l[47;133H~@k[11;1H[47;133H   [10;1H[47;144H0,1  [10;1H[?25h[?25l[47;133H~@k[10;1H[47;133H   [9;1H[3;1H[46m{[9;1H}[m[47;143H69[9;1H[?25h[?25l[47;133H~@k[9;1H[47;133H   [8;1H[3;1H{[9;1H}[47;144H8[8;1H[?25h[?25l[47;133H~@k[8;1H[47;133H   [7;8H[47;144H7,1-8[7;8H[?25h[?25l[47;133H~@k[7;8H[47;133H   [6;1H[47;144H6,1  [6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[47;1H[K[47;143H65,1-8[8C98%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H}[47;143H[K[47;143H64,1[10C96%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;5H[1m[33mreturn[m;[6;1H[46m{[12;1H}[m[47;143H[K[47;143H63,1[10C95%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;5H}[7;1H{[13;1H}[47;143H[K[47;143H62,1[10C93%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;13Hprintf([1m[35m"[m[1m[31m%d[m[1m[35m [m[1m[31m%s[m[1m[35m"[m, pid, cmdline);[47;143H[K[47;143H61,1[10C91%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;9H[1m[33melse[m[47;143H[K[47;143H60,0-1[8C90%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;9H}[47;143H[K[47;143H59,1[10C88%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;17Hunix_error([1m[35m"waitfg: waitpid error"[m);[47;143H[K[47;143H58,1[10C86%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;13H[1m[33mif[m (waitpid(pid, &status, [1m[35m0[m) < [1m[35m0[m)[47;143H[K[47;143H57,1[10C85%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;13H[1m[32mint[m status;[47;143H[K[47;143H56,1-8[8C83%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;9H[1m[33mif[m (!bg) {[47;143H[K[47;143H55,1-8[8C81%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;9H[1m[36m/* Parent waits for foreground job to terminate */[m[47;143H[K[47;143H54,1-8[8C80%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H53,1-8[8C78%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;9H}[47;143H[K[47;143H52,1-8[8C76%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;13H}[47;143H[K[47;143H51,1-8[8C75%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;17Hexit([1m[35m0[m);[47;143H[K[47;143H50,1-8[8C73%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;17Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m: Command not found.[m[1m[31m\n[m[1m[35m"[m, argv[[1m[35m0[m]);[47;143H[K[47;143H49,1-8[8C71%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;13H[1m[33mif[m (execve(argv[[1m[35m0[m], argv, environ) < [1m[35m0[m) {[47;143H[K[47;143H48,0-1[8C70%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;9H[1m[33mif[m ((pid = Fork()) == [1m[35m0[m) {   [1m[36m/* Child runs user job */[m[47;143H[K[47;143H47,1[10C68%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;5H[1m[33mif[m (!builtin_command(argv)) {[47;143H[K[47;143H46,1[10C66%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H45,1[10C65%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;9H[1m[33mreturn[m;   [1m[36m/* Ignore empty lines */[m[47;143H[K[47;143H44,1[10C63%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;5H[1m[33mif[m (argv[[1m[35m0[m] == [1m[35mNULL[m)[47;143H[K[47;143H43,1[10C61%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;5Hbg = parseline(buf, argv);[47;143H[K[47;143H42,1[10C60%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;5Hstrcpy(buf, cmdline);[47;143H[K[47;143H41,1[10C58%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H40,0-1[8C56%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;5Hpid_t pid;[11C[1m[36m/* Process id */[m[47;143H[K[47;143H39,1-8[8C55%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;5H[1m[32mint[m bg;[14C[1m[36m/* Should the job run in bg or fg? */[m[47;143H[K[47;143H38,1[10C53%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;5H[1m[32mchar[m buf[MAXLINE];   [1m[36m/* Holds modified command line */[m[47;143H[K[47;143H37,1[10C51%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;5H[1m[32mchar[m *argv[MAXARGS]; [1m[36m/* Argument list execve() */[m[47;143H[K[47;143H36,1[10C50%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H{[47;143H[K[47;143H35,1[10C48%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[32mvoid[m eval([1m[32mchar[m *cmdline)[47;143H[K[47;143H34,1[10C46%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[36m/* eval - Evaluate a command line */[m[47;143H[K[47;143H33,1[10C45%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[36m/* $begin eval */[m[47;143H[K[47;143H32,1[10C43%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H31,1[10C41%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[36m/* $end shellmain */[m[6;1H[46m{[35;1H}[m[47;143H[K[47;143H30,1[10C40%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H}[7;1H{[36;1H}[47;143H[K[47;143H29,1[10C38%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;5H}[47;143H[K[47;143H28,1[10C36%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;9Heval(cmdline);[47;143H[K[47;143H27,1[10C35%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;9H[1m[36m/* Evaluate */[m[47;143H[K[47;143H26,1[10C33%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H25,1[10C31%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;13Hexit([1m[35m0[m);[47;143H[K[47;143H24,1[10C30%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;9H[1m[33mif[m (feof([1m[35mstdin[m))[47;143H[K[47;143H23,1[10C28%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;9HFgets(cmdline, MAXLINE, [1m[35mstdin[m);[47;143H[K[47;143H22,1-8[8C26%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;9Hprintf([1m[35m"> "[m);[47;143H[K[47;143H21,1-8[8C25%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;9H[1m[36m/* Read */[m[47;143H[K[47;143H20,0-1[8C23%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;5H[1m[33mwhile[m ([1m[35m1[m) {[47;143H[K[47;143H19,1-8[8C21%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H18,1-8[8C20%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;5H[1m[32mchar[m cmdline[MAXLINE]; [1m[36m/* Command line */[m[47;143H[K[47;143H17,1-8[8C18%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;1H{[47;143H[K[47;143H16,1-8[8C16%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;8H[1;46r[1;1H[L[1;47r[1;1H[1m[32mint[m main()[47;143H[K[47;143H15,1-8[8C15%[6;8H[?25h[?25l[47;133H~@k[6;8H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H14,1[10C13%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[32mint[m builtin_command([1m[32mchar[m **argv);[47;143H[K[47;143H13,0-1[8C11%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv);[47;143H[K[47;143H12,1[10C10%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[32mvoid[m eval([1m[32mchar[m *cmdline);[6;1H[46m{[19;1H}[m[47;143H[K[47;143H11,1[11C8%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[36m/* Function prototypes */[m[7;1H{[20;1H}[47;143H[K[47;143H10,1[11C6%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H9,0-1[10C5%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[34m#define MAXARGS   [m[1m[35m128[m[47;143H[K[47;143H8,1[12C3%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[34m#include [m[1m[35m"csapp.h"[m[47;143H[K[47;143H7,1[12C1%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[36m/* $begin shellmain */[m[47;143H[K[47;143H6,1[11CTop[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [5;1H[47;143H5[5;1H[?25h[?25l[47;133H~@k[5;1H[47;133H   [4;1H[47;143H4,0-1[4;1H[?25h[?25l[47;133H~@k[4;1H[47;133H   [3;1H[47;143H3,1  [3;1H[?25h[?25l[47;133H~@k[3;1H[47;133H   [2;1H[47;143H2[2;1H[?25h[?25l[47;133H~@k[2;1H[47;133H   [1;1H[47;143H1[1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133H~@k[1;1H[47;133H   [1;1H[?25h[?25l[47;133Hi[1;1H[47;133H [1;1H[47;1H[1m-- INSERT --[m[47;143H[K[47;143H1,1[11CTop[1;1H[?25h[?25l[2;46r[2;1H[L[1;47r[1;1H[K[2;1H[1m[36m/* $begin shellmain */[m[47;143H[K[47;143H2,1[11CTop[2;1H[?25h[?25l[47;143H1[1;1H[?25h[?25l#[47;145H2[1;2H[?25h[?25ld[47;145H3[1;3H[?25h[?25le[47;145H4[1;4H[?25h[?25lf[47;145H5[1;5H[?25h[?25li[47;145H6[1;6H[?25h[?25ln[47;145H7[1;7H[?25h[?25l[1m[34m#define[m[47;145H8[1;8H[?25h[?25l[1m[34m [m[47;145H9[1;9H[?25h[?25l[1m[34mG[m[47;145H10[1;10H[?25h[?25l[1;9H[K[47;145H9 [1;9H[?25h[?25l[1m[34m_[m[47;145H10[1;10H[?25h[?25l[1m[34mG[m[47;146H1[1;11H[?25h[?25l[1m[34mN[m[47;146H2[1;12H[?25h[?25l[1m[34mU[m[47;146H3[1;13H[?25h[?25l[1m[34m_[m[47;146H4[1;14H[?25h[?25l[1m[34mS[m[47;146H5[1;15H[?25h[?25l[1m[34mO[m[47;146H6[1;16H[?25h[?25l[1m[34mU[m[47;146H7[1;17H[?25h[?25l[1m[34mR[m[47;146H8[1;18H[?25h[?25l[1m[34mC[m[47;146H9[1;19H[?25h[?25l[1m[34mE[m[47;145H20[1;20H[?25h[47;1H[K[1;19H[?25l[47;133H^[[1;19H[47;133H  [1;20H[47;143H1,19[10CTop[1;19H[?25h[?25l[47;133H~@k[1;19H[47;133H   [2;19H[47;143H2[2;19H[?25h[?25l[47;133H\[2;19H[47;133H [2;19H[?25h[?25l[47;133H/[2;19H[47;133H[K[47;1H/[?2004h[?25he[?25l[3;8H[1m[7m[34me[m[1m[34m [m[1m[35m"csapp.h"[m[47;143H3,8[11CTop[47;143H[K[47;3H[?25hx[?25l[3;8H[1m[34me [m[1m[35m"csapp.h"[m[20;13H[7mex[m[47;143H20,6-13[7CTop[47;143H[K[47;4H[?25he[?25l[20;13Hex[32;43H[1m[7m[36mexe[m[1m[36mcve() */[m[47;143H32,43[9CTop[47;143H[K[47;5H[?25hc[?25l[32;46H[1m[7m[36mc[m[1m[36mve() */[m[47;143H32,43[9CTop[47;143H[K[47;6H[?25h[?25l[32;43H[1m[36mexecve() */[m[47;143H32,43[9CTop[32;43H[?25h[?25l[47;133H^M[32;43H[47;133H  [33;5H[47;144H3,5 [33;5H[?25h[?25l[47;133H^M[33;5H[47;133H  [34;5H[47;144H4[34;5H[?25h[?25l[47;133H^M[34;5H[47;133H  [35;5H[47;144H5[35;5H[?25h[?25l[47;133H\[35;5H[47;133H [35;5H[?25h[?25l[47;133H/[35;5H[47;1H[K[47;1H/[?2004h[?25he[?25l[35;33H[1m[7m[36me[m[1m[36mss id */[m[47;143H35,33[9CTop[47;143H[K[47;3H[?25hx[?25l[1;46r[1;1H[3M[1;47r[32;33H[1m[36mess id */[m[41;17H[7mex[m[44;13H}[45;9H}[47;1H[K[47;143H44,17[10C4%/ex[47;143H[K[47;4H[?25he[?25l[41;19H[7me[m[47;143H44,17[10C4%[47;143H[K[47;5H[?25hc[?25l[41;20H[7mc[m[47;143H44,17[10C4%[47;143H[K[47;6H[?25hv[?25l[41;21H[7mv[m[47;143H44,17[10C4%[47;143H[K[47;7H[?25he[?25l[41;22H[7me[m[47;143H44,17[10C4%[47;143H[K[47;8H[?25h[?25l[41;17Hexecve[47;143H44,17[10C4%[41;17H[?25h[?25l[47;133H~@k[41;17H[47;133H   [41;18H[47;147H8[41;18H[?25h[?25l[47;133Hi[41;18H[47;133H [41;18H[47;1H[1m-- INSERT --[m[47;143H[K[47;143H44,18[10C4%[41;18H[?25h[?25l[47;147H9[41;19H[?25h[?25l[47;146H20[41;20H[?25h[?25l[47;147H1[41;21H[?25h[?25l[47;147H2[41;22H[?25h[?25le[46m([22C)[m[47;147H3[41;23H[?25h[?25l([22C)[47;147H2[41;22H[?25h[?25lpe(argv[[1m[35m0[m], argv, environ) < [1m[35m0[m) {[47;147H3[41;23H[?25h[47;1H[K[41;22H[?25l[47;133H^[[41;22H[47;133H  [41;23H[47;143H44,22[10C4%[41;22H[?25h[?25l[47;133H/[41;22H[47;133H[K[47;1H/[?2004h[?25he[?25l[41;23H[7me[m[47;143H44,23[10C4%[47;143H[K[47;3H[?25hx[?25l[1;46r[1;1H[2M[1;47r[39;23He[41;17H[7mex[m[45;9H[1m[36m/* Parent waits for foreground job to terminate */[m[46;9H[1m[33mif[m (!bg) {[47;1H[K[47;143H46,17[10C8%/ex[47;143H[K[47;4H[?25he[?25l[1;46r[1;1H[2L[1;47r[1;1H[1m[34m#define MAXARGS   [m[1m[35m128[m[29;43H[1m[7m[36mexe[m[1m[36mcve() */[m[43;17Hex[47;1H[K[47;143H32,43[10C4%/exe[47;143H[K[47;5H[?25hc[?25l[29;46H[1m[7m[36mc[m[1m[36mve() */[m[47;143H32,43[10C4%[47;143H[K[47;6H[?25hv[?25l[29;47H[1m[7m[36mv[m[1m[36me() */[m[47;143H32,43[10C4%[47;143H[K[47;7H[?25he[?25l[29;48H[1m[7m[36me[m[1m[36m() */[m[47;143H32,43[10C4%[47;143H[K[47;8H[?25h[1m[34m^I[?25l[m[29;43H[1m[36mexecve() */[m[47;143H44,22[10C4%[47;143H[K[47;10H[?25h[?25l[47;8H[K[29;43H[1m[7m[36mexecve[m[1m[36m() */[m[47;143H32,43[10C4%[47;143H[K[47;8H[?25h[?25l[47;1H[K[41;22H[29;43H[1m[36mexecve() */[m[47;143H44,22[10C4%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;9H[1m[36m/* Parent waits for foreground job to terminate */[m[47;143H[K[47;143H45,22[10C6%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;9H[1m[33mif[m (!bg) {[47;143H[K[47;143H46,22[10C8%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;13H[1;46r[46;1H
[1;47r[38;54H[46m{[41;13H}[m[46;13H[1m[32mint[m status;[47;143H[K[47;143H47,13[10C9%[41;13H[?25h[?25l[47;133H~@k[41;13H[47;133H   [41;9H[1;46r[46;1H
[1;47r[36;34H[46m{[m[37;54H{[40;13H}[41;9H[46m}[m[46;13H[1m[33mif[m (waitpid(pid, &status, [1m[35m0[m) < [1m[35m0[m)[47;143H[K[47;143H48,9[10C11%[41;9H[?25h[?25l[47;133H~@k[41;9H[47;133H   [41;1H[1;46r[46;1H
[1;47r[35;34H{[40;9H}[46;17Hunix_error([1m[35m"waitfg: waitpid error"[m);[47;143H[K[47;143H49,0-1[8C13%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;9H}[47;143H[K[47;143H50,15-22      14%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;18H[1;46r[46;1H
[1;47r[41;18H[46m{[45;9H}[m[46;9H[1m[33melse[m[47;143H[K[47;143H51,11-18      16%[41;18H[?25h[?25l[47;133H~@k[41;18H[47;133H   [41;22H[1;46r[46;1H
[1;47r[40;18H{[44;9H}[46;13Hprintf([1m[35m"[m[1m[31m%d[m[1m[35m [m[1m[31m%s[m[1m[35m"[m, pid, cmdline);[47;143H[K[47;143H52,15-22      18%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;5H}[47;143H[K[47;143H53,15-22      19%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;5H[1m[33mreturn[m;[47;143H[K[47;143H54,8-22[7C21%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;9H[1;46r[46;1H
[1;47r[37;18H[46m{[41;9H}[m[46;1H}[47;143H[K[47;143H55,2-9[8C22%[41;9H[?25h[?25l[47;133H~@k[41;9H[47;133H   [41;12H[1;46r[46;1H
[1;47r[36;18H{[40;9H}[47;143H[K[47;143H56,5-12[7C24%[41;12H[?25h[?25l[47;133H~@k[41;12H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;1H[1m[36m/* If first arg is a builtin command, run it and return true */[m[47;143H[K[47;143H57,15-22      26%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;5H[1;46r[46;1H
[1;47r[25;33H[46m{[41;5H}[m[46;1H[1m[32mint[m builtin_command([1m[32mchar[m **argv)[47;143H[K[47;143H58,5[10C27%[41;5H[?25h[?25l[47;133H~@k[41;5H[47;133H   [41;11H[1;46r[46;1H
[1;47r[24;33H{[40;5H}[46;1H{[47;143H[K[47;143H59,11[9C29%[41;11H[?25h[?25l[47;133H~@k[41;11H[47;133H   [41;1H[1;46r[46;1H
[1;47r[12;1H[46m{[41;1H}[m[46;5H[1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"quit"[m)) [1m[36m/* quit command */[m[47;143H[K[47;143H60,1[10C31%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;1H[1;46r[46;1H
[1;47r[11;1H{[40;1H}[46;9Hexit([1m[35m0[m);[47;143H[K[47;143H61,0-1[8C32%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;5H[1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[47;143H[K[47;143H62,22[9C34%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;9H[1m[33mreturn[m [1m[35m1[m;[47;143H[K[47;143H63,22[9C36%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;1H[1;46r[46;1H
[1;47r[46;5H[1m[33mreturn[m [1m[35m0[m;[21C[1m[36m/* Not a builtin command */[m[47;143H[K[47;143H64,1[10C37%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;1H}[47;143H[K[47;143H65,22[9C39%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;18H[1;46r[46;1H
[1;47r[46;1H[1m[36m/* $end eval */[m[47;143H[K[47;143H66,11-18      40%[41;18H[?25h[?25l[47;133H~@k[41;18H[47;133H   [41;22H[1;46r[46;1H
[1;47r[47;143H[K[47;143H67,22[9C42%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;17H[1;46r[46;1H
[1;47r[46;1H[1m[36m/* $begin parseline */[m[47;143H[K[47;143H68,10-17      44%[41;17H[?25h[?25l[47;133H~@k[41;17H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;1H[1m[36m/* parseline - Parse the command line and build the argv array */[m[47;143H[K[47;143H69,22[9C45%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;1H[1;46r[46;1H
[1;47r[35;1H[46m{[41;1H}[m[46;1H[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv)[47;143H[K[47;143H70,1[10C47%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;15H[1;46r[46;1H
[1;47r[34;1H{[40;1H}[46;1H{[47;143H[K[47;143H71,15[9C49%[41;15H[?25h[?25l[47;133H~@k[41;15H[47;133H   [41;1H[1;46r[46;1H
[1;47r[46;5H[1m[32mchar[m *delim;[9C[1m[36m/* Points to first space delimiter */[m[47;143H[K[47;143H72,0-1[8C50%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;5H[1m[32mint[m argc;[12C[1m[36m/* Number of args */[m[47;143H[K[47;143H73,22[9C52%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;5H[1m[32mint[m bg;[14C[1m[36m/* Background job? */[m[47;143H[K[47;143H74,22[9C54%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[47;143H[K[47;143H75,22[9C55%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;1H[1;46r[46;1H
[1;47r[46;5Hbuf[strlen(buf)-[1m[35m1[m] = [1m[35m' '[m;  [1m[36m/* Replace trailing '\n' with space */[m[47;143H[K[47;143H76,1[10C57%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;5H[1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore leading spaces */[m[47;143H[K[47;143H77,22[9C59%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;9Hbuf++;[47;143H[K[47;143H78,22[9C60%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[47;143H[K[47;143H79,22[9C62%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;1H[1;46r[46;1H
[1;47r[46;5H[1m[36m/* Build the argv list */[m[47;143H[K[47;143H80,0-1[8C63%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;22H[1;46r[46;1H
[1;47r[41;8H[46m[[13C][m[46;5Hargc = [1m[35m0[m;[47;143H[K[47;143H81,22[9C65%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[40;8H[[13C][46;5H[1m[33mwhile[m ((delim = strchr(buf, [1m[35m' '[m))) {[47;143H[K[47;143H82,22[9C67%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;14H[1;46r[46;1H
[1;47r[46;9Hargv[argc++] = buf;[47;143H[K[47;143H83,7-14[7C68%[41;14H[?25h[?25l[47;133H~@k[41;14H[47;133H   [41;1H[1;46r[46;1H
[1;47r[46;9H*delim = [1m[31m'\0'[m;[47;143H[K[47;143H84,0-1[8C70%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;9Hbuf = delim + [1m[35m1[m;[47;143H[K[47;143H85,22[9C72%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;13H[1;46r[46;1H
[1;47r[46;9H[1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore spaces */[m[47;143H[K[47;143H86,13[9C73%[41;13H[?25h[?25l[47;133H~@k[41;13H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;13Hbuf++;[47;143H[K[47;143H87,22[9C75%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;5H}[47;143H[K[47;143H88,15-22      77%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;5Hargv[argc] = [1m[35mNULL[m;[47;143H[K[47;143H89,15-22      78%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[47;143H[K[47;143H90,15-22      80%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;5H[1m[33mif[m (argc == [1m[35m0[m)  [1m[36m/* Ignore blank line */[m[47;143H[K[47;143H91,15-22      81%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;18H[1;46r[46;1H
[1;47r[46;9H[1m[33mreturn[m [1m[35m1[m;[47;143H[K[47;143H92,18[9C83%[41;18H[?25h[?25l[47;133H~@k[41;18H[47;133H   [41;5H[1;46r[46;1H
[1;47r[35;40H[46m{[41;5H}[m[47;143H[K[47;143H93,5[10C85%[41;5H[?25h[?25l[47;133H~@k[41;5H[47;133H   [41;22H[1;46r[46;1H
[1;47r[34;40H{[40;5H}[46;5H[1m[36m/* Should the job run in the background? */[m[47;143H[K[47;143H94,22[9C86%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;4H[1;46r[46;1H
[1;47r[46;5H[1m[33mif[m ((bg = (*argv[argc-[1m[35m1[m] == [1m[35m'&'[m)) != [1m[35m0[m)[47;143H[K[47;143H95,4[10C88%[41;4H[?25h[?25l[47;133H~@k[41;4H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;9Hargv[--argc] = [1m[35mNULL[m;[47;143H[K[47;143H96,22[9C90%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;17H[1;46r[46;1H
[1;47r[47;143H[K[47;143H97,10-17      91%[41;17H[?25h[?25l[47;133H~@k[41;17H[47;133H   [41;1H[1;46r[46;1H
[1;47r[46;5H[1m[33mreturn[m bg;[47;143H[K[47;143H98,0-1[8C93%[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;1H}[47;143H[K[47;143H99,22[9C95%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[46;1H[1m[36m/* $end parseline */[m[47;143H[K[47;143H100,22[8C96%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;22H[1;46r[46;1H
[1;47r[47;143H[K[47;143H101,15-22     98%[41;22H[?25h[?25l[47;133H~@k[41;22H[47;133H   [41;1H[1;46r[46;1H
[1;47r[47;143H[K[47;143H102,0-1[7CBot[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [42;14H[47;145H3,14 [42;14H[?25h[?25l[47;133H~@k[42;14H[47;133H   [43;1H[15;1H[46m{[43;1H}[m[47;145H4,1 [43;1H[?25h[?25l[47;133H~@k[43;1H[47;133H   [44;20H[15;1H{[43;1H}[47;145H5,20[44;20H[?25h[?25l[47;133H~@k[44;20H[47;133H   [45;1H[47;145H6,0-1[45;1H[?25h[?25l[47;133H~@k[45;1H[47;133H   [46;1H[47;145H7[46;1H[?25h[?25l[47;133H~@k[46;1H[47;133H   [46;1H[?25h[?25l[47;133H~@k[46;1H[47;133H   [45;1H[47;145H6[45;1H[?25h[?25l[47;133H~@k[45;1H[47;133H   [44;20H[47;145H5,20 [44;20H[?25h[?25l[47;133H~@k[44;20H[47;133H   [43;1H[15;1H[46m{[43;1H}[m[47;145H4,1 [43;1H[?25h[?25l[47;133H~@k[43;1H[47;133H   [42;14H[15;1H{[43;1H}[47;145H3,14[42;14H[?25h[?25l[47;133H~@k[42;14H[47;133H   [41;1H[47;145H2,0-1[41;1H[?25h[?25l[47;133H~@k[41;1H[47;133H   [40;22H[47;145H1,15-22[40;22H[?25h[?25l[47;133H~@k[40;22H[47;133H   [39;22H[47;145H0,22   [39;22H[?25h[?25l[47;133H~@k[39;22H[47;133H   [38;22H[47;143H99,22 [38;22H[?25h[?25l[47;133H~@k[38;22H[47;133H   [37;1H[47;144H8,0-1[37;1H[?25h[?25l[47;133H~@k[37;1H[47;133H   [36;17H[47;144H7,10-17[36;17H[?25h[?25l[47;133H~@k[36;17H[47;133H   [35;22H[47;144H6,22   [35;22H[?25h[?25l[47;133H~@k[35;22H[47;133H   [34;4H[47;144H5,4 [34;4H[?25h[?25l[47;133H~@k[34;4H[47;133H   [33;22H[47;144H4,22[33;22H[?25h[?25l[47;133H~@k[33;22H[47;133H   [32;5H[26;40H[46m{[32;5H}[m[47;144H3,5 [32;5H[?25h[?25l[47;133H~@k[32;5H[47;133H   [31;18H[26;40H{[32;5H}[47;144H2,18[31;18H[?25h[?25l[47;133H~@k[31;18H[47;133H   [30;22H[47;144H1,15-22[30;22H[?25h[?25l[47;133H~@k[30;22H[47;133H   [29;22H[47;144H0[29;22H[?25h[?25l[47;133H~@k[29;22H[47;133H   [28;22H[47;143H89[28;22H[?25h[?25l[47;133H~@k[28;22H[47;133H   [27;22H[47;144H8[27;22H[?25h[?25l[47;133H~@k[27;22H[47;133H   [26;22H[47;144H7,22   [26;22H[?25h[?25l[47;133H~@k[26;22H[47;133H   [25;13H[47;144H6,13[25;13H[?25h[?25l[47;133H~@k[25;13H[47;133H   [24;22H[47;144H5,22[24;22H[?25h[?25l[47;133H~@k[24;22H[47;133H   [23;1H[47;144H4,0-1[23;1H[?25h[?25l[47;133H~@k[23;1H[47;133H   [22;14H[47;144H3,7-14[22;14H[?25h[?25l[47;133H~@k[22;14H[47;133H   [21;22H[47;144H2,22  [21;22H[?25h[?25l[47;133H~@k[21;22H[47;133H   [20;22H[20;8H[46m[[13C][m[47;144H1[20;22H[?25h[?25l[47;133H~@k[20;22H[47;133H   [19;1H[20;8H[[13C][47;144H0,0-1[19;1H[?25h[?25l[47;133H~@k[19;1H[47;133H   [18;22H[47;143H79,22 [18;22H[?25h[?25l[47;133H~@k[18;22H[47;133H   [17;22H[47;144H8[17;22H[?25h[?25l[47;133H~@k[17;22H[47;133H   [16;22H[47;144H7[16;22H[?25h[?25l[47;133H~@k[16;22H[47;133H   [15;1H[46m{[43;1H}[m[47;144H6,1 [15;1H[?25h[?25l[47;133H~@k[15;1H[47;133H   [14;22H
{[43;1H}[47;144H5,22[14;22H[?25h[?25l[47;133H~@k[14;22H[47;133H   [13;22H[47;144H4[13;22H[?25h[?25l[47;133H~@k[13;22H[47;133H   [12;22H[47;144H3[12;22H[?25h[?25l[47;133H~@k[12;22H[47;133H   [11;1H[47;144H2,0-1[11;1H[?25h[?25l[47;133H~@k[11;1H[47;133H   [10;15H[47;144H1,15 [10;15H[?25h[?25l[47;133H~@k[10;15H[47;133H   [9;1H[3;1H[46m{[9;1H}[m[47;144H0,1 [9;1H[?25h[?25l[47;133H~@k[9;1H[47;133H   [8;22H[3;1H{[9;1H}[47;143H69,22[8;22H[?25h[?25l[47;133H~@k[8;22H[47;133H   [7;17H[47;144H8,10-17[7;17H[?25h[?25l[47;133H~@k[7;17H[47;133H   [6;22H[47;144H7,22   [6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;18H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H66,11-18      98%[6;18H[?25h[?25l[47;133H~@k[6;18H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;1H}[47;143H[K[47;143H65,22[9C96%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;5H[1m[33mreturn[m;[6;1H[46m{[12;1H}[m[47;143H[K[47;143H64,1[10C95%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;5H}[7;1H{[13;1H}[47;143H[K[47;143H63,22[9C93%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;13Hprintf([1m[35m"[m[1m[31m%d[m[1m[35m [m[1m[31m%s[m[1m[35m"[m, pid, cmdline);[47;143H[K[47;143H62,22[9C91%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;9H[1m[33melse[m[47;143H[K[47;143H61,0-1[8C90%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;9H}[47;143H[K[47;143H60,1[10C88%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;11H[1;46r[1;1H[L[1;47r[1;17Hunix_error([1m[35m"waitfg: waitpid error"[m);[47;143H[K[47;143H59,11[9C86%[6;11H[?25h[?25l[47;133H~@k[6;11H[47;133H   [6;5H[1;46r[1;1H[L[1;47r[1;13H[1m[33mif[m (waitpid(pid, &status, [1m[35m0[m) < [1m[35m0[m)[47;143H[K[47;143H58,5[10C85%[6;5H[?25h[?25l[47;133H~@k[6;5H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;13H[1m[32mint[m status;[47;143H[K[47;143H57,15-22      83%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;12H[1;46r[1;1H[L[1;47r[1;9H[1m[33mif[m (!bg) {[47;143H[K[47;143H56,5-12[7C81%[6;12H[?25h[?25l[47;133H~@k[6;12H[47;133H   [6;9H[1;46r[1;1H[L[1;47r[1;9H[1m[36m/* Parent waits for foreground job to terminate */[m[2;18H[46m{[6;9H}[m[47;143H[K[47;143H55,2-9[8C80%[6;9H[?25h[?25l[47;133H~@k[6;9H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[3;18H{[7;9H}[47;143H[K[47;143H54,8-22[7C78%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;9H}[47;143H[K[47;143H53,15-22      77%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;13H}[47;143H[K[47;143H52,15-22      75%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;18H[1;46r[1;1H[L[1;47r[1;17Hexit([1m[35m0[m);[6;18H[46m{[10;9H}[m[47;143H[K[47;143H51,11-18      73%[6;18H[?25h[?25l[47;133H~@k[6;18H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;17Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m: Command not found.[m[1m[31m\n[m[1m[35m"[m, argv[[1m[35m0[m]);[7;18H{[11;9H}[47;143H[K[47;143H50,15-22      72%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;13H[1m[33mif[m (execvpe(argv[[1m[35m0[m], argv, environ) < [1m[35m0[m) {[47;143H[K[47;143H49,0-1[8C70%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;9H[6;46r[6;1H[L[1;47r[1;9H[1m[33mif[m ((pid = Fork()) == [1m[35m0[m) [46m{[m   [1m[36m/* Child runs user job */[m[2;13H[1m[33mif[m (execvpe(argv[[1m[35m0[m], argv, environ) < [1m[35m0[m) {[2;55H[K[3;17Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m: Command not found.[m[1m[31m\n[m[1m[35m"[m, argv[[1m[35m0[m]);[4;13H    exit([1m[35m0[m);[5;9H    }[6;9H[46m}[m[47;143H[K[47;143H48,9[10C68%[6;9H[?25h[?25l[47;133H~@k[6;9H[47;133H   [6;13H[1;46r[1;1H[L[1;47r[1;5H[1m[33mif[m (!builtin_command(argv)) {[2;34H{[3;54H[46m{[6;13H}[m[7;9H}[47;143H[K[47;143H47,13[9C67%[6;13H[?25h[?25l[47;133H~@k[6;13H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[4;54H{[7;13H}[47;143H[K[47;143H46,22[9C65%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;9H[1m[33mreturn[m;   [1m[36m/* Ignore empty lines */[m[47;143H[K[47;143H45,22[9C63%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;5H[1m[33mif[m (argv[[1m[35m0[m] == [1m[35mNULL[m)[47;143H[K[47;143H44,22[9C62%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;5Hbg = parseline(buf, argv);[47;143H[K[47;143H43,22[9C60%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;5Hstrcpy(buf, cmdline);[47;143H[K[47;143H42,22[9C59%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H41,0-1[8C57%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;5Hpid_t pid;[11C[1m[36m/* Process id */[m[47;143H[K[47;143H40,15-22      55%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;5H[1m[32mint[m bg;[14C[1m[36m/* Should the job run in bg or fg? */[m[47;143H[K[47;143H39,22[9C54%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;5H[1m[32mchar[m buf[MAXLINE];   [1m[36m/* Holds modified command line */[m[47;143H[K[47;143H38,22[9C52%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;5H[1m[32mchar[m *argv[MAXARGS]; [1m[36m/* Argument list execve() */[m[47;143H[K[47;143H37,22[9C50%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;4H[1;46r[1;1H[L[1;47r[1;1H{[47;143H[K[47;143H36,4[10C49%[6;4H[?25h[?25l[47;133H~@k[6;4H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;1H[1m[32mvoid[m eval([1m[32mchar[m *cmdline)[47;143H[K[47;143H35,22[9C47%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;1H[1m[36m/* eval - Evaluate a command line */[m[47;143H[K[47;143H34,22[9C45%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;1H[1m[36m/* $begin eval */[m[47;143H[K[47;143H33,22[9C44%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H32,22[9C42%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[36m/* $end shellmain */[m[6;1H[46m{[35;1H}[m[47;143H[K[47;143H31,1[10C40%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;1H}[7;1H{[36;1H}[47;143H[K[47;143H30,22[9C39%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;5H}[47;143H[K[47;143H29,22[9C37%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;17H[1;46r[1;1H[L[1;47r[1;9Heval(cmdline);[47;143H[K[47;143H28,17[9C36%[6;17H[?25h[?25l[47;133H~@k[6;17H[47;133H   [6;2H[1;46r[1;1H[L[1;47r[1;9H[1m[36m/* Evaluate */[m[47;143H[K[47;143H27,2[10C34%[6;2H[?25h[?25l[47;133H~@k[6;2H[47;133H   [6;20H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H26,20[9C32%[6;20H[?25h[?25l[47;133H~@k[6;20H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;13Hexit([1m[35m0[m);[47;143H[K[47;143H25,1[10C31%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;6H[1;46r[1;1H[L[1;47r[1;9H[1m[33mif[m (feof([1m[35mstdin[m))[47;143H[K[47;143H24,6[10C29%[6;6H[?25h[?25l[47;133H~@k[6;6H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;9HFgets(cmdline, MAXLINE, [1m[35mstdin[m);[47;143H[K[47;143H23,15-22      27%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;9Hprintf([1m[35m"> "[m);[47;143H[K[47;143H22,15-22      26%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;9H[1m[36m/* Read */[m[47;143H[K[47;143H21,0-1[8C24%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;20H[1;46r[1;1H[L[1;47r[1;5H[1m[33mwhile[m ([1m[35m1[m) {[47;143H[K[47;143H20,13-20      22%[6;20H[?25h[?25l[47;133H~@k[6;20H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H19,15-22      21%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;5H[1m[32mchar[m cmdline[MAXLINE]; [1m[36m/* Command line */[m[47;143H[K[47;143H18,15-22      19%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;1H{[47;143H[K[47;143H17,15-22      18%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;18H[1;46r[1;1H[L[1;47r[1;1H[1m[32mint[m main()[47;143H[K[47;143H16,11-18      16%[6;18H[?25h[?25l[47;133H~@k[6;18H[47;133H   [6;15H[1;46r[1;1H[L[1;47r[6;15H[46m{[15;5H}[m[47;143H[K[47;143H15,15[9C14%[6;15H[?25h[?25l[47;133H~@k[6;15H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[32mint[m builtin_command([1m[32mchar[m **argv);[7;15H{[16;5H}[47;143H[K[47;143H14,0-1[8C13%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;1H[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv);[47;143H[K[47;143H13,22[9C11%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[1;1H[1m[32mvoid[m eval([1m[32mchar[m *cmdline);[6;1H[46m{[19;1H}[m[47;143H[K[47;143H12,1[11C9%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;11H[1;46r[1;1H[L[1;47r[1;1H[1m[36m/* Function prototypes */[m[7;1H{[20;1H}[47;143H[K[47;143H11,11[10C8%[6;11H[?25h[?25l[47;133H~@k[6;11H[47;133H   [6;1H[1;46r[1;1H[L[1;47r[47;143H[K[47;143H10,0-1[9C6%[6;1H[?25h[?25l[47;133H~@k[6;1H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;1H[1m[34m#define MAXARGS   [m[1m[35m128[m[47;143H[K[47;143H9,22[11C4%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;1H[1m[34m#include [m[1m[35m"csapp.h"[m[47;143H[K[47;143H8,22[11C3%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;1H[1m[36m/* $begin shellmain */[m[47;143H[K[47;143H7,22[11C1%[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [6;22H[1;46r[1;1H[L[1;47r[1;1H[1m[34m#define _GNU_SOURCE[m[47;143H[K[47;143H6,22[10CTop[6;22H[?25h[?25l[47;133H~@k[6;22H[47;133H   [5;1H[47;143H5,0-1[5;1H[?25h[?25l[47;133H~@k[5;1H[47;133H   [4;21H[47;143H4,21 [4;21H[?25h[?25l[47;133H~@k[4;21H[47;133H   [3;18H[47;143H3,18[3;18H[?25h[?25l[47;133H~@k[3;18H[47;133H   [2;22H[47;143H2,22[2;22H[?25h[?25l[47;133H~@k[2;22H[47;133H   [1;19H[47;143H1,19[1;19H[?25h[?25l[47;133H/[1;19H[47;133H[K[47;1H/[?2004h[?25hg[?25l[2;7H[1m[7m[36mg[m[1m[36min shellmain */[m[47;143H2,7[11CTop[47;143H[K[47;3H[?25ha[?25l[2;7H[1m[36mgin shellmain */[m[47;143H1,19[10CTop[47;143H[K[47;4H[?25hi[?25l[138C1,19[10CTop[47;143H[K[47;5H[?25h_[?25l[137C1,19[10CTop[47;143H[K[47;6H[?25he[?25l[136C1,19[10CTop[47;143H[K[47;7H[?25hr[?25l[135C1,19[10CTop[47;143H[K[47;8H[?25hr[?25l[134C1,19[10CTop[47;143H[K[47;9H[?25ho[?25l[133C1,19[10CTop[47;143H[K[47;10H[?25hr[?25l[132C1,19[10CTop[47;143H[K[47;11H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[1m[34m#define _GNU_SOURCE[m
[1m[36m/* $begin shellmain */[m
[1m[34m#include [m[1m[35m"csapp.h"[m
[1m[34m#define MAXARGS   [m[1m[35m128[m

[1m[36m/* Function prototypes */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline);
[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv);
[1m[32mint[m builtin_command([1m[32mchar[m **argv);

[1m[32mint[m main()
{
    [1m[32mchar[m cmdline[MAXLINE]; [1m[36m/* Command line */[m[15;5H[1m[33mwhile[m ([1m[35m1[m) {[16;9H[1m[36m/* Read */[m[17;9Hprintf([1m[35m"> "[m);[18;9HFgets(cmdline, MAXLINE, [1m[35mstdin[m);[19;9H[1m[33mif[m (feof([1m[35mstdin[m))[20;13Hexit([1m[35m0[m);[22;9H[1m[36m/* Evaluate */[m[23;9Heval(cmdline);
    }
}
[1m[36m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline)
{
    [1m[32mchar[m *argv[MAXARGS]; [1m[36m/* Argument list execve() */[m
    [1m[32mchar[m buf[MAXLINE];   [1m[36m/* Holds modified command line */[m
    [1m[32mint[m bg;[14C[1m[36m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[1m[36m/* Process id */[m[37;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [1m[33mif[m (argv[[1m[35m0[m] == [1m[35mNULL[m)[40;9H[1m[33mreturn[m;   [1m[36m/* Ignore empty lines */[m[42;5H[1m[33mif[m (!builtin_command(argv)) {[43;9H[1m[33mif[m ((pid = Fork()) == [1m[35m0[m) {   [1m[36m/* Child runs user job */[m[44;13H[1m[33mif[m (execvpe(argv[[1m[35m0[m], argv, environ) < [1m[35m0[m) {[45;17Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m: Command not found.[m[1m[31m\n[m[1m[35m"[m, argv[[1m[35m0[m]);[46;17Hexit([1m[35m0[m);[47;13H}[48;9H}[50;9H[1m[36m/* Parent waits for foreground job to terminate */[m[51;9H[1m[33mif[m (!bg) {[52;13H[1m[32mint[m status;[53;13H[1m[33mif[m (waitpid(pid, &status, [1m[35m0[m) < [1m[35m0[m)[54;17Hunix_error([1m[35m"waitfg: waitpid error"[m);[55;9H}[56;9H[1m[33melse[m[57;13Hprintf([1m[35m"[m[1m[31m%d[m[1m[35m [m[1m[31m%s[m[1m[35m"[m, pid, cmdline);
    }
    [1m[33mreturn[m;
}

[1m[36m/* If first arg is a builtin command, run it and return true */[m
[1m[32mint[m builtin_command([1m[32mchar[m **argv)
{
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"quit"[m)) [1m[36m/* quit command */[m[66;9Hexit([1m[35m0[m);
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[68;9H[1m[33mreturn[m [1m[35m1[m;
    [1m[33mreturn[m [1m[35m0[m;[21C[1m[36m/* Not a builtin command */[m
}
[1m[36m/* $end eval */[m[73;254H1,19[10CTop/gai_error[73;254H[K[73;11H[?25h[?25l[73;10H[K[73;254H1,19[10CTop[73;254H[K[73;10H[?25h[?25l[73;9H[K[73;254H1,19[10CTop[73;254H[K[73;9H[?25h[?25l[73;8H[K[73;254H1,19[10CTop[73;254H[K[73;8H[?25h[?25l[73;7H[K[73;254H1,19[10CTop[73;254H[K[73;7H[?25h[?25l[73;6H[K[73;254H1,19[10CTop[73;254H[K[73;6H[?25h[?25l[73;5H[K[73;254H1,19[10CTop[73;254H[K[73;5H[?25h[?25l[73;4H[K[73;254H1,19[10CTop[73;254H[K[73;4H[?25h[?25l[73;3H[K[2;7H[1m[7m[36mg[m[1m[36min shellmain */[m[73;254H2,7[11CTop[73;254H[K[73;3H[?25h[?25l[73;2H[K[2;7H[1m[36mgin shellmain */[m[73;254H1,19[10CTop[73;254H[K[73;2H[?25h [?25l[1;19H[73;254H1,19[10CTop[1;19H[?25h[?25l[73;244H~@k[1;19H[73;244H   [1;18H[73;257H8[1;18H[?25h[?25l[73;244H~@k[1;18H[73;244H   [1;17H[73;257H7[1;17H[?25h[?25l[73;244H~@k[1;17H[73;244H   [1;16H[73;257H6[1;16H[?25h[?25l[73;244H~@k[1;16H[73;244H   [1;15H[73;257H5[1;15H[?25h[?25l[73;244H~@k[1;15H[73;244H   [1;14H[73;257H4[1;14H[?25h[?25l[73;244H~@k[1;14H[73;244H   [1;13H[73;257H3[1;13H[?25h[?25l[73;244H~@k[1;13H[73;244H   [1;12H[73;257H2[1;12H[?25h[?25l[73;244H~@k[1;12H[73;244H   [1;11H[73;257H1[1;11H[?25h[?25l[73;244H~@k[1;11H[73;244H   [1;10H[73;257H0[1;10H[?25h[?25l[73;244H~@k[1;10H[73;244H   [1;9H[73;256H9 [1;9H[?25h[?25l[73;244H~@k[1;9H[73;244H   [1;8H[73;256H8[1;8H[?25h[?25l[73;244H^[[1;8H[73;244H  [1;8H[73;244H^[[1;8H[73;244H  [1;8H[?25h[?25l[73;244Hi[1;8H[73;244H [1;8H[73;1H[1m-- INSERT --[m[73;254H[K[73;254H1,8[11CTop[1;8H[?25h[?25l[73;254H2[2;8H[?25h[?25l[73;254H3[3;8H[?25h[?25l[73;254H4[4;8H[?25h[?25l[73;254H5,1[5;1H[?25h[?25l[73;254H6,8[6;8H[?25h[?25l[73;254H7[7;8H[?25h[?25l[73;254H8[8;8H[?25h[?25l[73;254H9[9;8H[?25h[?25l[73;254H10,1[10;1H[?25h[?25l[73;255H1,8[11;8H[?25h[?25l
[46m{[25;1H}[m[73;255H2,2[12;2H[?25h[?25l{[25;1H}[73;255H3,8[13;8H[?25h[?25l[73;255H4,1[14;1H[?25h[?25l[73;255H5,8[15;8H[?25h[?25l[73;255H6,1[16;1H[?25h[?25l[73;255H7[17;1H[?25h[?25l[73;255H8[18;1H[?25h[?25l[73;255H9[19;1H[?25h[?25l[73;254H20[20;1H[?25h[?25l[73;255H1[21;1H[?25h[?25l[73;255H2[22;1H[?25h[?25l[73;255H3[23;1H[?25h[?25l[73;255H4,7[24;7H[?25h[?25l[12;1H[46m{[25;1H}[m[73;255H5,2[25;2H[?25h[?25l[12;1H{[25;1H}[73;255H6,8[26;8H[?25h[?25l[73;255H7,3[27;3H[?25h[?25l[73;255H8,8[28;8H[?25h[?25l[73;255H9[29;8H[?25h[?25l[73;254H30[30;8H[?25h[?25l
[46m{[60;1H}[m[73;255H1,2[31;2H[?25h[?25l{[60;1H}[73;255H2,8[32;8H[?25h[?25l[73;255H3[33;8H[?25h[?25l[73;255H4[34;8H[?25h[?25l[73;255H5[35;8H[?25h[?25l[73;255H6,5[36;5H[?25h[?25l[73;255H7,8[37;8H[?25h[?25l[73;255H8[38;8H[?25h[?25l[39;8H[46m([15C)[m[73;255H9[39;8H[?25h[?25l([15C)[73;254H40,1[40;1H[?25h[?25l[73;255H1[41;1H[?25h[?25l[42;8H[46m([22C)[m[73;255H2,8[42;8H[?25h[?25l([22C)[73;255H3[43;8H[?25h[?25l[73;255H4[44;8H[?25h[?25l[73;255H5[45;8H[?25h[?25l[73;255H6[46;8H[?25h[?25l[73;255H7[47;8H[?25h[?25l[73;255H8[48;8H[?25h[?25l[73;255H9,1[49;1H[?25h[?25l[73;254H50[50;1H[?25h[?25l[73;255H1[51;1H[?25h[?25l[73;255H2[52;1H[?25h[?25l[73;255H3[53;1H[?25h[?25l[73;255H4[54;1H[?25h[?25l[73;257H2-9[54;9H[?25h[?25l[73;257H3-17[54;17H[?25h[?25l[73;257H4-18[54;18H[?25h[?25l[73;257H5-19[54;19H[?25h[?25l[73;257H6-20[54;20H[?25h[?25l[73;257H7-21[54;21H[?25h[?25l[73;257H8-22[54;22H[?25h[?25l[73;257H9-23[54;23H[?25h[?25l[73;257H10-24[54;24H[?25h[?25l[73;258H1-25[54;25H[?25h[?25l[73;258H2-26[54;26H[?25h[?25lr[46m([23C)[m[73;258H3-27[54;27H[?25h[?25l[46m1[m([1m[35m"waitfg: waitpid error[m[1m[35m[46m"[m);[54;27H1[46m([m[22C[1m[35m"[m[46m)[m[73;258H4-28[54;28H[?25h[?25l([23C)[73;258H3-27[54;27H[?25h[?25l1[46m([23C)[m[73;258H4-28[54;28H[?25h[?25l([1m[35m[46m"[m[1m[35mwaitfg: waitpid error"[m)[46m;[m[54;53H[K[54;27H[46m([m[1m[35m"waitfg: waitpid error"[m[46m)[m;[73;258H3-27[54;27H[?25h[73;1H[K[54;26H[?25l[73;244H^[[54;26H[73;244H  [54;27H([23C)[73;254H54,12-26      Top[54;26H[?25h[?25l[73;244H:[54;26H[73;244H[K[73;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"shellex.c" 107L, 2583C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim csapp.h
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;73r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[73;1H"csapp.h" 199L, 6621C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m/*
 * csapp.h - prototypes and definitions for the CS:APP3e book
 */
/* $begin csapp.h */[m
[35m#ifndef __CSAPP_H__
#define __CSAPP_H__

#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<stdarg.h>[m
[35m#include [m[31m<unistd.h>[m
[35m#include [m[31m<string.h>[m
[35m#include [m[31m<ctype.h>[m
[35m#include [m[31m<setjmp.h>[m
[35m#include [m[31m<signal.h>[m
[35m#include [m[31m<dirent.h>[m
[35m#include [m[31m<sys/time.h>[m
[35m#include [m[31m<sys/types.h>[m
[35m#include [m[31m<sys/wait.h>[m
[35m#include [m[31m<sys/stat.h>[m
[35m#include [m[31m<fcntl.h>[m
[35m#include [m[31m<sys/mman.h>[m
[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<math.h>[m
[35m#include [m[31m<pthread.h>[m
[35m#include [m[31m<semaphore.h>[m
[35m#include [m[31m<sys/socket.h>[m
[35m#include [m[31m<netdb.h>[m
[35m#include [m[31m<netinet/in.h>[m
[35m#include [m[31m<arpa/inet.h>[m

[34m/* Default file permissions are DEF_MODE & ~DEF_UMASK */
/* $begin createmasks */[m
[35m#define DEF_MODE   S_IRUSR|S_IWUSR|S_IRGRP|S_IWGRP|S_IROTH|S_IWOTH
#define DEF_UMASK  S_IWGRP|S_IWOTH[m
[34m/* $end createmasks */

/* Simplifies calls to bind(), connect(), and accept() */
/* $begin sockaddrdef */[m
[32mtypedef[m [32mstruct[m sockaddr SA;
[34m/* $end sockaddrdef */

/* Persistent state for the robust I/O (Rio) package */
/* $begin rio_t */[m
[35m#define RIO_BUFSIZE [m[31m8192[m
[32mtypedef[m [32mstruct[m {
    [32mint[m rio_fd;[16C[34m/* Descriptor for this internal buf */[m
    [32mint[m rio_cnt;[15C[34m/* Unread bytes in internal buf */[m
    [32mchar[m *rio_bufptr;[10C[34m/* Next unread byte in internal buf */[m
    [32mchar[m rio_buf[RIO_BUFSIZE]; [34m/* Internal buffer */[m
} rio_t;
[34m/* $end rio_t */

/* External variables */[m
[32mextern[m [32mint[m h_errno;    [34m/* Defined by BIND for DNS errors */[m
[32mextern[m [32mchar[m **environ; [34m/* Defined by libc */

/* Misc constants */[m
[35m#define MAXLINE  [m[31m8192[m[35m  [m[34m/* Max text line length */[m
[35m#define MAXBUF   [m[31m8192[m[35m  [m[34m/* Max I/O buffer size */[m
[35m#define LISTENQ  [m[31m1024[m[35m  [m[34m/* Second argument to listen() */

/* Our own error-handling functions */[m
[32mvoid[m unix_error([32mchar[m *msg);
[32mvoid[m posix_error([32mint[m code, [32mchar[m *msg);
[32mvoid[m dns_error([32mchar[m *msg);
[32mvoid[m gai_error([32mint[m code, [32mchar[m *msg);
[32mvoid[m app_error([32mchar[m *msg);

[34m/* Process control wrappers */[m
pid_t Fork([32mvoid[m);
[32mvoid[m Execve([32mconst[m [32mchar[m *filename, [32mchar[m *[32mconst[m argv[], [32mchar[m *[32mconst[m envp[]);[73;254H1,1[11CTop[1;1H[?25h[?25l[73;244H^[[1;1H[73;246H][1;1H[73;247H1[1;1H[73;248H1[1;1H[73;249H;[1;1H[73;244H      [1;1H[27m[23m[29m[m[H[2J[1;1H[1m[36m/*
 * csapp.h - prototypes and definitions for the CS:APP3e book
 */
/* $begin csapp.h */[m
[1m[34m#ifndef __CSAPP_H__
#define __CSAPP_H__

#include [m[1m[35m<stdio.h>[m
[1m[34m#include [m[1m[35m<stdlib.h>[m
[1m[34m#include [m[1m[35m<stdarg.h>[m
[1m[34m#include [m[1m[35m<unistd.h>[m
[1m[34m#include [m[1m[35m<string.h>[m
[1m[34m#include [m[1m[35m<ctype.h>[m
[1m[34m#include [m[1m[35m<setjmp.h>[m
[1m[34m#include [m[1m[35m<signal.h>[m
[1m[34m#include [m[1m[35m<dirent.h>[m
[1m[34m#include [m[1m[35m<sys/time.h>[m
[1m[34m#include [m[1m[35m<sys/types.h>[m
[1m[34m#include [m[1m[35m<sys/wait.h>[m
[1m[34m#include [m[1m[35m<sys/stat.h>[m
[1m[34m#include [m[1m[35m<fcntl.h>[m
[1m[34m#include [m[1m[35m<sys/mman.h>[m
[1m[34m#include [m[1m[35m<errno.h>[m
[1m[34m#include [m[1m[35m<math.h>[m
[1m[34m#include [m[1m[35m<pthread.h>[m
[1m[34m#include [m[1m[35m<semaphore.h>[m
[1m[34m#include [m[1m[35m<sys/socket.h>[m
[1m[34m#include [m[1m[35m<netdb.h>[m
[1m[34m#include [m[1m[35m<netinet/in.h>[m
[1m[34m#include [m[1m[35m<arpa/inet.h>[m

[1m[36m/* Default file permissions are DEF_MODE & ~DEF_UMASK */
/* $begin createmasks */[m
[1m[34m#define DEF_MODE   S_IRUSR|S_IWUSR|S_IRGRP|S_IWGRP|S_IROTH|S_IWOTH
#define DEF_UMASK  S_IWGRP|S_IWOTH[m
[1m[36m/* $end createmasks */

/* Simplifies calls to bind(), connect(), and accept() */
/* $begin sockaddrdef */[m
[1m[32mtypedef[m [1m[32mstruct[m sockaddr SA;
[1m[36m/* $end sockaddrdef */

/* Persistent state for the robust I/O (Rio) package */
/* $begin rio_t */[m
[1m[34m#define RIO_BUFSIZE [m[1m[35m8192[m
[1m[32mtypedef[m [1m[32mstruct[m {
    [1m[32mint[m rio_fd;[16C[1m[36m/* Descriptor for this internal buf */[m
    [1m[32mint[m rio_cnt;[15C[1m[36m/* Unread bytes in internal buf */[m
    [1m[32mchar[m *rio_bufptr;[10C[1m[36m/* Next unread byte in internal buf */[m
    [1m[32mchar[m rio_buf[RIO_BUFSIZE]; [1m[36m/* Internal buffer */[m
} rio_t;
[1m[36m/* $end rio_t */

/* External variables */[m
[1m[32mextern[m [1m[32mint[m h_errno;    [1m[36m/* Defined by BIND for DNS errors */[m
[1m[32mextern[m [1m[32mchar[m **environ; [1m[36m/* Defined by libc */

/* Misc constants */[m
[1m[34m#define MAXLINE  [m[1m[35m8192[m[1m[34m  [m[1m[36m/* Max text line length */[m
[1m[34m#define MAXBUF   [m[1m[35m8192[m[1m[34m  [m[1m[36m/* Max I/O buffer size */[m
[1m[34m#define LISTENQ  [m[1m[35m1024[m[1m[34m  [m[1m[36m/* Second argument to listen() */

/* Our own error-handling functions */[m
[1m[32mvoid[m unix_error([1m[32mchar[m *msg);
[1m[32mvoid[m posix_error([1m[32mint[m code, [1m[32mchar[m *msg);
[1m[32mvoid[m dns_error([1m[32mchar[m *msg);
[1m[32mvoid[m gai_error([1m[32mint[m code, [1m[32mchar[m *msg);
[1m[32mvoid[m app_error([1m[32mchar[m *msg);

[1m[36m/* Process control wrappers */[m
pid_t Fork([1m[32mvoid[m);
[1m[32mvoid[m Execve([1m[32mconst[m [1m[32mchar[m *filename, [1m[32mchar[m *[1m[32mconst[m argv[], [1m[32mchar[m *[1m[32mconst[m envp[]);[73;254H1,1[11CTop"csapp.h" 199L, 6621C[1;1H[?25h[?25l[73;244H\[1;1H[73;244H [1;1H[?25h[?25l[73;244H/[1;1H[73;1H[K[73;1H/[?2004h[?25hu[?25l[8;6H[1m[7m[34mu[m[1m[34mde [m[1m[35m<stdio.h>[m[73;254H8,6[11CTop[73;254H[K[73;3H[?25hn[?25l[8;6H[1m[34mude [m[1m[35m<stdio.h>[m[11;11H[1m[7m[35mun[m[1m[35mistd.h>[m[73;254H11,11[9CTop[73;254H[K[73;4H[?25hi[?25l[11;13H[1m[7m[35mi[m[1m[35mstd.h>[m[73;254H11,11[9CTop[73;254H[K[73;5H[?25hx[?25l[11;11H[1m[35munistd.h>[m[64;6H[7munix[m[73;254H64,6[10CTop[73;254H[K[73;6H[?25h[?25l[73;5H[K[11;11H[1m[7m[35muni[m[1m[35mstd.h>[m[64;6Hunix[73;254H11,11[9CTop[73;254H[K[73;5H[?25h[?25l[73;4H[K[11;13H[1m[35mistd.h>[m[73;254H11,11[9CTop[73;254H[K[73;4H[?25h[?25l[73;3H[K[8;6H[1m[7m[34mu[m[1m[34mde [m[1m[35m<stdio.h>[11;11Hunistd.h>[m[73;254H8,6[11CTop[73;254H[K[73;3H[?25h[?25l[73;2H[K[8;6H[1m[34mude [m[1m[35m<stdio.h>[m[73;254H1,1[11CTop[73;254H[K[73;2H[?25hg[?25l[4;7H[1m[7m[36mg[m[1m[36min csapp.h */[m[73;254H4,7[11CTop[73;254H[K[73;3H[?25ha[?25l[4;7H[1m[36mgin csapp.h */[m[67;6H[7mga[m[73;254H67,6[10CTop[73;254H[K[73;4H[?25hi[?25l[67;8H[7mi[m[73;254H67,6[10CTop[73;254H[K[73;5H[?25he[?25l[67;6Hgai[73;254H1,1[11CTop[73;254H[K[73;6H[?25hr[?25l[247C1,1[11CTop[73;254H[K[73;7H[?25h[?25l[73;6H[K[73;254H1,1[11CTop[73;254H[K[73;6H[?25h[?25l[73;5H[K[67;6H[7mgai[m[73;254H67,6[10CTop[73;254H[K[73;5H[?25h_[?25l[67;9H[7m_[m[73;254H67,6[10CTop[73;254H[K[73;6H[?25he[?25l[67;10H[7me[m[73;254H67,6[10CTop[73;254H[K[73;7H[?25hr[?25l[67;11H[7mr[m[73;254H67,6[10CTop[73;254H[K[73;8H[?25hr[?25l[67;12H[7mr[m[73;254H67,6[10CTop[73;254H[K[73;9H[?25ho[?25l[67;13H[7mo[m[73;254H67,6[10CTop[73;254H[K[73;10H[?25hr[?25l[67;14H[7mr[m[73;254H67,6[10CTop[73;254H[K[73;11H[?25h1[?25l[67;6Hgai_error[73;254H1,1[11CTop[73;254H[K[73;12H[?25h[?25l[73;11H[K[67;6H[7mgai_error[m[73;254H67,6[10CTop[73;254H[K[73;11H[?25h[?25l[73;10H[K[67;14Hr[73;254H67,6[10CTop[73;254H[K[73;10H[?25h[?25l[73;9H[K[67;13Ho[73;254H67,6[10CTop[73;254H[K[73;9H[?25h[?25l[73;8H[K[67;12Hr[73;254H67,6[10CTop[73;254H[K[73;8H[?25h[?25l[73;7H[K[67;11Hr[73;254H67,6[10CTop[73;254H[K[73;7H[?25h[?25l[73;6H[K[67;10He[73;254H67,6[10CTop[73;254H[K[73;6H[?25h[?25l[73;5H[K[67;9H_[73;254H67,6[10CTop[73;254H[K[73;5H[?25h[?25l[73;4H[K[67;8Hi[73;254H67,6[10CTop[73;254H[K[73;4H[?25h[?25l[73;3H[K[4;7H[1m[7m[36mg[m[1m[36min csapp.h */[m[67;6Hga[73;254H4,7[11CTop[73;254H[K[73;3H[?25h[?25l[73;2H[K[4;7H[1m[36mgin csapp.h */[m[73;254H1,1[11CTop[73;254H[K[73;2H[?25h [?25l[1;1H[73;254H1,1[11CTop[1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H^[[1;1H[73;244H  [1;1H[73;244H^[[1;1H[73;244H  [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [2;1H[73;254H2[2;1H[?25h[?25l[73;244H~@k[2;1H[73;244H   [3;1H[73;254H3[3;1H[?25h[?25l[73;244H~@k[3;1H[73;244H   [4;1H[73;254H4[4;1H[?25h[?25l[73;244H~@k[4;1H[73;244H   [5;1H[73;254H5[5;1H[?25h[?25l[73;244H~@k[5;1H[73;244H   [6;1H[73;254H6[6;1H[?25h[?25l[73;244H~@k[6;1H[73;244H   [7;1H[73;254H7,0-1[7;1H[?25h[?25l[73;244H~@k[7;1H[73;244H   [8;1H[73;254H8,1  [8;1H[?25h[?25l[73;244H~@k[8;1H[73;244H   [9;1H[73;254H9[9;1H[?25h[?25l[73;244H~@k[9;1H[73;244H   [10;1H[73;254H10,1[10;1H[?25h[?25l[73;244H~@k[10;1H[73;244H   [11;1H[73;255H1[11;1H[?25h[?25l[73;244H~@k[11;1H[73;244H   [12;1H[73;255H2[12;1H[?25h[?25l[73;244H~@k[12;1H[73;244H   [13;1H[73;255H3[13;1H[?25h[?25l[73;244H~@k[13;1H[73;244H   [14;1H[73;255H4[14;1H[?25h[?25l[73;244H~@k[14;1H[73;244H   [15;1H[73;255H5[15;1H[?25h[?25l[73;244H~@k[15;1H[73;244H   [16;1H[73;255H6[16;1H[?25h[?25l[73;244H~@k[16;1H[73;244H   [17;1H[73;255H7[17;1H[?25h[?25l[73;244H~@k[17;1H[73;244H   [18;1H[73;255H8[18;1H[?25h[?25l[73;244H~@k[18;1H[73;244H   [19;1H[73;255H9[19;1H[?25h[?25l[73;244H~@k[19;1H[73;244H   [20;1H[73;254H20[20;1H[?25h[?25l[73;244H~@k[20;1H[73;244H   [21;1H[73;255H1[21;1H[?25h[?25l[73;244H~@k[21;1H[73;244H   [22;1H[73;255H2[22;1H[?25h[?25l[73;244H~@k[22;1H[73;244H   [23;1H[73;255H3[23;1H[?25h[?25l[73;244H~@k[23;1H[73;244H   [24;1H[73;255H4[24;1H[?25h[?25l[73;244H~@k[24;1H[73;244H   [25;1H[73;255H5[25;1H[?25h[?25l[73;244H~@k[25;1H[73;244H   [26;1H[73;255H6[26;1H[?25h[?25l[73;244H~@k[26;1H[73;244H   [27;1H[73;255H7[27;1H[?25h[?25l[73;244H~@k[27;1H[73;244H   [28;1H[73;255H8[28;1H[?25h[?25l[73;244H~@k[28;1H[73;244H   [29;1H[73;255H9[29;1H[?25h[?25l[73;244H~@k[29;1H[73;244H   [30;1H[73;254H30[30;1H[?25h[?25l[73;244H~@k[30;1H[73;244H   [31;1H[73;255H1,0-1[31;1H[?25h[?25l[73;244H~@k[31;1H[73;244H   [32;1H[73;255H2,1  [32;1H[?25h[?25l[73;244H~@k[32;1H[73;244H   [33;1H[73;255H3[33;1H[?25h[?25l[73;244H~@k[33;1H[73;244H   [34;1H[73;255H4[34;1H[?25h[?25l[73;244H~@k[34;1H[73;244H   [35;1H[73;255H5[35;1H[?25h[?25l[73;244H~@k[35;1H[73;244H   [36;1H[73;255H6[36;1H[?25h[?25l[73;244H~@k[36;1H[73;244H   [37;1H[73;255H7,0-1[37;1H[?25h[?25l[73;244H~@k[37;1H[73;244H   [38;1H[73;255H8,1  [38;1H[?25h[?25l[73;244H~@k[38;1H[73;244H   [39;1H[73;255H9[39;1H[?25h[?25l[73;244H~@k[39;1H[73;244H   [40;1H[73;254H40[40;1H[?25h[?25l[73;244H~@k[40;1H[73;244H   [41;1H[73;255H1[41;1H[?25h[?25l[73;244H~@k[41;1H[73;244H   [42;1H[73;255H2,0-1[42;1H[?25h[?25l[73;244H~@k[42;1H[73;244H   [43;1H[73;255H3,1  [43;1H[?25h[?25l[73;244H~@k[43;1H[73;244H   [44;1H[73;255H4[44;1H[?25h[?25l[73;244H~@k[44;1H[73;244H   [45;1H[73;255H5[45;1H[?25h[?25l[73;244H~@k[45;1H[73;244H   [46;1H[73;255H6[46;1H[?25h[?25l[73;244H~@k[46;1H[73;244H   [47;1H[73;255H7[47;1H[?25h[?25l[73;244H~@k[47;1H[73;244H   [48;1H[73;255H8[48;1H[?25h[?25l[73;244H~@k[48;1H[73;244H   [49;1H[73;255H9[49;1H[?25h[?25l[73;244H~@k[49;1H[73;244H   [50;1H[73;254H50[50;1H[?25h[?25l[73;244H~@k[50;1H[73;244H   [51;1H[46;16H[46m{[51;1H}[m[73;255H1[51;1H[?25h[?25l[73;244H~@k[51;1H[73;244H   [52;1H[46;16H{[51;1H}[73;255H2[52;1H[?25h[?25l[73;244H~@k[52;1H[73;244H   [53;1H[73;255H3,0-1[53;1H[?25h[?25l[73;244H~@k[53;1H[73;244H   [54;1H[73;255H4,1  [54;1H[?25h[?25l[73;244H~@k[54;1H[73;244H   [55;1H[73;255H5[55;1H[?25h[?25l[73;244H~@k[55;1H[73;244H   [56;1H[73;255H6[56;1H[?25h[?25l[73;244H~@k[56;1H[73;244H   [57;1H[73;255H7,0-1[57;1H[?25h[?25l[73;244H~@k[57;1H[73;244H   [58;1H[73;255H8,1  [58;1H[?25h[?25l[73;244H~@k[58;1H[73;244H   [59;1H[73;255H9[59;1H[?25h[?25l[73;244H~@k[59;1H[73;244H   [60;1H[73;254H60[60;1H[?25h[?25l[73;244H~@k[60;1H[73;244H   [61;1H[73;255H1[61;1H[?25h[?25l[73;244H~@k[61;1H[73;244H   [62;1H[73;255H2,0-1[62;1H[?25h[?25l[73;244H~@k[62;1H[73;244H   [63;1H[73;255H3,1  [63;1H[?25h[?25l[73;244H~@k[63;1H[73;244H   [64;1H[73;255H4[64;1H[?25h[?25l[73;244H~@k[64;1H[73;244H   [65;1H[73;255H5[65;1H[?25h[?25l[73;244H~@k[65;1H[73;244H   [66;1H[73;255H6[66;1H[?25h[?25l[73;244H~@k[66;1H[73;244H   [67;1H[73;255H7[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1Hpid_t Wait([1m[32mint[m *status);[73;254H[K[73;254H68,1[11C0%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1Hpid_t Waitpid(pid_t pid, [1m[32mint[m *iptr, [1m[32mint[m options);[73;254H[K[73;254H69,0-1[9C1%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Kill(pid_t pid, [1m[32mint[m signum);[73;254H[K[73;254H70,1[11C2%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32munsigned[m [1m[32mint[m Sleep([1m[32munsigned[m [1m[32mint[m secs);[73;254H[K[73;254H71,1[11C3%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Pause([1m[32mvoid[m);[73;254H[K[73;254H72,1[11C3%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32munsigned[m [1m[32mint[m Alarm([1m[32munsigned[m [1m[32mint[m seconds);[73;254H[K[73;254H73,1[11C4%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Setpgid(pid_t pid, pid_t pgid);[73;254H[K[73;254H74,1[11C5%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1Hpid_t Getpgrp();[73;254H[K[73;254H75,1[11C6%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[73;254H[K[73;254H76,1[11C7%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Signal wrappers */[m[73;254H[K[73;254H77,1[11C7%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mtypedef[m [1m[32mvoid[m handler_t([1m[32mint[m);[73;254H[K[73;254H78,1[11C8%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1Hhandler_t *Signal([1m[32mint[m signum, handler_t *handler);[73;254H[K[73;254H79,1[11C9%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Sigprocmask([1m[32mint[m how, [1m[32mconst[m sigset_t *set, sigset_t *oldset);[73;254H[K[73;254H80,1[10C10%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Sigemptyset(sigset_t *set);[73;254H[K[73;254H81,0-1[8C11%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Sigfillset(sigset_t *set);[73;254H[K[73;254H82,1[10C11%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Sigaddset(sigset_t *set, [1m[32mint[m signum);[73;254H[K[73;254H83,1[10C12%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Sigdelset(sigset_t *set, [1m[32mint[m signum);[73;254H[K[73;254H84,1[10C13%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m Sigismember([1m[32mconst[m sigset_t *set, [1m[32mint[m signum);[73;254H[K[73;254H85,1[10C14%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m Sigsuspend([1m[32mconst[m sigset_t *set);[73;254H[K[73;254H86,1[10C14%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [66;1H[73;255H5[66;1H[?25h[?25l[73;244H~@k[66;1H[73;244H   [65;1H[73;255H4[65;1H[?25h[?25l[73;244H~@k[65;1H[73;244H   [64;1H[73;255H3[64;1H[?25h[?25l[73;244H~@k[64;1H[73;244H   [63;1H[73;255H2[63;1H[?25h[?25l[73;244H~@k[63;1H[73;244H   [62;1H[73;255H1,0-1[62;1H[?25h[?25l[73;244H~@k[62;1H[73;244H   [61;1H[73;255H0,1  [61;1H[?25h[?25l[73;244H~@k[61;1H[73;244H   [60;1H[73;254H79[60;1H[?25h[?25l[73;244H~@k[60;1H[73;244H   [59;1H[73;255H8[59;1H[?25h[?25l[73;244H~@k[59;1H[73;244H   [58;1H[73;255H7[58;1H[?25h[?25l[73;244H~@k[58;1H[73;244H   [57;1H[73;255H6[57;1H[?25h[?25l[73;244H~@k[57;1H[73;244H   [56;1H[73;255H5[56;1H[?25h[?25l[73;244H~@k[56;1H[73;244H   [55;1H[73;255H4[55;1H[?25h[?25l[73;244H~@k[55;1H[73;244H   [54;1H[73;255H3[54;1H[?25h[?25l[73;244H~@k[54;1H[73;244H   [53;1H[73;255H2[53;1H[?25h[?25l[73;244H~@k[53;1H[73;244H   [52;1H[73;255H1[52;1H[?25h[?25l[73;244H~@k[52;1H[73;244H   [51;1H[73;255H0[51;1H[?25h[?25l[73;244H~@k[51;1H[73;244H   [50;1H[73;254H69,0-1[50;1H[?25h[?25l[73;244H~@k[50;1H[73;244H   [49;1H[73;255H8,1  [49;1H[?25h[?25l[73;244H~@k[49;1H[73;244H   [48;1H[73;255H7[48;1H[?25h[?25l[73;255H6[47;1H[?25h[?25l[73;255H5[46;1H[?25h[?25l[73;244H~@k[46;1H[73;244H   [45;1H[73;255H4[45;1H[?25h[?25l[73;255H3[44;1H[?25h[?25l[73;255H2,0-1[43;1H[?25h[?25l[73;244H~@k[43;1H[73;244H   [42;1H[73;255H1,1  [42;1H[?25h[?25l[73;255H0[41;1H[?25h[?25l[73;254H59[40;1H[?25h[?25l[73;244H~@k[40;1H[73;244H   [39;1H[73;255H8[39;1H[?25h[?25l[73;255H7,0-1[38;1H[?25h[?25l[73;255H6,1  [37;1H[?25h[?25l[73;244H~@k[37;1H[73;244H   [36;1H[73;255H5[36;1H[?25h[?25l[73;255H4[35;1H[?25h[?25l[73;255H3,0-1[34;1H[?25h[?25l[73;244H~@k[34;1H[73;244H   [33;1H[73;255H2,1  [33;1H[?25h[?25l[27;16H[46m{[32;1H}[m[73;255H1[32;1H[?25h[?25l[27;16H{[32;1H}[73;255H0[31;1H[?25h[?25l[73;244H~@k[31;1H[73;244H   [30;1H[73;254H49[30;1H[?25h[?25l[73;255H8[29;1H[?25h[?25l[73;255H7[28;1H[?25h[?25l[73;244H~@k[28;1H[73;244H   [27;1H[73;255H6[27;1H[?25h[?25l[73;255H5[26;1H[?25h[?25l[73;255H4[25;1H[?25h[?25l[73;244H~@k[25;1H[73;244H   [24;1H[73;255H3[24;1H[?25h[?25l[73;255H2,0-1[23;1H[?25h[?25l[73;255H1,1  [22;1H[?25h[?25l[73;244H~@k[22;1H[73;244H   [21;1H[73;255H0[21;1H[?25h[?25l[73;254H39[20;1H[?25h[?25l[73;255H8[19;1H[?25h[?25l[73;244H~@k[19;1H[73;244H   [18;1H[73;255H7,0-1[18;1H[?25h[?25l[73;255H6,1  [17;1H[?25h[?25l[73;255H5[16;1H[?25h[?25l[73;244H~@k[16;1H[73;244H   [15;1H[73;255H4[15;1H[?25h[?25l[73;255H3[14;1H[?25h[?25l[73;255H2[13;1H[?25h[?25l[73;244H~@k[13;1H[73;244H   [12;1H[73;255H1,0-1[12;1H[?25h[?25l[73;255H0,1  [11;1H[?25h[?25l[73;254H29[10;1H[?25h[?25l[73;244H~@k[10;1H[73;244H   [9;1H[73;255H8[9;1H[?25h[?25l[73;255H7[8;1H[?25h[?25l[73;255H6[7;1H[?25h[?25l[73;255H5[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[34m#include [m[1m[35m<sys/wait.h>[m[73;254H[K[73;254H24,1[10C14%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[34m#include [m[1m[35m<sys/types.h>[m[73;254H[K[73;254H23,1[10C13%[6;1H[?25h[?25l[73;244H~@k[6;1H[73;244H   [6;1H[1;72r[1;1H[L[1;73r[1;1H[1m[34m#include [m[1m[35m<sys/time.h>[m[73;254H[K[73;254H22,1[10C12%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[34m#include [m[1m[35m<dirent.h>[m[73;254H[K[73;254H21,1[10C11%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[34m#include [m[1m[35m<signal.h>[m[73;254H[K[73;254H20,1[10C11%[6;1H[?25h[?25l[73;244H~@k[6;1H[73;244H   [6;1H[1;72r[1;1H[L[1;73r[1;1H[1m[34m#include [m[1m[35m<setjmp.h>[m[73;254H[K[73;254H19,1[10C10%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[34m#include [m[1m[35m<ctype.h>[m[73;254H[K[73;254H18,1[11C9%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[34m#include [m[1m[35m<string.h>[m[73;254H[K[73;254H17,1[11C8%[6;1H[?25h[?25l[73;244H~@k[6;1H[73;244H   [6;1H[1;72r[1;1H[L[1;73r[1;1H[1m[34m#include [m[1m[35m<unistd.h>[m[73;254H[K[73;254H16,1[11C7%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[34m#include [m[1m[35m<stdarg.h>[m[73;254H[K[73;254H15,1[11C7%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[34m#include [m[1m[35m<stdlib.h>[m[73;254H[K[73;254H14,1[11C6%[6;1H[?25h[?25l[73;244H~@k[6;1H[73;244H   [6;1H[1;72r[1;1H[L[1;73r[1;1H[1m[34m#include [m[1m[35m<stdio.h>[m[73;254H[K[73;254H13,1[11C5%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[73;254H[K[73;254H12,1[11C4%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[34m#define __CSAPP_H__[m[73;254H[K[73;254H11,1[11C3%[6;1H[?25h[?25l[73;244H~@k[6;1H[73;244H   [6;1H[1;72r[1;1H[L[1;73r[1;1H[1m[34m#ifndef __CSAPP_H__[m[73;254H[K[73;254H10,1[11C3%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[36m/* $begin csapp.h */[m[73;254H[K[73;254H9,1[12C2%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[36m */[m[73;254H[K[73;254H8,1[12C1%[6;1H[?25h[?25l[73;244H~@k[6;1H[73;244H   [6;1H[1;72r[1;1H[L[1;73r[1;1H[1m[36m * csapp.h - prototypes and definitions for the CS:APP3e book[m[73;254H[K[73;254H7,0-1[10C0%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[36m/*[m[73;254H[K[73;254H6,1[11CTop[6;1H[?25h[?25l[73;254H5[5;1H[?25h[?25l[73;244H~@k[5;1H[73;244H   [4;1H[73;254H4[4;1H[?25h[?25l[73;254H3[3;1H[?25h[?25l[73;254H2[2;1H[?25h[?25l[73;244H~@k[2;1H[73;244H   [1;1H[73;254H1[1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H~@k[1;1H[73;244H   [1;1H[?25h[?25l[73;244H:[1;1H[73;244H[K[73;1H:[?2004h[?25hs[?25l[?25h/[?25l[?25hg[?25l[?25ha[?25l[?25hi[?25l[?25h_[?25l[?25he[?25l[?25hr[?25l[?25hr[?25l[?25ho[?25l[?25hr[?25l[?25h/[?25l[?25hf[?25l[?25h[?25l[73;14H[K[73;14H[?25hg[?25l[?25ha[?25l[?25hi[?25l[?25h_[?25l[?25he[?25l[?25hr[?25l[?25hr[?25l[?25ho[?25l[?25hr[?25l[?25h1[?25l[?25h/[?25l[?25hg[?25l[?25h%s/gai_error/gai_error1/g[?25l:%[?25hs/gai_error/gai_error1/g[?25l[67;1H[14C1([1m[32mint[m code, [1m[32mchar[m *msg);[73;254H67,1[10CTop[67;1H[?25h[?25l[73;244H^M[67;1H[73;244H  [67;1H[1;72r[72;1H
[1;73r[72;1Hpid_t Wait([1m[32mint[m *status);[73;1H[K[73;254H68,1[11C0%[67;1H[?25h[?25l[73;244H^M[67;1H[73;244H  [67;1H[1;72r[72;1H
[1;73r[72;1Hpid_t Waitpid(pid_t pid, [1m[32mint[m *iptr, [1m[32mint[m options);[73;254H[K[73;254H69,0-1[9C1%[67;1H[?25h[?25l[73;244H^M[67;1H[73;244H  [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Kill(pid_t pid, [1m[32mint[m signum);[73;254H[K[73;254H70,1[11C2%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32munsigned[m [1m[32mint[m Sleep([1m[32munsigned[m [1m[32mint[m secs);[73;254H[K[73;254H71,1[11C3%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Pause([1m[32mvoid[m);[73;254H[K[73;254H72,1[11C3%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32munsigned[m [1m[32mint[m Alarm([1m[32munsigned[m [1m[32mint[m seconds);[73;254H[K[73;254H73,1[11C4%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Setpgid(pid_t pid, pid_t pgid);[73;254H[K[73;254H74,1[11C5%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1Hpid_t Getpgrp();[73;254H[K[73;254H75,1[11C6%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[73;254H[K[73;254H76,1[11C7%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Signal wrappers */[m[73;254H[K[73;254H77,1[11C7%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mtypedef[m [1m[32mvoid[m handler_t([1m[32mint[m);[73;254H[K[73;254H78,1[11C8%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1Hhandler_t *Signal([1m[32mint[m signum, handler_t *handler);[73;254H[K[73;254H79,1[11C9%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Sigprocmask([1m[32mint[m how, [1m[32mconst[m sigset_t *set, sigset_t *oldset);[73;254H[K[73;254H80,1[10C10%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Sigemptyset(sigset_t *set);[73;254H[K[73;254H81,0-1[8C11%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Sigfillset(sigset_t *set);[73;254H[K[73;254H82,1[10C11%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Sigaddset(sigset_t *set, [1m[32mint[m signum);[73;254H[K[73;254H83,1[10C12%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Sigdelset(sigset_t *set, [1m[32mint[m signum);[73;254H[K[73;254H84,1[10C13%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m Sigismember([1m[32mconst[m sigset_t *set, [1m[32mint[m signum);[73;254H[K[73;254H85,1[10C14%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m Sigsuspend([1m[32mconst[m sigset_t *set);[73;254H[K[73;254H86,1[10C14%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H87,1[10C15%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Sio (Signal-safe I/O) routines */[m[73;254H[K[73;254H88,1[10C16%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mssize_t[m sio_puts([1m[32mchar[m s[]);[73;254H[K[73;254H89,1[10C17%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mssize_t[m sio_putl([1m[32mlong[m v);[73;254H[K[73;254H90,1[10C18%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m sio_error([1m[32mchar[m s[]);[73;254H[K[73;254H91,1[10C18%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H92,0-1[8C19%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Sio wrappers */[m[73;254H[K[73;254H93,1[10C20%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mssize_t[m Sio_puts([1m[32mchar[m s[]);[73;254H[K[73;254H94,1[10C21%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mssize_t[m Sio_putl([1m[32mlong[m v);[73;254H[K[73;254H95,1[10C22%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Sio_error([1m[32mchar[m s[]);[73;254H[K[73;254H96,1[10C22%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[73;254H[K[73;254H97,0-1[8C23%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Unix I/O wrappers */[m[73;254H[K[73;254H98,1[10C24%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m Open([1m[32mconst[m [1m[32mchar[m *pathname, [1m[32mint[m flags, mode_t mode);[73;254H[K[73;254H99,1[10C25%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mssize_t[m Read([1m[32mint[m fd, [1m[32mvoid[m *buf, [1m[32msize_t[m count);[73;254H[K[73;254H100,1[9C25%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mssize_t[m Write([1m[32mint[m fd, [1m[32mconst[m [1m[32mvoid[m *buf, [1m[32msize_t[m count);[73;254H[K[73;254H101,1[9C26%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32moff_t[m Lseek([1m[32mint[m fildes, [1m[32moff_t[m offset, [1m[32mint[m whence);[73;254H[K[73;254H102,0-1[7C27%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Close([1m[32mint[m fd);[73;254H[K[73;254H103,1[9C28%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m Select([1m[32mint[m  n, fd_set *readfds, fd_set *writefds, fd_set *exceptfds,[73;254H[K[73;254H104,1[9C29%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;12H[1m[32mstruct[m timeval *timeout);[73;254H[K[73;254H105,1[9C29%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m Dup2([1m[32mint[m fd1, [1m[32mint[m fd2);[73;254H[K[73;254H106,1[9C30%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Stat([1m[32mconst[m [1m[32mchar[m *filename, [1m[32mstruct[m stat *buf);[73;254H[K[73;254H107,1[9C31%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Fstat([1m[32mint[m fd, [1m[32mstruct[m stat *buf) ;[73;254H[K[73;254H108,1[9C32%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[73;254H[K[73;254H109,1[9C33%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Directory wrappers */[m[73;254H[K[73;254H110,1-8[7C33%[67;8H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mDIR[m *Opendir([1m[32mconst[m [1m[32mchar[m *name);[73;254H[K[73;254H111,1[9C34%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mstruct[m dirent *Readdir([1m[32mDIR[m *dirp);[73;254H[K[73;254H112,1[9C35%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m Closedir([1m[32mDIR[m *dirp);[73;254H[K[73;254H113,1[9C36%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H114,0-1[7C37%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Memory mapping wrappers */[m[73;254H[K[73;254H115,1[9C37%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m *Mmap([1m[32mvoid[m *addr, [1m[32msize_t[m len, [1m[32mint[m prot, [1m[32mint[m flags, [1m[32mint[m fd, [1m[32moff_t[m offset);[73;254H[K[73;254H116,1[9C38%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Munmap([1m[32mvoid[m *start, [1m[32msize_t[m length);[73;254H[K[73;254H117,1[9C39%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[73;254H[K[73;254H118,1[9C40%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Standard I/O wrappers */[m[73;254H[K[73;254H119,0-1[7C40%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Fclose([1m[32mFILE[m *fp);[73;254H[K[73;254H120,1[9C41%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mFILE[m *Fdopen([1m[32mint[m fd, [1m[32mconst[m [1m[32mchar[m *type);[73;254H[K[73;254H121,1[9C42%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mchar[m *Fgets([1m[32mchar[m *ptr, [1m[32mint[m n, [1m[32mFILE[m *stream);[73;254H[K[73;254H122,1[9C43%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mFILE[m *Fopen([1m[32mconst[m [1m[32mchar[m *filename, [1m[32mconst[m [1m[32mchar[m *mode);[73;254H[K[73;254H123,0-1[7C44%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Fputs([1m[32mconst[m [1m[32mchar[m *ptr, [1m[32mFILE[m *stream);[73;254H[K[73;254H124,1[9C44%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32msize_t[m Fread([1m[32mvoid[m *ptr, [1m[32msize_t[m size, [1m[32msize_t[m nmemb, [1m[32mFILE[m *stream);[73;254H[K[73;254H125,1[9C45%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Fwrite([1m[32mconst[m [1m[32mvoid[m *ptr, [1m[32msize_t[m size, [1m[32msize_t[m nmemb, [1m[32mFILE[m *stream);[73;254H[K[73;254H126,1[9C46%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[73;254H[K[73;254H127,1[9C47%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Dynamic storage allocation wrappers */[m[73;254H[K[73;254H128,1[9C48%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m *Malloc([1m[32msize_t[m size);[73;254H[K[73;254H129,1[9C48%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m *Realloc([1m[32mvoid[m *ptr, [1m[32msize_t[m size);[73;254H[K[73;254H130,1[9C49%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m *Calloc([1m[32msize_t[m nmemb, [1m[32msize_t[m size);[73;254H[K[73;254H131,1[9C50%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Free([1m[32mvoid[m *ptr);[73;254H[K[73;254H132,0-1[7C51%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[73;254H[K[73;254H133,1[9C51%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Sockets interface wrappers */[m[73;254H[K[73;254H134,1[9C52%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m Socket([1m[32mint[m domain, [1m[32mint[m type, [1m[32mint[m protocol);[73;254H[K[73;254H135,1[9C53%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Setsockopt([1m[32mint[m s, [1m[32mint[m level, [1m[32mint[m optname, [1m[32mconst[m [1m[32mvoid[m *optval, [1m[32mint[m optlen);[73;254H[K[73;254H136,1[9C54%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Bind([1m[32mint[m sockfd, [1m[32mstruct[m sockaddr *my_addr, [1m[32mint[m addrlen);[73;254H[K[73;254H137,1[9C55%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Listen([1m[32mint[m s, [1m[32mint[m backlog);[73;254H[K[73;254H138,0-1[7C55%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m Accept([1m[32mint[m s, [1m[32mstruct[m sockaddr *addr, socklen_t *addrlen);[73;254H[K[73;254H139,1[9C56%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Connect([1m[32mint[m sockfd, [1m[32mstruct[m sockaddr *serv_addr, [1m[32mint[m addrlen);[73;254H[K[73;254H140,1[9C57%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H141,1[9C58%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Protocol independent wrappers */[m[73;254H[K[73;254H142,1[9C59%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Getaddrinfo([1m[32mconst[m [1m[32mchar[m *node, [1m[32mconst[m [1m[32mchar[m *service,[73;254H[K[73;254H143,1[9C59%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;18H[1m[32mconst[m [1m[32mstruct[m addrinfo *hints, [1m[32mstruct[m addrinfo **res);[73;254H[K[73;254H144,1[9C60%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Getnameinfo([1m[32mconst[m [1m[32mstruct[m sockaddr *sa, socklen_t salen, [1m[32mchar[m *host,[73;254H[K[73;254H145,1[9C61%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;18H[1m[32msize_t[m hostlen, [1m[32mchar[m *serv, [1m[32msize_t[m servlen, [1m[32mint[m flags);[73;254H[K[73;254H146,0-1[7C62%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Freeaddrinfo([1m[32mstruct[m addrinfo *res);[73;254H[K[73;254H147,1[9C62%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Inet_ntop([1m[32mint[m af, [1m[32mconst[m [1m[32mvoid[m *src, [1m[32mchar[m *dst, socklen_t size);[73;254H[K[73;254H148,1[9C63%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Inet_pton([1m[32mint[m af, [1m[32mconst[m [1m[32mchar[m *src, [1m[32mvoid[m *dst);[73;254H[K[73;254H149,1[9C64%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H150,1[9C65%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[36m/* DNS wrappers */[m[73;254H[K[73;254H151,1[9C66%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mstruct[m hostent *Gethostbyname([1m[32mconst[m [1m[32mchar[m *name);[73;254H[K[73;254H152,1[9C66%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mstruct[m hostent *Gethostbyaddr([1m[32mconst[m [1m[32mchar[m *addr, [1m[32mint[m len, [1m[32mint[m type);[73;254H[K[73;254H153,1[9C67%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[73;254H[K[73;254H154,1[9C68%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Pthreads thread control wrappers */[m[73;254H[K[73;254H155,0-1[7C69%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Pthread_create(pthread_t *tidp, pthread_attr_t *attrp,[73;254H[K[73;254H156,1[9C70%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;21H[1m[32mvoid[m * (*routine)([1m[32mvoid[m *), [1m[32mvoid[m *argp);[73;254H[K[73;254H157,1[9C70%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Pthread_join(pthread_t tid, [1m[32mvoid[m **thread_return);[73;254H[K[73;254H158,1[9C71%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Pthread_cancel(pthread_t tid);[73;254H[K[73;254H159,0-1[7C72%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Pthread_detach(pthread_t tid);[73;254H[K[73;254H160,1[9C73%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Pthread_exit([1m[32mvoid[m *retval);[73;254H[K[73;254H161,1[9C74%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1Hpthread_t Pthread_self([1m[32mvoid[m);[73;254H[K[73;254H162,1-8[7C74%[67;8H[?25h[?25l[73;244H~@k[67;8H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Pthread_once(pthread_once_t *once_control, [1m[32mvoid[m (*init_function)());[73;254H[K[73;254H163,1[9C75%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H164,1[9C76%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* POSIX semaphore wrappers */[m[73;254H[K[73;254H165,1[9C77%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Sem_init(sem_t *sem, [1m[32mint[m pshared, [1m[32munsigned[m [1m[32mint[m value);[73;254H[K[73;254H166,1[9C77%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m P(sem_t *sem);[73;254H[K[73;254H167,1[9C78%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m V(sem_t *sem);[73;254H[K[73;254H168,1[9C79%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[73;254H[K[73;254H169,0-1[7C80%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Rio (Robust I/O) package */[m[73;254H[K[73;254H170,1[9C81%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mssize_t[m rio_readn([1m[32mint[m fd, [1m[32mvoid[m *usrbuf, [1m[32msize_t[m n);[73;254H[K[73;254H171,1[9C81%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mssize_t[m rio_writen([1m[32mint[m fd, [1m[32mvoid[m *usrbuf, [1m[32msize_t[m n);[73;254H[K[73;254H172,1[9C82%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m rio_readinitb(rio_t *rp, [1m[32mint[m fd);[73;254H[K[73;254H173,1[9C83%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mssize_t[m rio_readnb(rio_t *rp, [1m[32mvoid[m *usrbuf, [1m[32msize_t[m n);[73;254H[K[73;254H174,0-1[7C84%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mssize_t[m rio_readlineb(rio_t *rp, [1m[32mvoid[m *usrbuf, [1m[32msize_t[m maxlen);[73;254H[K[73;254H175,1[9C85%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H176,1[9C85%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Wrappers for Rio package */[m[73;254H[K[73;254H177,1[9C86%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mssize_t[m Rio_readn([1m[32mint[m fd, [1m[32mvoid[m *usrbuf, [1m[32msize_t[m n);[73;254H[K[73;254H178,1[9C87%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Rio_writen([1m[32mint[m fd, [1m[32mvoid[m *usrbuf, [1m[32msize_t[m n);[73;254H[K[73;254H179,1[9C88%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mvoid[m Rio_readinitb(rio_t *rp, [1m[32mint[m fd);[73;254H[K[73;254H180,1[9C88%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mssize_t[m Rio_readnb(rio_t *rp, [1m[32mvoid[m *usrbuf, [1m[32msize_t[m n);[73;254H[K[73;254H181,0-1[7C89%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mssize_t[m Rio_readlineb(rio_t *rp, [1m[32mvoid[m *usrbuf, [1m[32msize_t[m maxlen);[73;254H[K[73;254H182,1[9C90%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H183,1[9C91%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Reentrant protocol-independent client/server helpers */[m[73;254H[K[73;254H184,1[9C92%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m open_clientfd([1m[32mchar[m *hostname, [1m[32mchar[m *port);[73;254H[K[73;254H185,1[9C92%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m open_listenfd([1m[32mchar[m *port);[73;254H[K[73;254H186,1[9C93%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[73;254H[K[73;254H187,1[9C94%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* Wrappers for reentrant protocol-independent client/server helpers */[m[73;254H[K[73;254H188,0-1[7C95%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m Open_clientfd([1m[32mchar[m *hostname, [1m[32mchar[m *port);[73;254H[K[73;254H189,1[9C96%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[32mint[m Open_listenfd([1m[32mchar[m *port);[73;254H[K[73;254H190,1[9C96%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H191,1[9C97%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H192,0-1[7C98%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H[1m[34m#endif[m [1m[36m/* __CSAPP_H__ */[m[73;254H[K[73;254H193,1[9C99%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* $end csapp.h */[m[73;254H[K[73;254H194,1[9CBot[67;1H[?25h[?25l[73;256H5[68;1H[?25h[?25l[73;244H~@k[68;1H[73;244H   [69;1H[73;256H6,0-1[69;1H[?25h[?25l[73;256H7[70;1H[?25h[?25l[73;256H8,1  [71;1H[?25h[?25l[73;244H~@k[71;1H[73;244H   [72;1H[73;256H9[72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H^[[72;1H[73;244H  [72;1H[73;244H^[[72;1H[73;244H  [72;1H[?25h[?25l[73;244H^[[72;1H[73;244H  [72;1H[73;244H^[[72;1H[73;244H  [72;1H[?25h[?25l[73;244H:[72;1H[73;244H[K[73;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[73;3H[K[73;3H[?25hw[?25l[?25h[?25l[73;3H[K[73;3H[?25hq[?25l[?25h[?25l[?2004l"csapp.h" 199L, 6622C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim csapp.h[Kc
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;73r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[73;1H"csapp.c" 1071L, 24035C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m/* 
 * csapp.c - Functions for the CS:APP3e book
 *
 * Updated [m[31m10[m[34m/[m[31m2016[m[34m reb:
 *   - Fixed bug in sio_ltoa that didn't cover negative numbers
 *
 * Updated [m[31m2[m[34m/[m[31m2016[m[34m droh:
 *   - Updated open_clientfd and open_listenfd to fail more gracefully
 *
 * Updated [m[31m8[m[34m/[m[31m2014[m[34m droh: 
 *   - New versions of open_clientfd and open_listenfd are reentrant and
 *     protocol independent.
 *
 *   - Added protocol-independent inet_ntop and inet_pton functions. The
 *     inet_ntoa and inet_aton functions are obsolete.
 *
 * Updated [m[31m7[m[34m/[m[31m2014[m[34m droh:
 *   - Aded reentrant sio (signal-safe I/O) routines
 * 
 * Updated [m[31m4[m[34m/[m[31m2013[m[34m droh: 
 *   - rio_readlineb: fixed edge case bug
 *   - rio_readnb: removed redundant EINTR check
 */
/* $begin csapp.c */[m
[35m#include [m[31m"csapp.h"[m

[34m/************************** 
 * Error-handling functions
 **************************/
/* $begin errorfuns */
/* $begin unixerror */[m
[32mvoid[m unix_error([32mchar[m *msg) [34m/* Unix-style error */[m
{
    fprintf([31mstderr[m, [31m"[m[35m%s[m[31m: [m[35m%s\n[m[31m"[m, msg, strerror(errno));
    exit([31m0[m);
}
[34m/* $end unixerror */[m

[32mvoid[m posix_error([32mint[m code, [32mchar[m *msg) [34m/* Posix-style error */[m
{
    fprintf([31mstderr[m, [31m"[m[35m%s[m[31m: [m[35m%s\n[m[31m"[m, msg, strerror(code));
    exit([31m0[m);
}

[32mvoid[m gai_error([32mint[m code, [32mchar[m *msg) [34m/* Getaddrinfo-style error */[m
{
    fprintf([31mstderr[m, [31m"[m[35m%s[m[31m: [m[35m%s\n[m[31m"[m, msg, gai_strerror(code));
    exit([31m0[m);
}

[32mvoid[m app_error([32mchar[m *msg) [34m/* Application error */[m
{
    fprintf([31mstderr[m, [31m"[m[35m%s\n[m[31m"[m, msg);
    exit([31m0[m);
}
[34m/* $end errorfuns */[m

[32mvoid[m dns_error([32mchar[m *msg) [34m/* Obsolete gethostbyname error */[m
{
    fprintf([31mstderr[m, [31m"[m[35m%s\n[m[31m"[m, msg);
    exit([31m0[m);
}


[34m/*********************************************
 * Wrappers for Unix process control functions
 ********************************************/

/* $begin forkwrapper */[m
pid_t Fork([32mvoid[m)
{
    pid_t pid;[73;254H1,1[11CTop[1;1H[?25h[?25l[73;244H^[[1;1H[73;246H][1;1H[73;247H1[1;1H[73;248H1[1;1H[73;249H;[1;1H[73;244H      [1;1H[27m[23m[29m[m[H[2J[1;1H[1m[36m/* 
 * csapp.c - Functions for the CS:APP3e book
 *
 * Updated [m[1m[35m10[m[1m[36m/[m[1m[35m2016[m[1m[36m reb:
 *   - Fixed bug in sio_ltoa that didn't cover negative numbers
 *
 * Updated [m[1m[35m2[m[1m[36m/[m[1m[35m2016[m[1m[36m droh:
 *   - Updated open_clientfd and open_listenfd to fail more gracefully
 *
 * Updated [m[1m[35m8[m[1m[36m/[m[1m[35m2014[m[1m[36m droh: 
 *   - New versions of open_clientfd and open_listenfd are reentrant and
 *     protocol independent.
 *
 *   - Added protocol-independent inet_ntop and inet_pton functions. The
 *     inet_ntoa and inet_aton functions are obsolete.
 *
 * Updated [m[1m[35m7[m[1m[36m/[m[1m[35m2014[m[1m[36m droh:
 *   - Aded reentrant sio (signal-safe I/O) routines
 * 
 * Updated [m[1m[35m4[m[1m[36m/[m[1m[35m2013[m[1m[36m droh: 
 *   - rio_readlineb: fixed edge case bug
 *   - rio_readnb: removed redundant EINTR check
 */
/* $begin csapp.c */[m
[1m[34m#include [m[1m[35m"csapp.h"[m

[1m[36m/************************** 
 * Error-handling functions
 **************************/
/* $begin errorfuns */
/* $begin unixerror */[m
[1m[32mvoid[m unix_error([1m[32mchar[m *msg) [1m[36m/* Unix-style error */[m
{
    fprintf([1m[35mstderr[m, [1m[35m"[m[1m[31m%s[m[1m[35m: [m[1m[31m%s\n[m[1m[35m"[m, msg, strerror(errno));
    exit([1m[35m0[m);
}
[1m[36m/* $end unixerror */[m

[1m[32mvoid[m posix_error([1m[32mint[m code, [1m[32mchar[m *msg) [1m[36m/* Posix-style error */[m
{
    fprintf([1m[35mstderr[m, [1m[35m"[m[1m[31m%s[m[1m[35m: [m[1m[31m%s\n[m[1m[35m"[m, msg, strerror(code));
    exit([1m[35m0[m);
}

[1m[32mvoid[m gai_error([1m[32mint[m code, [1m[32mchar[m *msg) [1m[36m/* Getaddrinfo-style error */[m
{
    fprintf([1m[35mstderr[m, [1m[35m"[m[1m[31m%s[m[1m[35m: [m[1m[31m%s\n[m[1m[35m"[m, msg, gai_strerror(code));
    exit([1m[35m0[m);
}

[1m[32mvoid[m app_error([1m[32mchar[m *msg) [1m[36m/* Application error */[m
{
    fprintf([1m[35mstderr[m, [1m[35m"[m[1m[31m%s\n[m[1m[35m"[m, msg);
    exit([1m[35m0[m);
}
[1m[36m/* $end errorfuns */[m

[1m[32mvoid[m dns_error([1m[32mchar[m *msg) [1m[36m/* Obsolete gethostbyname error */[m
{
    fprintf([1m[35mstderr[m, [1m[35m"[m[1m[31m%s\n[m[1m[35m"[m, msg);
    exit([1m[35m0[m);
}


[1m[36m/*********************************************
 * Wrappers for Unix process control functions
 ********************************************/

/* $begin forkwrapper */[m
pid_t Fork([1m[32mvoid[m)
{
    pid_t pid;[73;254H1,1[11CTop"csapp.c" 1071L, 24035C[1;1H[?25h[?25l[73;244H\[1;1H[73;244H [1;1H[?25h[?25l[73;244H/[1;1H[73;1H[K[73;1H/[?2004h[?25h [?25l[1;1H[73;254H1,1[11CTop[1;1H[?25h[?25l[73;244H:[1;1H[73;244H[K[73;1H:[?2004h[?25h%[?25l[?25hs[?25l[?25h/[?25l[?25hg[?25l[?25ha[?25l[?25hi[?25l[?25h_[?25l[?25he[?25l[?25hr[?25l[?25hr[?25l[?25ho[?25l[?25hr[?25l[?25h/[?25l[?25hg[?25l[?25ha[?25l[?25hi[?25l[?25h_[?25l[?25he[?25l[?25hr[?25l[?25hr[?25l[?25ho[?25l[?25hr[?25l[?25h1[?25l[?25h/[?25l[?25hg[?25l[?25h[?25l3 substitutions on 3 lines[36;9H[1;1H[K[2;1H    [1m[33mif[m ((rc = accept(s, addr, addrlen)) < [1m[35m0[m)
        unix_error([1m[35m"Accept error"[m);
    [1m[33mreturn[m rc;[4;15H[K[5;1H}[5;2H[K[6;1H[K[7;1H[1m[32mvoid[m Connect([1m[32mint[m sockfd, [1m[32mstruct[m sockaddr *serv_addr, [1m[32mint[m addrlen)
{[8;2H[K[9;1H    [1m[32mint[m rc;[10;1H[K[11;1H    [1m[33mif[m ((rc = connect(sockfd, serv_addr, addrlen)) < [1m[35m0[m)[11;56H[K[12;1H        unix_error([1m[35m"Connect error"[m);
}[13;2H[K[14;1H[K[15;1H[1m[36m/*******************************[m[15;33H[K[16;3H[1m[36m Protocol-independent wrappers
 *******************************/
/* $begin getaddrinfo */[m[18;25H[K[19;1H[1m[32mvoid[m Getaddrinfo([1m[32mconst[m [1m[32mchar[m *node, [1m[32mconst[m [1m[32mchar[m *service,
                 [1m[32mconst[m [1m[32mstruct[m addrinfo *hints, [1m[32mstruct[m addrinfo **res)
{[21;2H[K[22;1H    [1m[32mint[m rc;[22;12H[K[23;1H[K[24;1H    [1m[33mif[m ((rc = getaddrinfo(node, service, hints, res)) != [1m[35m0[m)
        gai_error1(rc, [1m[35m"Getaddrinfo error"[m);
}[27;3H[1m[36m $end getaddrinfo */[m[27;23H[K[28;1H[K[29;1H[1m[32mvoid[m Getnameinfo([1m[32mconst[m [1m[32mstruct[m sockaddr *sa, socklen_t salen, [1m[32mchar[m *host,
                 [1m[32msize_t[m hostlen, [1m[32mchar[m *serv, [1m[32msize_t[m servlen, [1m[32mint[m flags)
{[31;2H[K[32;1H    [1m[32mint[m rc;[32;12H[K[33;1H[K[34;5H[1m[33mif[m ((rc = getnameinfo(sa, salen, host, hostlen, serv,
            [14Cservlen, flags)) != [1m[35m0[m)
 [7Cgai_error1(rc, [1m[35m"Getnameinfo error"[m);
}[37;2H[K[39;6HFreeaddrinfo([1m[32mstruct[m addrinfo *res)[39;40H[K[41;6Hreeaddrinfo(res);[41;23H[K[42;1H}[42;5H[K[43;1H[K[44;1H[1m[32mvoid[m Inet_ntop([1m[32mint[m af, [1m[32mconst[m [1m[32mvoid[m *src, [1m[32mchar[m *dst, socklen_t size)
{[45;2H[K[46;1H    [1m[33mif[m (!inet_ntop(af, src, dst, size))
        unix_error([1m[35m"Inet_ntop error"[m);[47;39H[K[48;1H}[48;5H[K[49;1H[K[50;1H[1m[32mvoid[m Inet_pton([1m[32mint[m af, [1m[32mconst[m [1m[32mchar[m *src, [1m[32mvoid[m *dst)
{[51;2H[K[52;1H    [1m[32mint[m rc;[53;5H[K[54;5Hrc = inet_pton(af, src, dst);
    [1m[33mif[m (rc == [1m[35m0[m)
        app_error([1m[35m"inet_pton error: invalid dotted-decimal address"[m);
    [1m[33melse[m [1m[33mif[m (rc < [1m[35m0[m)
        unix_error([1m[35m"Inet_pton error"[m);[58;39H[K[59;1H}[60;5H[K[61;1H[1m[36m/*******************************************
 * DNS interface wrappers. 
 *
 * NOTE: These are obsolete because they are not thread safe. Use
 * getaddrinfo and getnameinfo instead[m[65;39H[K[66;3H[1m[36m**********************************/[m[66;38H[K[67;1H[K[68;1H[1m[36m/* $begin gethostbyname */[m
[1m[32mstruct[m hostent *Gethostbyname([1m[32mconst[m [1m[32mchar[m *name)
{[70;2H[K[71;1H    [1m[32mstruct[m hostent *p;[72;5H[K[73;254H619,9[9C58%[73;254H[K[73;254H619,9[9C58%[36;9H[?25h[?25l[73;244H:[36;9H[73;1H[K[73;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"csapp.c" 1071L, 24038C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim csapp.chshellex.c[3P./shellex make shellex
gcc -o shellex shellex.c csapp.c -lpthread
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ ./shellex [K
> ls
Makefile  MySession.txt  csapp.c  csapp.h  fork  fork.c  forkfun  forkfun.c  shellex  shellex.c
> cat shel	lex.c
#define _GNU_SOURCE
/* $begin shellmain */
#include "csapp.h"
#define MAXARGS   128

/* Function prototypes */
void eval(char *cmdline);
int parseline(char *buf, char **argv);
int builtin_command(char **argv); 

int main() 
{
    char cmdline[MAXLINE]; /* Command line */

    while (1) {
	/* Read */
	printf("> ");                   
	Fgets(cmdline, MAXLINE, stdin); 
	if (feof(stdin))
	    exit(0);

	/* Evaluate */
	eval(cmdline);
    } 
}
/* $end shellmain */
  
/* $begin eval */
/* eval - Evaluate a command line */
void eval(char *cmdline) 
{
    char *argv[MAXARGS]; /* Argument list execve() */
    char buf[MAXLINE];   /* Holds modified command line */
    int bg;              /* Should the job run in bg or fg? */
    pid_t pid;           /* Process id */
    
    strcpy(buf, cmdline);
    bg = parseline(buf, argv); 
    if (argv[0] == NULL)  
	return;   /* Ignore empty lines */

    if (!builtin_command(argv)) { 
        if ((pid = Fork()) == 0) {   /* Child runs user job */
            if (execvpe(argv[0], argv, environ) < 0) {
                printf("%s: Command not found.\n", argv[0]);
                exit(0);
            }
        }

	/* Parent waits for foreground job to terminate */
	if (!bg) {
	    int status;
	    if (waitpid(pid, &status, 0) < 0)
		unix_error("waitfg: waitpid error");
	}
	else
	    printf("%d %s", pid, cmdline);
    }
    return;
}

/* If first arg is a builtin command, run it and return true */
int builtin_command(char **argv) 
{
    if (!strcmp(argv[0], "quit")) /* quit command */
	exit(0);  
    if (!strcmp(argv[0], "&"))    /* Ignore singleton & */
	return 1;
    return 0;                     /* Not a builtin command */
}
/* $end eval */

/* $begin parseline */
/* parseline - Parse the command line and build the argv array */
int parseline(char *buf, char **argv) 
{
    char *delim;         /* Points to first space delimiter */
    int argc;            /* Number of args */
    int bg;              /* Background job? */

    buf[strlen(buf)-1] = ' ';  /* Replace trailing '\n' with space */
    while (*buf && (*buf == ' ')) /* Ignore leading spaces */
	buf++;

    /* Build the argv list */
    argc = 0;
    while ((delim = strchr(buf, ' '))) {
	argv[argc++] = buf;
	*delim = '\0';
	buf = delim + 1;
	while (*buf && (*buf == ' ')) /* Ignore spaces */
            buf++;
    }
    argv[argc] = NULL;
    
    if (argc == 0)  /* Ignore blank line */
	return 1;

    /* Should the job run in the background? */
    if ((bg = (*argv[argc-1] == '&')) != 0)
	argv[--argc] = NULL;

    return bg;
}
/* $end parseline */


> /bin/ls
Makefile  MySession.txt  csapp.c  csapp.h  fork  fork.c  forkfun  forkfun.c  shellex  shellex.c
> ^C
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ ./shellexmake shellex[1Pvim csapp.chshellex.c[3P./shellex make shellexvim shellex.c [9Pclearwget http://csapp.cs.cmu.edu/3e/ics3/code/src/csapp.cinclude/csapp.h[2Pecf/shellex.cclear[Kat > /dev/nulllear[Kat > /dev/null
The modified file now searches the PATH in order to find functio       builtin commands^[:wq      s
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ clear
[3J[H[2J]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim shellex.c
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;73r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[73;1H"shellex.c" 107L, 2583C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#define _GNU_SOURCE[m
[34m/* $begin shellmain */[m
[35m#include [m[31m"csapp.h"[m
[35m#define MAXARGS   [m[31m128[m

[34m/* Function prototypes */[m
[32mvoid[m eval([32mchar[m *cmdline);
[32mint[m parseline([32mchar[m *buf, [32mchar[m **argv);
[32mint[m builtin_command([32mchar[m **argv);

[32mint[m main()
{
    [32mchar[m cmdline[MAXLINE]; [34m/* Command line */[m[15;5H[33mwhile[m ([31m1[m) {[16;9H[34m/* Read */[m[17;9Hprintf([31m"> "[m);[18;9HFgets(cmdline, MAXLINE, [31mstdin[m);[19;9H[33mif[m (feof([31mstdin[m))[20;13Hexit([31m0[m);[22;9H[34m/* Evaluate */[m[23;9Heval(cmdline);
    }
}
[34m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[32mvoid[m eval([32mchar[m *cmdline)
{
    [32mchar[m *argv[MAXARGS]; [34m/* Argument list execve() */[m
    [32mchar[m buf[MAXLINE];   [34m/* Holds modified command line */[m
    [32mint[m bg;[14C[34m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[34m/* Process id */[m[37;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [33mif[m (argv[[31m0[m] == [31mNULL[m)[40;9H[33mreturn[m;   [34m/* Ignore empty lines */[m[42;5H[33mif[m (!builtin_command(argv)) {[43;9H[33mif[m ((pid = Fork()) == [31m0[m) {   [34m/* Child runs user job */[m[44;13H[33mif[m (execvpe(argv[[31m0[m], argv, environ) < [31m0[m) {[45;17Hprintf([31m"[m[35m%s[m[31m: Command not found.[m[35m\n[m[31m"[m, argv[[31m0[m]);[46;17Hexit([31m0[m);[47;13H}[48;9H}[50;9H[34m/* Parent waits for foreground job to terminate */[m[51;9H[33mif[m (!bg) {[52;13H[32mint[m status;[53;13H[33mif[m (waitpid(pid, &status, [31m0[m) < [31m0[m)[54;17Hunix_error([31m"waitfg: waitpid error"[m);[55;9H}[56;9H[33melse[m[57;13Hprintf([31m"[m[35m%d[m[31m [m[35m%s[m[31m"[m, pid, cmdline);
    }
    [33mreturn[m;
}

[34m/* If first arg is a builtin command, run it and return true */[m
[32mint[m builtin_command([32mchar[m **argv)
{
    [33mif[m (!strcmp(argv[[31m0[m], [31m"quit"[m)) [34m/* quit command */[m[66;9Hexit([31m0[m);
    [33mif[m (!strcmp(argv[[31m0[m], [31m"&"[m))    [34m/* Ignore singleton & */[m[68;9H[33mreturn[m [31m1[m;
    [33mreturn[m [31m0[m;[21C[34m/* Not a builtin command */[m
}
[34m/* $end eval */[m[73;254H54,12-26      Top[54;26H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[1m[34m#define _GNU_SOURCE[m
[1m[36m/* $begin shellmain */[m
[1m[34m#include [m[1m[35m"csapp.h"[m
[1m[34m#define MAXARGS   [m[1m[35m128[m

[1m[36m/* Function prototypes */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline);
[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv);
[1m[32mint[m builtin_command([1m[32mchar[m **argv);

[1m[32mint[m main()
{
    [1m[32mchar[m cmdline[MAXLINE]; [1m[36m/* Command line */[m[15;5H[1m[33mwhile[m ([1m[35m1[m) {[16;9H[1m[36m/* Read */[m[17;9Hprintf([1m[35m"> "[m);[18;9HFgets(cmdline, MAXLINE, [1m[35mstdin[m);[19;9H[1m[33mif[m (feof([1m[35mstdin[m))[20;13Hexit([1m[35m0[m);[22;9H[1m[36m/* Evaluate */[m[23;9Heval(cmdline);
    }
}
[1m[36m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline)
{
    [1m[32mchar[m *argv[MAXARGS]; [1m[36m/* Argument list execve() */[m
    [1m[32mchar[m buf[MAXLINE];   [1m[36m/* Holds modified command line */[m
    [1m[32mint[m bg;[14C[1m[36m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[1m[36m/* Process id */[m[37;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [1m[33mif[m (argv[[1m[35m0[m] == [1m[35mNULL[m)[40;9H[1m[33mreturn[m;   [1m[36m/* Ignore empty lines */[m[42;5H[1m[33mif[m (!builtin_command(argv)) {[43;9H[1m[33mif[m ((pid = Fork()) == [1m[35m0[m) {   [1m[36m/* Child runs user job */[m[44;13H[1m[33mif[m (execvpe(argv[[1m[35m0[m], argv, environ) < [1m[35m0[m) {[45;17Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m: Command not found.[m[1m[31m\n[m[1m[35m"[m, argv[[1m[35m0[m]);[46;17Hexit([1m[35m0[m);[47;13H}[48;9H}[50;9H[1m[36m/* Parent waits for foreground job to terminate */[m[51;9H[1m[33mif[m (!bg) {[52;13H[1m[32mint[m status;[53;13H[1m[33mif[m (waitpid(pid, &status, [1m[35m0[m) < [1m[35m0[m)[54;17Hunix_error([1m[35m"waitfg: waitpid error"[m);[55;9H}[56;9H[1m[33melse[m[57;13Hprintf([1m[35m"[m[1m[31m%d[m[1m[35m [m[1m[31m%s[m[1m[35m"[m, pid, cmdline);
    }
    [1m[33mreturn[m;
}

[1m[36m/* If first arg is a builtin command, run it and return true */[m
[1m[32mint[m builtin_command([1m[32mchar[m **argv)
{
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"quit"[m)) [1m[36m/* quit command */[m[66;9Hexit([1m[35m0[m);
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[68;9H[1m[33mreturn[m [1m[35m1[m;
    [1m[33mreturn[m [1m[35m0[m;[21C[1m[36m/* Not a builtin command */[m
}
[1m[36m/* $end eval */[m[73;254H54,12-26      Top"shellex.c" 107L, 2583C[54;26H[?25h[?25l[51;18H[46m{[55;9H}[m[73;255H5,2-9  [55;9H[?25h[?25l[51;18H{[55;9H}[73;255H6[56;9H[?25h[?25l[73;244H~@k[56;9H[73;244H   [57;9H[73;255H7[57;9H[?25h[?25l[42;33H[46m{[58;5H}[m[73;255H8,5  [58;5H[?25h[?25l[42;33H{[58;5H}[73;255H9,9[59;9H[?25h[?25l[73;244H~@k[59;9H[73;244H   [60;1H[31;1H[46m{[60;1H}[m[73;254H60,1[60;1H[?25h[?25l[31;1H{[60;1H}[73;255H1,0-1[61;1H[?25h[?25l[73;255H2,9  [62;9H[?25h[?25l[73;244H~@k[62;9H[73;244H   [63;9H[73;255H3[63;9H[?25h[?25l
[46m{[70;1H}[m[73;255H4,1[64;1H[?25h[?25l{[70;1H}[73;255H5,9[65;9H[?25h[?25l[73;244H~@k[65;9H[73;244H   [66;9H[73;255H6,2-9[66;9H[?25h[?25l[73;255H7,9  [67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* $begin parseline */[m[73;1H[K[73;254H68,2-9[9C2%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;9H[1;72r[72;1H
[1;73r[72;1H[1m[36m/* parseline - Parse the command line and build the argv array */[m[73;254H[K[73;254H69,9[11C5%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[61;1H[46m{[67;1H}[m[72;1H[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv)[73;254H[K[73;254H70,1[11C8%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[60;1H{[66;1H}[72;1H{[73;254H[K[73;254H71,9[10C11%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;5H[1m[32mchar[m *delim;[9C[1m[36m/* Points to first space delimiter */[m[73;254H[K[73;254H72,0-1[8C14%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[32mint[m argc;[12C[1m[36m/* Number of args */[m[73;254H[K[73;254H73,9[10C17%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[32mint[m bg;[14C[1m[36m/* Background job? */[m[73;254H[K[73;254H74,9[10C20%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;9H[1;72r[72;1H
[1;73r[73;254H[K[73;254H75,9[10C22%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;5Hbuf[strlen(buf)-[1m[35m1[m] = [1m[35m' '[m;  [1m[36m/* Replace trailing '\n' with space */[m[73;254H[K[73;254H76,1[10C25%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore leading spaces */[m[73;254H[K[73;254H77,9[10C28%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;9H[1;72r[72;1H
[1;73r[72;9Hbuf++;[73;254H[K[73;254H78,9[10C31%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H79,9[10C34%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[36m/* Build the argv list */[m[73;254H[K[73;254H80,0-1[8C37%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;9H[1;72r[72;1H
[1;73r[72;5Hargc = [1m[35m0[m;[73;254H[K[73;254H81,9[10C40%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[33mwhile[m ((delim = strchr(buf, [1m[35m' '[m))) {[73;254H[K[73;254H82,9[10C42%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;9Hargv[argc++] = buf;[73;254H[K[73;254H83,2-9[8C45%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;9H*delim = [1m[31m'\0'[m;[73;254H[K[73;254H84,0-1[8C48%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;9Hbuf = delim + [1m[35m1[m;[73;254H[K[73;254H85,9[10C51%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;9H[1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore spaces */[m[73;254H[K[73;254H86,9[10C54%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;9H[1;72r[72;1H
[1;73r[72;13Hbuf++;[73;254H[K[73;254H87,9[10C57%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H}[73;254H[K[73;254H88,2-9[8C60%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;5Hargv[argc] = [1m[35mNULL[m;[73;254H[K[73;254H89,2-9[8C62%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;9H[1;72r[72;1H
[1;73r[73;254H[K[73;254H90,2-9[8C65%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[33mif[m (argc == [1m[35m0[m)  [1m[36m/* Ignore blank line */[m[73;254H[K[73;254H91,2-9[8C68%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;9H[1m[33mreturn[m [1m[35m1[m;[73;254H[K[73;254H92,9[10C71%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;5H[1;72r[72;1H
[1;73r[61;40H[46m{[67;5H}[m[73;254H[K[73;254H93,5[10C74%[67;5H[?25h[?25l[1;72r[72;1H
[1;73r[60;40H{[66;5H}[67;9H[46m[[margc[46m][m[72;5H[1m[36m/* Should the job run in the background? */[m[73;254H[K[73;254H94,9[10C77%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[66;9H[argc][72;5H[1m[33mif[m ((bg = (*argv[argc-[1m[35m1[m] == [1m[35m'&'[m)) != [1m[35m0[m)[73;254H[K[73;254H95,4[10C80%[67;4H[?25h[?25l[73;244H~@k[67;4H[73;244H   [67;9H[1;72r[72;1H
[1;73r[72;9Hargv[--argc] = [1m[35mNULL[m;[73;254H[K[73;254H96,9[10C82%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H97,2-9[8C85%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[33mreturn[m bg;[73;254H[K[73;254H98,0-1[8C88%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;9H[1;72r[72;1H
[1;73r[72;1H}[73;254H[K[73;254H99,9[10C91%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[67;9H[46m([27C)[m[72;1H[1m[36m/* $end parseline */[m[73;254H[K[73;254H100,9[9C94%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[66;9H([27C)[73;254H[K[73;254H101,2-9[7C97%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;1H[1;72r[72;1H
[1;73r[73;254H[K[73;254H102,0-1[7CBot[67;1H[?25h[?25l[73;256H3,9  [68;9H[?25h[?25l[41;1H[46m{[69;1H}[m[73;256H4,1[69;1H[?25h[?25l[73;244H~@k[69;1H[73;244H   [70;9H[41;1H{[69;1H}[73;256H5,9[70;9H[?25h[?25l[73;256H6,0-1[71;1H[?25h[?25l[73;256H7[72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;256H6[71;1H[?25h[?25l[73;256H5,9  [70;9H[?25h[?25l[73;244H~@k[70;9H[73;244H   [69;1H[41;1H[46m{[69;1H}[m[73;256H4,1[69;1H[?25h[?25l[41;1H{[69;1H}[73;256H3,9[68;9H[?25h[?25l[73;256H2,0-1[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [66;9H[73;256H1,2-9[66;9H[?25h[?25l[65;9H[46m([27C)[m[73;256H0,9  [65;9H[?25h[?25l([27C)[73;254H99,9 [64;9H[?25h[?25l[73;244H~@k[64;9H[73;244H   [63;1H[73;255H8,0-1[63;1H[?25h[?25l[73;255H7,2-9[62;9H[?25h[?25l[73;255H6,9  [61;9H[?25h[?25l[73;244H~@k[61;9H[73;244H   [60;4H[73;255H5,4[60;4H[?25h[?25l[59;9H[46m[[margc[46m][m[73;255H4,9[59;9H[?25h[?25l[52;40H[46m{[58;5H}[m[59;9H[argc][73;255H3,5[58;5H[?25h[?25l[73;244H~@k[58;5H[73;244H   [57;9H[52;40H{[58;5H}[73;255H2,9[57;9H[?25h[?25l[73;255H1,2-9[56;9H[?25h[?25l[73;255H0[55;9H[?25h[?25l[73;244H~@k[55;9H[73;244H   [54;9H[73;254H89[54;9H[?25h[?25l[73;255H8[53;9H[?25h[?25l[73;255H7,9  [52;9H[?25h[?25l[73;244H~@k[52;9H[73;244H   [51;9H[73;255H6[51;9H[?25h[?25l[73;255H5[50;9H[?25h[?25l[73;255H4,0-1[49;1H[?25h[?25l[73;244H~@k[49;1H[73;244H   [48;9H[73;255H3,2-9[48;9H[?25h[?25l[73;255H2,9  [47;9H[?25h[?25l[73;255H1[46;9H[?25h[?25l[73;244H~@k[46;9H[73;244H   [45;1H[73;255H0,0-1[45;1H[?25h[?25l[73;254H79,9  [44;9H[?25h[?25l[73;255H8[43;9H[?25h[?25l[73;244H~@k[43;9H[73;244H   [42;9H[73;255H7[42;9H[?25h[?25l[41;1H[46m{[69;1H}[m[73;255H6,1[41;1H[?25h[?25l{[69;1H}[73;255H5,9[40;9H[?25h[?25l[73;244H~@k[40;9H[73;244H   [39;9H[73;255H4[39;9H[?25h[?25l[73;255H3[38;9H[?25h[?25l[73;255H2,0-1[37;1H[?25h[?25l[73;244H~@k[37;1H[73;244H   [36;9H[73;255H1,9  [36;9H[?25h[?25l[29;1H[46m{[35;1H}[m[73;255H0,1[35;1H[?25h[?25l[29;1H{[35;1H}[73;254H69,9[34;9H[?25h[?25l[73;244H~@k[34;9H[73;244H   [33;9H[73;255H8,2-9[33;9H[?25h[?25l[73;255H7,9  [32;9H[?25h[?25l[73;255H6,2-9[31;9H[?25h[?25l[73;244H~@k[31;9H[73;244H   [30;9H[73;255H5,9  [30;9H[?25h[?25l[29;1H[46m{[35;1H}[m[73;255H4,1[29;1H[?25h[?25l{[35;1H}[73;255H3,9[28;9H[?25h[?25l[73;244H~@k[28;9H[73;244H   [27;9H[73;255H2[27;9H[?25h[?25l[73;255H1,0-1[26;1H[?25h[?25l[73;255H0,1  [25;1H[?25h[?25l[73;244H~@k[25;1H[73;244H   [24;9H[73;254H59,9[24;9H[?25h[?25l[7;33H[46m{[23;5H}[m[73;255H8,5[23;5H[?25h[?25l[7;33H{[23;5H}[73;255H7,2-9[22;9H[?25h[?25l[73;244H~@k[22;9H[73;244H   [21;9H[73;255H6[21;9H[?25h[?25l[16;18H[46m{[20;9H}[m[73;255H5[20;9H[?25h[?25l[16;18H{[20;9H}[73;255H4,2-16[19;16H[?25h[?25l[73;244H~@k[19;16H[73;244H   [18;9H[73;255H3,2-9 [18;9H[?25h[?25l[73;255H2[17;9H[?25h[?25l[73;255H1[16;9H[?25h[?25l[73;244H~@k[16;9H[73;244H   [15;9H[73;255H0[15;9H[?25h[?25l[73;254H49,0-1[14;1H[?25h[?25l[8;34H[46m{[13;9H}[m[73;255H8,9  [13;9H[?25h[?25l[73;244H~@k[13;9H[73;244H   [12;9H[8;34H{[13;9H}[73;255H7[12;9H[?25h[?25l[73;255H6[11;9H[?25h[?25l[73;255H5[10;9H[?25h[?25l[73;244H~@k[10;9H[73;244H   [9;9H[73;255H4[9;9H[?25h[?25l[73;255H3[8;9H[?25h[?25l[73;255H2[7;9H[?25h[?25l[73;244H~@k[7;9H[73;244H   [6;1H[73;255H1,0-1[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;5Hpid_t pid;[11C[1m[36m/* Process id */[m[73;254H[K[73;254H40,2-9[8C97%[6;9H[?25h[?25l[1;72r[1;1H[L[1;73r[1;5H[1m[32mint[m bg;[14C[1m[36m/* Should the job run in bg or fg? */[m[73;254H[K[73;254H39,9[10C94%[6;9H[?25h[?25l[73;244H~@k[6;9H[73;244H   [6;9H[1;72r[1;1H[L[1;73r[1;5H[1m[32mchar[m buf[MAXLINE];   [1m[36m/* Holds modified command line */[m[73;254H[K[73;254H38,9[10C91%[6;9H[?25h[?25l[1;72r[1;1H[L[1;73r[1;5H[1m[32mchar[m *argv[MAXARGS]; [1m[36m/* Argument list execve() */[m[73;254H[K[73;254H37,9[10C88%[6;9H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H{[73;254H[K[73;254H36,4[10C85%[6;4H[?25h[?25l[73;244H~@k[6;4H[73;244H   [6;9H[1;72r[1;1H[L[1;73r[1;1H[1m[32mvoid[m eval([1m[32mchar[m *cmdline)[73;254H[K[73;254H35,9[10C82%[6;9H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[36m/* eval - Evaluate a command line */[m[73;254H[K[73;254H34,9[10C80%[6;9H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[36m/* $begin eval */[m[73;254H[K[73;254H33,9[10C77%[6;9H[?25h[?25l[73;244H~@k[6;9H[73;244H   [6;9H[1;72r[1;1H[L[1;73r[73;254H[K[73;254H32,9[10C74%[6;9H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[36m/* $end shellmain */[m[6;1H[46m{[35;1H}[m[73;254H[K[73;254H31,1[10C71%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H}[7;1H{[36;1H}[73;254H[K[73;254H30,9[10C68%[6;9H[?25h[?25l[73;244H~@k[6;9H[73;244H   [6;9H[1;72r[1;1H[L[1;73r[1;5H}[73;254H[K[73;254H29,9[10C65%[6;9H[?25h[?25l[1;72r[1;1H[L[1;73r[1;9Heval(cmdline);[73;254H[K[73;254H28,9[10C62%[6;9H[?25h[?25l[1;72r[1;1H[L[1;73r[1;9H[1m[36m/* Evaluate */[m[73;254H[K[73;254H27,2[10C60%[6;2H[?25h[?25l[73;244H~@k[6;2H[73;244H   [6;9H[1;72r[1;1H[L[1;73r[73;254H[K[73;254H26,9[10C57%[6;9H[?25h[?25l[73;255H7,2[7;2H[?25h[?25l[73;255H8,9[8;9H[?25h[?25l[73;244H~@k[8;9H[73;244H   [9;9H[73;255H9[9;9H[?25h[?25l[73;254H30[10;9H[?25h[?25l
[46m{[40;1H}[m[73;255H1,1[11;1H[?25h[?25l[73;244H~@k[11;1H[73;244H   [12;9H[11;1H{[40;1H}[73;255H2,9[12;9H[?25h[?25l[73;255H3[13;9H[?25h[?25l[73;255H4[14;9H[?25h[?25l[73;244H~@k[14;9H[73;244H   [15;9H[73;255H5[15;9H[?25h[?25l[73;255H6,4[16;4H[?25h[?25l[73;255H7,9[17;9H[?25h[?25l[73;244H~@k[17;9H[73;244H   [18;9H[73;255H8[18;9H[?25h[?25l[73;255H9[19;9H[?25h[?25l[73;254H40,2-9[20;9H[?25h[?25l[73;244H~@k[20;9H[73;244H   [21;1H[73;255H1,0-1[21;1H[?25h[?25l[73;255H2,9  [22;9H[?25h[?25l[73;255H3[23;9H[?25h[?25l[73;244H~@k[23;9H[73;244H   [24;9H[73;255H4[24;9H[?25h[?25l[73;255H5[25;9H[?25h[?25l[73;255H6[26;9H[?25h[?25l[73;244H~@k[26;9H[73;244H   [27;9H[73;255H7[27;9H[?25h[?25l[23;34H[46m{[28;9H}[m[73;255H8[28;9H[?25h[?25l[23;34H{[28;9H}[73;255H9,0-1[29;1H[?25h[?25l[73;244H~@k[29;1H[73;244H   [30;9H[73;254H50,2-9[30;9H[?25h[?25l[73;255H1[31;9H[?25h[?25l[73;255H2[32;9H[?25h[?25l[73;244H~@k[32;9H[73;244H   [33;9H[73;255H3[33;9H[?25h[?25l[73;255H4,2-16[34;16H[?25h[?25l[31;18H[46m{[35;9H}[m[73;255H5,2-9 [35;9H[?25h[?25l[73;244H~@k[35;9H[73;244H   [36;9H[31;18H{[35;9H}[73;255H6[36;9H[?25h[?25l[73;255H7[37;9H[?25h[?25l[22;33H[46m{[38;5H}[m[73;255H8,5  [38;5H[?25h[?25l[73;244H~@k[38;5H[73;244H   [39;9H[22;33H{[38;5H}[73;255H9,9[39;9H[?25h[?25l[11;1H[46m{[40;1H}[m[73;254H60,1[40;1H[?25h[?25l[11;1H{[40;1H}[73;255H1,0-1[41;1H[?25h[?25l[73;244H~@k[41;1H[73;244H   [42;9H[73;255H2,9  [42;9H[?25h[?25l[73;255H3[43;9H[?25h[?25l
[46m{[50;1H}[m[73;255H4,1[44;1H[?25h[?25l[73;244H~@k[44;1H[73;244H   [45;9H[44;1H{[50;1H}[73;255H5,9[45;9H[?25h[?25l[73;255H6,2-9[46;9H[?25h[?25l[73;255H7,9  [47;9H[?25h[?25l[73;244H~@k[47;9H[73;244H   [48;9H[73;255H8,2-9[48;9H[?25h[?25l[73;255H7,9  [47;9H[?25h[?25l[73;255H6,2-9[46;9H[?25h[?25l[73;244H~@k[46;9H[73;244H   [45;9H[73;255H5,9  [45;9H[?25h[?25l[73;255H6,2-9[46;9H[?25h[?25l[73;255H7,9  [47;9H[?25h[?25l[73;244H~@k[47;9H[73;244H   [48;9H[73;255H8,2-9[48;9H[?25h[?25l[73;244H~@k[48;9H[73;244H   [47;9H[73;255H7,9  [47;9H[?25h[?25l[73;244Hi[47;9H[73;244H [47;9H[73;1H[1m-- INSERT --[m[73;254H[K[73;254H67,9[10C57%[47;9H[?25h[?25l[46m([21C)[m[73;257H8[47;8H[?25h[?25l([21C)[73;257H7[47;7H[?25h[?25l[73;257H6[47;6H[?25h[?25l[73;257H5[47;5H[?25h[?25l[48;72r[48;1H[L[1;73r[47;5H[K[48;5H[1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[73;254H[K[73;254H68,5[10C55%[48;5H[?25h[?25l[73;255H7[47;5H[?25h[?25li[73;257H6[47;6H[?25h[?25l[1m[33mif[m[73;257H7[47;7H[?25h[?25l[73;257H8[47;8H[?25h[?25l([73;257H9[47;9H[?25h[?25l![73;257H10[47;10H[?25h[?25ls[73;258H1[47;11H[?25h[?25lt[73;258H2[47;12H[?25h[?25lr[73;258H3[47;13H[?25h[?25l_[73;258H4[47;14H[?25h[?25l[47;13H[K[73;258H3[47;13H[?25h[?25lc[73;258H4[47;14H[?25h[?25lm[73;258H5[47;15H[?25h[?25lp[73;258H6[47;16H[?25h[?25l([73;258H7[47;17H[?25h[?25la[73;258H8[47;18H[?25h[?25lr[73;258H9[47;19H[?25h[?25lg[73;257H20[47;20H[?25h[?25lv[73;258H1[47;21H[?25h[?25l[[49;17H[1m[37m[41m;[50;13H;[m[73;258H2[47;22H[?25h[?25l[1m[35m0[m[73;258H3[47;23H[?25h[?25l][49;17H;[50;13H; [47;21H[46m[[1C][m[73;258H4[47;24H[?25h[?25l,[[1C][73;258H5[47;25H[?25h[?25l[73;258H6[47;26H[?25h[?25l[1m[35m"
    if (!strcmp(argv[0], [m[1C&[1m[35m"))    /* Ignore singleton & */
        return 1;
    return 0;                     /* Not a builtin command */
}
/* $end eval */

/* $begin parseline */
/* parseline - Parse the command line and build the argv array */
int parseline(char *buf, char **argv) 
{
    char *delim;         /* Points to first space delimiter */
    int argc;            /* Number of args */
    int bg;              /* Background job? */

    buf[strlen(buf)-1] = ' ';  /* Replace trailing '[m[1m[31m\n[m[1m[35m' with space */
    while (*buf && (*buf == ' ')) /* Ignore leading spaces */
        buf++;

    /* Build the argv list */
    argc = 0;
    while ((delim = strchr(buf, ' '))) {
        argv[argc++] = buf;
        *delim = '[m[1m[31m\0[m[1m[35m';
        buf = delim + 1;
        while (*buf && (*buf == ' ')) /* Ignore spaces */[m[73;258H7[47;27H[?25h[?25l[1m[35mn[m[73;258H8[47;28H[?25h[?25l[1m[35me[m[73;258H9[47;29H[?25h[?25l[1m[35mw[m[73;257H30[47;30H[?25h[?25l[1m[35mp[m[73;258H1[47;31H[?25h[?25l[1m[35mr[m[73;258H2[47;32H[?25h[?25l[1m[35mo[m[73;258H3[47;33H[?25h[?25l[1m[35mm[m[73;258H4[47;34H[?25h[?25l[1m[35mp[m[73;258H5[47;35H[?25h[?25l[1m[35mt[m[73;258H6[47;36H[?25h[?25l[1m[35m"[m
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"&[m[1C))    [1m[36m/* Ignore singleton & */[m
        [1m[33mreturn[m [1m[35m1[m;
    [1m[33mreturn[m [1m[35m0[m;                     [1m[36m/* Not a builtin command */[m
}
[1m[36m/* $end eval */

/* $begin parseline */
/* parseline - Parse the command line and build the argv array */[m
[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv) 
{
    [1m[32mchar[m *delim;         [1m[36m/* Points to first space delimiter */[m
    [1m[32mint[m argc;            [1m[36m/* Number of args */[m
    [1m[32mint[m bg;              [1m[36m/* Background job? */[m

    buf[strlen(buf)-[1m[35m1[m] = [1m[35m' '[m;  [1m[36m/* Replace trailing '\n' with space */[m
    [1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore leading spaces */[m
        buf++;

    [1m[36m/* Build the argv list */[m
    argc = [1m[35m0[m;
    [1m[33mwhile[m ((delim = strchr(buf, [1m[35m' '[m))) {
        argv[argc++] = buf;
        *delim = [1m[31m'\0'[m;
        buf = delim + [1m[35m1[m;
        [1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore spaces */[m[73;258H7[47;37H[?25h[?25l)[47;16H[46m([20C)[m[73;258H8[47;38H[?25h[?25l)[47;8H[46m([m[7C([20C)[46m)[m[73;258H9[47;39H[?25h[?25l[48;72r[48;1H[L[1;73r[73;254H[K[73;254H68,6-13[7C54%[47;8H([29C)[48;13H[?25h[?25l[73;257H5-12[48;12H[?25h[?25l[73;257H4-11[48;11H[?25h[?25l[73;257H3-10[48;10H[?25h[?25l[73;257H2-9 [48;9H[?25h[?25l[45;8H[46m([24C)[m[73;255H5,9  [45;9H[?25h[?25l([24C)[73;255H2[42;9H[?25h[?25l[73;254H59[39;9H[?25h[?25l[73;255H6,2-9[36;9H[?25h[?25l[73;255H3[33;9H[?25h[?25l[73;255H0[30;9H[?25h[?25l[73;254H47,9  [27;9H[?25h[?25l[73;255H4[24;9H[?25h[?25l[73;254H38[18;9H[?25h[?25l[73;255H5[15;9H[?25h[?25l[73;255H2[12;9H[?25h[?25l[73;254H26[6;9H[?25h[?25l[1;72r[1;1H[3L[1;73r[1;9HFgets(cmdline, MAXLINE, [1m[35mstdin[m);[2;9H[1m[33mif[m (feof([1m[35mstdin[m))[3;13Hexit([1m[35m0[m);[73;254H[K[73;254H23,2-9[8C45%[6;9H[?25h[?25l[1;72r[1;1H[3L[1;73r[1;5H[1m[33mwhile[m ([1m[35m1[m) {[2;9H[1m[36m/* Read */[m[3;9Hprintf([1m[35m"> "[m);[73;254H[K[73;254H20,2-9[8C37%[6;9H[?25h[?25l[1;72r[1;1H[3L[1;73r[1;1H{
    [1m[32mchar[m cmdline[MAXLINE]; [1m[36m/* Command line */[m[73;254H[K[73;254H17,2-9[8C29%[6;9H[?25h[?25l[1;72r[1;1H[3L[1;73r[1;1H[1m[32mint[m builtin_command([1m[32mchar[m **argv);

[1m[32mint[m main()[73;254H[K[73;254H14,1[10C21%[6;1H[?25h[?25l[1;72r[1;1H[6L[1;73r[1;1H[1m[34m#include [m[1m[35m"csapp.h"[m
[1m[34m#define MAXARGS   [m[1m[35m128[m

[1m[36m/* Function prototypes */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline);
[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv);[73;254H[K[73;254H8,9[12C5%[6;9H[?25h[?25l[1;72r[1;1H[2L[1;73r[1;1H[1m[34m#define _GNU_SOURCE[m
[1m[36m/* $begin shellmain */[m[73;254H[K[73;254H5,1[11CTop[5;1H[?25h[?25l[73;254H2,9[2;9H[?25h[?25l[73;254H1[1;9H[?25h[?25l[73;254H4[4;9H[?25h[?25l[73;254H5,1[5;1H[?25h[?25l[6;72r[6;1H[L[1;73r[73;254H[K[73;254H6,1[11CTop[6;1H[?25h[?25l[7;72r[7;1H[L[1;73r[73;254H[K[73;254H7,1[11CTop[7;1H[?25h[?25l[73;254H6[6;1H[?25h[?25lc[73;256H2[6;2H[?25h[?25lh[73;256H3[6;3H[?25h[?25la[73;256H4[6;4H[?25h[?25l[1m[32mchar[m[73;256H5[6;5H[?25h[?25l[73;256H6[6;6H[?25h[?25ln[73;256H7[6;7H[?25h[?25l[6;6H[K[73;256H6[6;6H[?25h[?25lp[73;256H7[6;7H[?25h[?25lr[73;256H8[6;8H[?25h[?25lo[73;256H9[6;9H[?25h[?25lm[73;256H10[6;10H[?25h[?25lp[73;257H1[6;11H[?25h[?25lt[73;257H2[6;12H[?25h[?25l[[9;25H[1m[37m[41m;[10;38H;[11;33H;


{[15;26H;[17;15H{[19;21H;[20;39H;[22;20H;[25;22H;
[m    [1m[37m[41m}[m[73;257H3[6;13H[?25h[?25l][9;25H;[10;38H;[11;33H; 


{[15;26H; [17;15H{[19;21H; [20;39H; [22;20H;[25;22H;
    } [6;12H[46m[][m[73;257H4[6;14H[?25h[?25l[][73;257H5[6;15H[?25h[?25l=[73;257H6[6;16H[?25h[?25l[73;257H7[6;17H[?25h[?25l[1m[35m"[m[73;257H8[6;18H[?25h[?25l[1m[35m [m[73;257H9[6;19H[?25h[?25l[1m[35m"[m[73;256H20[6;20H[?25h[?25l[73;256H19[6;19H[?25h[?25l[1m[35m"[m[6;19H[K[73;257H8[6;18H[?25h[?25l[73;254H7,1 [7;1H[?25h[?25l[73;254H8,18[8;18H[?25h[?25l[73;254H9[9;18H[?25h[?25l[73;254H10,18[10;18H[?25h[?25l[73;255H1[11;18H[?25h[?25l[73;255H2,1 [12;1H[?25h[?25l[73;255H3,12[13;12H[?25h[?25l
[46m{[27;1H}[m[73;255H4,2 [14;2H[?25h[?25l{[15;17H[46m[[7C][m[27;1H}[73;255H5,18[15;18H[?25h[?25l[[7C][73;255H6,1 [16;1H[?25h[?25l[17;15H[46m{[26;5H}[m[73;255H7,16[17;16H[?25h[?25l{[26;5H}[73;255H8,11-18[18;18H[?25h[?25l[73;255H9[19;18H[?25h[?25l[73;254H20[20;18H[?25h[?25l[21;17H[46m([5C)[m[73;255H1[21;18H[?25h[?25l([5C)[22;17H[46m([1C)[m[73;255H2[22;18H[?25h[?25l([1C)[73;255H3,1    [23;1H[?25h[?25l[73;255H4,11-18[24;18H[?25h[?25l[73;255H5[25;18H[?25h[?25l[73;255H6,7    [26;7H[?25h[?25l[14;1H[46m{[27;1H}[m[73;255H7,2[27;2H[?25h[?25l[14;1H{[27;1H}[73;255H8,18[28;18H[?25h[?25l[73;255H9,3 [29;3H[?25h[?25l[73;254H30,18[30;18H[?25h[?25l[73;255H1[31;18H[?25h[?25l[73;255H2[32;18H[?25h[?25l
[46m{[62;1H}[m[73;255H3,2 [33;2H[?25h[?25l{[62;1H}[73;255H4,18[34;18H[?25h[?25l[33;1H[46m{[62;1H}[m[73;255H3,2 [33;2H[?25h[?25l{[62;1H}[73;255H2,18[32;18H[?25h[?25l[73;255H1[31;18H[?25h[?25l[73;255H0[30;18H[?25h[?25l[73;254H29,3 [29;3H[?25h[?25l[73;255H8,18[28;18H[?25h[?25l[14;1H[46m{[27;1H}[m[73;255H7,2 [27;2H[?25h[?25l[14;1H{[27;1H}[73;255H6,7[26;7H[?25h[?25l[73;255H5,11-18[25;18H[?25h[?25l[73;255H4[24;18H[?25h[?25l[73;255H3,1    [23;1H[?25h[?25l[22;17H[46m([1C)[m[73;255H2,11-18[22;18H[?25h[?25l[21;17H[46m([5C)[m[22;17H([1C)[73;255H1[21;18H[?25h[?25l([5C)[73;255H0[20;18H[?25h[?25l[73;254H19[19;18H[?25h[?25l[73;258H0-17[19;17H[?25h[?25l[1m[35m%> "[m);[73;258H1-18[19;18H[?25h[?25l[1m[31m%s[m[1m[35m> "[m);[73;258H2-19[19;19H[?25h[?25l[73;258H3-20[19;20H[?25h[?25l[73;258H4-21[19;21H[?25h[?25l[46m([6C)[m[73;258H5-22[19;22H[?25h[?25l[46m,[m);,[46m)[m[73;258H6-23[19;23H[?25h[?25l[46m [m); [46m)[m[73;258H7-24[19;24H[?25h[?25l[46mp[m);p[46m)[m[73;258H8-25[19;25H[?25h[?25l[46mr[m);r[46m)[m[73;258H9-26[19;26H[?25h[?25l[46mo[m);o[46m)[m[73;257H20-27[19;27H[?25h[?25l[46mm[m);m[46m)[m[73;258H1-28[19;28H[?25h[?25l[46mp[m);p[46m)[m[73;258H2-29[19;29H[?25h[?25l[46mt[m);t[46m)[m[73;258H3-30[19;30H[?25h[?25l[1C[1m[37m[41m)[m;[19;15H([14C)[73;258H4-31[19;31H[?25h[?25l; [19;15H[46m([14C)[m[73;258H3-30[19;30H[?25h[?25l[19;15H([14C)[73;254H20[20;30H[?25h[?25l[21;12H[46m([11C)[m[73;255H1,18-25[21;25H[?25h[?25l[21;12H([11C)[73;255H2,14-21[22;21H[?25h[?25l[73;255H3,1    [23;1H[?25h[?25l[73;255H4,16-23[24;23H[?25h[?25l[73;255H5[25;23H[?25h[?25l[73;255H6,7    [26;7H[?25h[?25l[14;1H[46m{[27;1H}[m[73;255H7,2[27;2H[?25h[?25l[14;1H{[27;1H}[73;255H8,21[28;21H[?25h[?25l[73;255H9,3 [29;3H[?25h[?25l[73;254H30,18[30;18H[?25h[?25l[73;255H1,30[31;30H[?25h[?25l[73;255H2,26[32;26H[?25h[?25l
[46m{[62;1H}[m[73;255H3,2 [33;2H[?25h[?25l{[62;1H}[73;255H4,30[34;30H[?25h[?25l[73;255H5[35;30H[?25h[?25l[73;255H6[36;30H[?25h[?25l[73;255H7[37;30H[?25h[?25l[73;255H8,5 [38;5H[?25h[?25l[73;255H9,26[39;26H[?25h[?25l[40;19H[46m([9C)[m[73;254H40,30[40;30H[?25h[?25l[40;19H([9C)[73;255H1,27[41;27H[?25h[?25l[73;255H2,23-30[42;30H[?25h[?25l[73;255H3,1    [43;1H[?25h[?25l[44;25H[46m([margv[46m)[m[73;255H4,30[44;30H[?25h[?25l(argv)[73;255H5[45;30H[?25h[?25l[46;29H[46m[[1C][m[73;255H6[46;30H[?25h[?25l[[1C][73;255H7[47;30H[?25h[?25l[73;255H8,25[48;25H[?25h[?25l[46;54H[46m{[49;13H}[m[73;255H9,14[49;14H[?25h[?25l[45;34H[46m{[m[46;54H{[49;13H}[50;9H[46m}[m[73;254H50,10[50;10H[?25h[?25l[45;34H{[50;9H}[73;255H1,1 [51;1H[?25h[?25l[73;255H2,23-30[52;30H[?25h[?25l[53;18H[46m{[57;9H}[m[73;255H3,12-19[53;19H[?25h[?25l{[57;9H}[73;255H4,17-24[54;24H[?25h[?25l[73;255H5,23-30[55;30H[?25h[?25l[73;255H6,16[56;30H[?25h[?25l[53;18H[46m{[57;9H}[m[73;255H7,3-10 [57;10H[?25h[?25l[53;18H{[57;9H}[73;255H8,6-13[58;13H[?25h[?25l[73;255H9,23-30[59;30H[?25h[?25l[44;33H[46m{[60;5H}[m[73;254H60,6    [60;6H[?25h[?25l[44;33H{[60;5H}[73;255H1,12[61;12H[?25h[?25l[33;1H[46m{[62;1H}[m[73;255H2,2 [62;2H[?25h[?25l[33;1H{[62;1H}[73;255H3,1[63;1H[?25h[?25l[73;255H4,30[64;30H[?25h[?25l[73;255H5[65;30H[?25h[?25l[73;255H6,2 [66;2H[?25h[?25l[73;255H7,30[67;30H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[33mreturn[m [1m[35m0[m;[21C[1m[36m/* Not a builtin command */[m[73;254H[K[73;254H68,12-19[7C2%[67;19H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H}[73;254H[K[73;254H69,30[10C5%[67;30H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* $end eval */[m[73;254H[K[73;254H70,2-9[9C7%[67;9H[?25h[?25lp[73;257H3-10[67;10H[?25h[?25lr[73;257H4-11[67;11H[?25h[?25lo[73;257H5-12[67;12H[?25h[?25lm[73;257H6-13[67;13H[?25h[?25lp[73;257H7-14[67;14H[?25h[?25lt[73;257H8-15[67;15H[?25h[?25l[73;257H9-16[67;16H[?25h[?25l=[73;257H10-17[67;17H[?25h[?25l[73;258H1-18[67;18H[?25h[?25la[73;258H2-19[67;19H[?25h[?25lr[73;258H3-20[67;20H[?25h[?25lg[73;258H4-21[67;21H[?25h[?25lv[73;258H5-22[67;22H[?25h[?25l[[69;17H[1m[37m[41m;[70;13H;[m[73;258H6-23[67;23H[?25h[?25l[1m[35m1[m[73;258H7-24[67;24H[?25h[?25l][69;17H;[70;13H; [67;22H[46m[[1C][m[73;258H8-25[67;25H[?25h[?25l;[[1C][73;258H9-26[67;26H[?25h[73;1H[K[67;25H[?25l[73;244H^[[67;25H[73;244H  [67;26H[73;254H70,18-25[7C7%[67;25H[?25h[?25l[73;244H:[67;25H[73;244H[K[73;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"shellex.c" 111L, 2671C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim shellex.c[8Pclearat > /dev/null[6P./shellexmake shellex
gcc -o shellex shellex.c csapp.c -lpthread
[01m[Kshellex.c:9:1:[m[K [01;31m[Kerror: [m[Kexpected â€˜[01m[K,[m[Kâ€™ or â€˜[01m[K;[m[Kâ€™ before â€˜[01m[Kvoid[m[Kâ€™
 [01;31m[Kvoid[m[K eval(char *cmdline);
 [01;31m[K^~~~[m[K
[01m[Kshellex.c:[m[K In function â€˜[01m[Kmain[m[Kâ€™:
[01m[Kshellex.c:25:2:[m[K [01;35m[Kwarning: [m[Kimplicit declaration of function â€˜[01m[Keval[m[Kâ€™; did you mean â€˜[01m[Kfmal[m[Kâ€™? [[01;35m[K-Wimplicit-function-declaration[m[K]
  [01;35m[Keval[m[K(cmdline);
  [01;35m[K^~~~[m[K
  [32m[Kfmal[m[K
[01m[Kshellex.c:[m[K At top level:
[01m[Kshellex.c:32:6:[m[K [01;35m[Kwarning: [m[Kconflicting types for â€˜[01m[Keval[m[Kâ€™
 void [01;35m[Keval[m[K(char *cmdline)
      [01;35m[K^~~~[m[K
[01m[Kshellex.c:25:2:[m[K [01;36m[Knote: [m[Kprevious implicit declaration of â€˜[01m[Keval[m[Kâ€™ was here
  [01;36m[Keval[m[K(cmdline);
  [01;36m[K^~~~[m[K
[01m[Kshellex.c:[m[K In function â€˜[01m[Kbuiltin_command[m[Kâ€™:
[01m[Kshellex.c:70:9:[m[K [01;31m[Kerror: [m[Kassignment to expression with array type
  prompt [01;31m[K=[m[K argv[1];
         [01;31m[K^[m[K
Makefile:9: recipe for target 'shellex' failed
make: *** [shellex] Error 1
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ make shellexvim shellex.c
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;73r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[73;1H"shellex.c" 111L, 2671C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#define MAXARGS   [m[31m128[m

[32mchar[m prompt[] = [31m""[m

[34m/* Function prototypes */[m
[32mvoid[m eval([32mchar[m *cmdline);
[32mint[m parseline([32mchar[m *buf, [32mchar[m **argv);
[32mint[m builtin_command([32mchar[m **argv);

[32mint[m main()
{
    [32mchar[m cmdline[MAXLINE]; [34m/* Command line */[m[14;5H[33mwhile[m ([31m1[m) {[15;9H[34m/* Read */[m[16;9Hprintf([31m"[m[35m%s[m[31m> "[m, prompt);[17;9HFgets(cmdline, MAXLINE, [31mstdin[m);[18;9H[33mif[m (feof([31mstdin[m))[19;13Hexit([31m0[m);[21;9H[34m/* Evaluate */[m[22;9Heval(cmdline);
    }
}
[34m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[32mvoid[m eval([32mchar[m *cmdline)
{
    [32mchar[m *argv[MAXARGS]; [34m/* Argument list execve() */[m
    [32mchar[m buf[MAXLINE];   [34m/* Holds modified command line */[m
    [32mint[m bg;[14C[34m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[34m/* Process id */[m[36;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [33mif[m (argv[[31m0[m] == [31mNULL[m)[39;9H[33mreturn[m;   [34m/* Ignore empty lines */[m[41;5H[33mif[m (!builtin_command(argv)) {[42;9H[33mif[m ((pid = Fork()) == [31m0[m) {   [34m/* Child runs user job */[m[43;13H[33mif[m (execvpe(argv[[31m0[m], argv, environ) < [31m0[m) {[44;17Hprintf([31m"[m[35m%s[m[31m: Command not found.[m[35m\n[m[31m"[m, argv[[31m0[m]);[45;17Hexit([31m0[m);[46;13H}[47;9H}[49;9H[34m/* Parent waits for foreground job to terminate */[m[50;9H[33mif[m (!bg) {[51;13H[32mint[m status;[52;13H[33mif[m (waitpid(pid, &status, [31m0[m) < [31m0[m)[53;17Hunix_error([31m"waitfg: waitpid error"[m);[54;9H}[55;9H[33melse[m[56;13Hprintf([31m"[m[35m%d[m[31m [m[35m%s[m[31m"[m, pid, cmdline);
    }
    [33mreturn[m;
}

[34m/* If first arg is a builtin command, run it and return true */[m
[32mint[m builtin_command([32mchar[m **argv)
{
    [33mif[m (!strcmp(argv[[31m0[m], [31m"quit"[m)) [34m/* quit command */[m[65;9Hexit([31m0[m);
    [33mif[m (!strcmp(argv[[31m0[m], [31m"newprompt"[m))[67;9Hprompt = argv[[31m1[m];
    [33mif[m (!strcmp(argv[[31m0[m], [31m"&"[m))    [34m/* Ignore singleton & */[m[69;9H[33mreturn[m [31m1[m;
    [33mreturn[m [31m0[m;[21C[34m/* Not a builtin command */[m
}
[34m/* $end eval */[m[73;254H70,18-25[7C7%[67;25H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[1m[34m#define MAXARGS   [m[1m[35m128[m

[1m[32mchar[m prompt[] = [1m[35m""[m

[1m[36m/* Function prototypes */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline);
[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv);
[1m[32mint[m builtin_command([1m[32mchar[m **argv);

[1m[32mint[m main()
{
    [1m[32mchar[m cmdline[MAXLINE]; [1m[36m/* Command line */[m[14;5H[1m[33mwhile[m ([1m[35m1[m) {[15;9H[1m[36m/* Read */[m[16;9Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m> "[m, prompt);[17;9HFgets(cmdline, MAXLINE, [1m[35mstdin[m);[18;9H[1m[33mif[m (feof([1m[35mstdin[m))[19;13Hexit([1m[35m0[m);[21;9H[1m[36m/* Evaluate */[m[22;9Heval(cmdline);
    }
}
[1m[36m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline)
{
    [1m[32mchar[m *argv[MAXARGS]; [1m[36m/* Argument list execve() */[m
    [1m[32mchar[m buf[MAXLINE];   [1m[36m/* Holds modified command line */[m
    [1m[32mint[m bg;[14C[1m[36m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[1m[36m/* Process id */[m[36;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [1m[33mif[m (argv[[1m[35m0[m] == [1m[35mNULL[m)[39;9H[1m[33mreturn[m;   [1m[36m/* Ignore empty lines */[m[41;5H[1m[33mif[m (!builtin_command(argv)) {[42;9H[1m[33mif[m ((pid = Fork()) == [1m[35m0[m) {   [1m[36m/* Child runs user job */[m[43;13H[1m[33mif[m (execvpe(argv[[1m[35m0[m], argv, environ) < [1m[35m0[m) {[44;17Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m: Command not found.[m[1m[31m\n[m[1m[35m"[m, argv[[1m[35m0[m]);[45;17Hexit([1m[35m0[m);[46;13H}[47;9H}[49;9H[1m[36m/* Parent waits for foreground job to terminate */[m[50;9H[1m[33mif[m (!bg) {[51;13H[1m[32mint[m status;[52;13H[1m[33mif[m (waitpid(pid, &status, [1m[35m0[m) < [1m[35m0[m)[53;17Hunix_error([1m[35m"waitfg: waitpid error"[m);[54;9H}[55;9H[1m[33melse[m[56;13Hprintf([1m[35m"[m[1m[31m%d[m[1m[35m [m[1m[31m%s[m[1m[35m"[m, pid, cmdline);
    }
    [1m[33mreturn[m;
}

[1m[36m/* If first arg is a builtin command, run it and return true */[m
[1m[32mint[m builtin_command([1m[32mchar[m **argv)
{
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"quit"[m)) [1m[36m/* quit command */[m[65;9Hexit([1m[35m0[m);
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"newprompt"[m))[67;9Hprompt = argv[[1m[35m1[m];
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[69;9H[1m[33mreturn[m [1m[35m1[m;
    [1m[33mreturn[m [1m[35m0[m;[21C[1m[36m/* Not a builtin command */[m
}
[1m[36m/* $end eval */[m[73;254H70,18-25[7C7%"shellex.c" 111L, 2671C[67;25H[?25h[?25l[73;254H69,25   [66;25H[?25h[?25l[73;255H8,11-18[65;18H[?25h[?25l[73;244H~@k[65;18H[73;244H   [64;25H[73;255H7,25   [64;25H[?25h[?25l[63;1H[46m{[71;1H}[m[73;255H6,1 [63;1H[?25h[?25l{[71;1H}[73;255H5,25[62;25H[?25h[?25l[73;244H~@k[62;25H[73;244H   [61;25H[73;255H4[61;25H[?25h[?25l[73;255H3,0-1[60;1H[?25h[?25l[30;1H[46m{[59;1H}[m[73;255H2,1  [59;1H[?25h[?25l[73;244H~@k[59;1H[73;244H   [58;11H[30;1H{[59;1H}[73;255H1,11[58;11H[?25h[?25l[41;33H[46m{[57;5H}[m[73;255H0,5 [57;5H[?25h[?25l[41;33H{[57;5H}[73;254H59,18-25[56;25H[?25h[?25l[73;244H~@k[56;25H[73;244H   [55;12H[73;255H8,5-12 [55;12H[?25h[?25l[50;18H[46m{[54;9H}[m[73;255H7,2-9 [54;9H[?25h[?25l[50;18H{[54;9H}[73;255H6,11-25[53;25H[?25h[?25l[73;244H~@k[53;25H[73;244H   [52;25H[73;255H5,18[52;25H[?25h[?25l[73;255H4,16-23[51;23H[?25h[?25l[50;18H[46m{[54;9H}[m[73;255H3,11-18[50;18H[?25h[?25l[73;244H~@k[50;18H[73;244H   [49;25H[50;18H{[54;9H}[73;255H2,18-25[49;25H[?25h[?25l[73;255H1,0-1  [48;1H[?25h[?25l[42;34H[46m{[47;9H}[m[73;255H0,9  [47;9H[?25h[?25l[73;244H~@k[47;9H[73;244H   [46;13H[42;34H{[43;54H[46m{[46;13H}[m[47;9H}[73;254H49,13[46;13H[?25h[?25l[43;54H{[46;13H}[73;255H8,24[45;24H[?25h[?25l[73;255H7,25[44;25H[?25h[?25l[73;244H~@k[44;25H[73;244H   [43;25H[73;255H6[43;25H[?25h[?25l[42;24H[46m()[m[73;255H5[42;25H[?25h[?25l[41;25H[46m([margv[46m)[m[42;24H()[73;255H4[41;25H[?25h[?25l[73;244H~@k[41;25H[73;244H   [40;1H[41;25H(argv)[73;255H3,0-1[40;1H[?25h[?25l[73;255H2,18-25[39;25H[?25h[?25l[73;255H1,25   [38;25H[?25h[?25l[73;244H~@k[38;25H[73;244H   [37;25H[73;255H0[37;25H[?25h[?25l[73;254H39[36;25H[?25h[?25l[73;255H8,4 [35;4H[?25h[?25l[73;244H~@k[35;4H[73;244H   [34;25H[73;255H7,25[34;25H[?25h[?25l[73;255H6[33;25H[?25h[?25l[73;255H5[32;25H[?25h[?25l[73;244H~@k[32;25H[73;244H   [31;25H[73;255H4[31;25H[?25h[?25l[30;1H[46m{[59;1H}[m[73;255H3,1 [30;1H[?25h[?25l{[59;1H}[73;255H2,25[29;25H[?25h[?25l[73;255H1[28;25H[?25h[?25l[73;255H0,17[27;17H[?25h[?25l[73;254H29,2 [26;2H[?25h[?25l[73;244H~@k[26;2H[73;244H   [25;20H[73;255H8,20[25;20H[?25h[?25l[11;1H[46m{[24;1H}[m[73;255H7,1 [24;1H[?25h[?25l[11;1H{[24;1H}[73;255H6,6[23;6H[?25h[?25l[73;244H~@k[23;6H[73;244H   [22;22H[73;255H5,15-22[22;22H[?25h[?25l[73;255H4[21;22H[?25h[?25l[73;255H3,0-1  [20;1H[?25h[?25l[73;244H~@k[20;1H[73;244H   [19;20H[73;255H2,13-20[19;20H[?25h[?25l[18;12H[46m([11C)[m[73;255H1,17-24[18;24H[?25h[?25l[18;12H([11C)[73;255H0,18-25[17;25H[?25h[?25l[73;244H~@k[17;25H[73;244H   [16;25H[73;254H19[16;25H[?25h[?25l[73;255H8,11-18[15;18H[?25h[?25l[14;15H[46m{[23;5H}[m[73;255H7,15   [14;15H[?25h[?25l[73;244H~@k[14;15H[73;244H   [13;1H[14;15H{[23;5H}[73;255H6,0-1[13;1H[?25h[?25l[12;17H[46m[[7C][m[73;255H5,25 [12;25H[?25h[?25l[11;1H[46m{[m[12;17H[[7C][24;1H[46m}[m[73;255H4,1 [11;1H[?25h[?25l[73;244H~@k[11;1H[73;244H   [10;11H
{[24;1H}[73;255H3,11[10;11H[?25h[?25l[73;255H2,0-1[9;1H[?25h[?25l[73;255H1,25 [8;25H[?25h[?25l[73;244H~@k[8;25H[73;244H   [7;25H[73;255H0[7;25H[?25h[?25l[73;254H9,25 [6;25H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[34m#include [m[1m[35m"csapp.h"[m[73;1H[K[73;254H8,25[11C5%[6;25H[?25h[?25l[73;244H~@k[6;25H[73;244H   [6;1H[1;72r[1;1H[L[1;73r[1;1H[1m[36m/* $begin shellmain */[m[73;254H[K[73;254H7,0-1[10C2%[6;1H[?25h[?25l[1;72r[1;1H[L[1;73r[1;1H[1m[34m#define _GNU_SOURCE[m[73;254H[K[73;254H6,18[10CTop[6;18H[?25h[?25l[73;254H5,0-1[5;1H[?25h[?25l[73;244H~@k[5;1H[73;244H   [4;21H[73;254H4,21 [4;21H[?25h[?25l[73;254H3,18[3;18H[?25h[?25l[73;254H2,22[2;22H[?25h[?25l[73;244H~@k[2;22H[73;244H   [1;19H[73;254H1,19[1;19H[?25h[?25l[73;244H~@k[1;19H[73;244H   [1;19H[?25h[?25l[73;244H~@k[1;19H[73;244H   [2;22H[73;254H2,22[2;22H[?25h[?25l[73;244H~@k[2;22H[73;244H   [3;18H[73;254H3,18[3;18H[?25h[?25l[73;244H~@k[3;18H[73;244H   [4;21H[73;254H4,21[4;21H[?25h[?25l[73;244H~@k[4;21H[73;244H   [5;1H[73;254H5,0-1[5;1H[?25h[?25l[73;244H~@k[5;1H[73;244H   [6;18H[73;254H6,18 [6;18H[?25h[?25l[73;244H~@k[6;18H[73;244H   [6;18H[?25h[?25l[73;244Hi[6;18H[73;244H [6;18H[73;1H[1m-- INSERT --[m[73;254H[K[73;254H6,18[10CTop[6;18H[?25h[?25l[73;257H9[6;19H[?25h[?25l;[73;256H20[6;20H[?25h[73;1H[K[6;19H[?25l[73;244H^[[6;19H[73;244H  [6;20H[73;254H6,19[10CTop[6;19H[?25h[?25l[73;244H:[6;19H[73;244H[K[73;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"shellex.c" 111L, 2672C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim shellex.c[1Pmake shellex
gcc -o shellex shellex.c csapp.c -lpthread
[01m[Kshellex.c:[m[K In function â€˜[01m[Kbuiltin_command[m[Kâ€™:
[01m[Kshellex.c:70:9:[m[K [01;31m[Kerror: [m[Kassignment to expression with array type
  prompt [01;31m[K=[m[K argv[1];
         [01;31m[K^[m[K
Makefile:9: recipe for target 'shellex' failed
make: *** [shellex] Error 1
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ make shellexvim shellex.c
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;73r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[73;1H"shellex.c" 111L, 2672C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#define _GNU_SOURCE[m
[34m/* $begin shellmain */[m
[35m#include [m[31m"csapp.h"[m
[35m#define MAXARGS   [m[31m128[m

[32mchar[m prompt[] = [31m""[m;

[34m/* Function prototypes */[m
[32mvoid[m eval([32mchar[m *cmdline);
[32mint[m parseline([32mchar[m *buf, [32mchar[m **argv);
[32mint[m builtin_command([32mchar[m **argv);

[32mint[m main()
{
    [32mchar[m cmdline[MAXLINE]; [34m/* Command line */[m[17;5H[33mwhile[m ([31m1[m) {[18;9H[34m/* Read */[m[19;9Hprintf([31m"[m[35m%s[m[31m> "[m, prompt);[20;9HFgets(cmdline, MAXLINE, [31mstdin[m);[21;9H[33mif[m (feof([31mstdin[m))[22;13Hexit([31m0[m);[24;9H[34m/* Evaluate */[m[25;9Heval(cmdline);
    }
}
[34m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[32mvoid[m eval([32mchar[m *cmdline)
{
    [32mchar[m *argv[MAXARGS]; [34m/* Argument list execve() */[m
    [32mchar[m buf[MAXLINE];   [34m/* Holds modified command line */[m
    [32mint[m bg;[14C[34m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[34m/* Process id */[m[39;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [33mif[m (argv[[31m0[m] == [31mNULL[m)[42;9H[33mreturn[m;   [34m/* Ignore empty lines */[m[44;5H[33mif[m (!builtin_command(argv)) {[45;9H[33mif[m ((pid = Fork()) == [31m0[m) {   [34m/* Child runs user job */[m[46;13H[33mif[m (execvpe(argv[[31m0[m], argv, environ) < [31m0[m) {[47;17Hprintf([31m"[m[35m%s[m[31m: Command not found.[m[35m\n[m[31m"[m, argv[[31m0[m]);[48;17Hexit([31m0[m);[49;13H}[50;9H}[52;9H[34m/* Parent waits for foreground job to terminate */[m[53;9H[33mif[m (!bg) {[54;13H[32mint[m status;[55;13H[33mif[m (waitpid(pid, &status, [31m0[m) < [31m0[m)[56;17Hunix_error([31m"waitfg: waitpid error"[m);[57;9H}[58;9H[33melse[m[59;13Hprintf([31m"[m[35m%d[m[31m [m[35m%s[m[31m"[m, pid, cmdline);
    }
    [33mreturn[m;
}

[34m/* If first arg is a builtin command, run it and return true */[m
[32mint[m builtin_command([32mchar[m **argv)
{
    [33mif[m (!strcmp(argv[[31m0[m], [31m"quit"[m)) [34m/* quit command */[m[68;9Hexit([31m0[m);
    [33mif[m (!strcmp(argv[[31m0[m], [31m"newprompt"[m))[70;9Hprompt = argv[[31m1[m];
    [33mif[m (!strcmp(argv[[31m0[m], [31m"&"[m))    [34m/* Ignore singleton & */[m[72;9H[33mreturn[m [31m1[m;[73;254H6,19[10CTop[6;19H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[1m[34m#define _GNU_SOURCE[m
[1m[36m/* $begin shellmain */[m
[1m[34m#include [m[1m[35m"csapp.h"[m
[1m[34m#define MAXARGS   [m[1m[35m128[m

[1m[32mchar[m prompt[] = [1m[35m""[m;

[1m[36m/* Function prototypes */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline);
[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv);
[1m[32mint[m builtin_command([1m[32mchar[m **argv);

[1m[32mint[m main()
{
    [1m[32mchar[m cmdline[MAXLINE]; [1m[36m/* Command line */[m[17;5H[1m[33mwhile[m ([1m[35m1[m) {[18;9H[1m[36m/* Read */[m[19;9Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m> "[m, prompt);[20;9HFgets(cmdline, MAXLINE, [1m[35mstdin[m);[21;9H[1m[33mif[m (feof([1m[35mstdin[m))[22;13Hexit([1m[35m0[m);[24;9H[1m[36m/* Evaluate */[m[25;9Heval(cmdline);
    }
}
[1m[36m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline)
{
    [1m[32mchar[m *argv[MAXARGS]; [1m[36m/* Argument list execve() */[m
    [1m[32mchar[m buf[MAXLINE];   [1m[36m/* Holds modified command line */[m
    [1m[32mint[m bg;[14C[1m[36m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[1m[36m/* Process id */[m[39;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [1m[33mif[m (argv[[1m[35m0[m] == [1m[35mNULL[m)[42;9H[1m[33mreturn[m;   [1m[36m/* Ignore empty lines */[m[44;5H[1m[33mif[m (!builtin_command(argv)) {[45;9H[1m[33mif[m ((pid = Fork()) == [1m[35m0[m) {   [1m[36m/* Child runs user job */[m[46;13H[1m[33mif[m (execvpe(argv[[1m[35m0[m], argv, environ) < [1m[35m0[m) {[47;17Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m: Command not found.[m[1m[31m\n[m[1m[35m"[m, argv[[1m[35m0[m]);[48;17Hexit([1m[35m0[m);[49;13H}[50;9H}[52;9H[1m[36m/* Parent waits for foreground job to terminate */[m[53;9H[1m[33mif[m (!bg) {[54;13H[1m[32mint[m status;[55;13H[1m[33mif[m (waitpid(pid, &status, [1m[35m0[m) < [1m[35m0[m)[56;17Hunix_error([1m[35m"waitfg: waitpid error"[m);[57;9H}[58;9H[1m[33melse[m[59;13Hprintf([1m[35m"[m[1m[31m%d[m[1m[35m [m[1m[31m%s[m[1m[35m"[m, pid, cmdline);
    }
    [1m[33mreturn[m;
}

[1m[36m/* If first arg is a builtin command, run it and return true */[m
[1m[32mint[m builtin_command([1m[32mchar[m **argv)
{
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"quit"[m)) [1m[36m/* quit command */[m[68;9Hexit([1m[35m0[m);
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"newprompt"[m))[70;9Hprompt = argv[[1m[35m1[m];
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[72;9H[1m[33mreturn[m [1m[35m1[m;[73;254H6,19[10CTop"shellex.c" 111L, 2672C[6;19H[?25h[?25l[73;244H~@k[6;19H[73;244H   [7;1H[73;254H7,0-1[7;1H[?25h[?25l[73;244H~@k[7;1H[73;244H   [8;1H[73;254H8,1  [8;1H[?25h[?25l[73;244H~@k[8;1H[73;244H   [9;1H[73;254H9[9;1H[?25h[?25l[73;244H~@k[9;1H[73;244H   [10;1H[73;254H10,1[10;1H[?25h[?25l[73;244H~@k[10;1H[73;244H   [11;1H[73;255H1[11;1H[?25h[?25l[73;244H~@k[11;1H[73;244H   [12;1H[73;255H2,0-1[12;1H[?25h[?25l[73;244H~@k[12;1H[73;244H   [13;1H[73;255H3,1  [13;1H[?25h[?25l[73;244H~@k[13;1H[73;244H   [14;1H[46m{[27;1H}[m[73;255H4[14;1H[?25h[?25l[73;244H~@k[14;1H[73;244H   [15;1H[14;1H{[27;1H}[73;255H5[15;1H[?25h[?25l[73;244H~@k[15;1H[73;244H   [16;1H[73;255H6,0-1[16;1H[?25h[?25l[73;244H~@k[16;1H[73;244H   [17;1H[73;255H7,1  [17;1H[?25h[?25l[73;244H~@k[17;1H[73;244H   [18;8H[73;255H8,1-8[18;8H[?25h[?25l[73;244H~@k[18;8H[73;244H   [19;8H[73;255H9[19;8H[?25h[?25l[73;244H~@k[19;8H[73;244H   [20;8H[73;254H20[20;8H[?25h[?25l[73;244H~@k[20;8H[73;244H   [21;8H[73;255H1[21;8H[?25h[?25l[73;244H~@k[21;8H[73;244H   [22;8H[73;255H2[22;8H[?25h[?25l[73;244H~@k[22;8H[73;244H   [23;1H[73;255H3,0-1[23;1H[?25h[?25l[73;244H~@k[23;1H[73;244H   [24;8H[73;255H4,1-8[24;8H[?25h[?25l[73;244H~@k[24;8H[73;244H   [25;8H[73;255H5[25;8H[?25h[?25l[73;244H~@k[25;8H[73;244H   [26;1H[73;255H6,1  [26;1H[?25h[?25l[73;244H~@k[26;1H[73;244H   [27;1H[14;1H[46m{[27;1H}[m[73;255H7[27;1H[?25h[?25l[73;244H~@k[27;1H[73;244H   [28;1H[14;1H{[27;1H}[73;255H8[28;1H[?25h[?25l[73;244H~@k[28;1H[73;244H   [29;1H[73;255H9[29;1H[?25h[?25l[73;244H~@k[29;1H[73;244H   [30;1H[73;254H30[30;1H[?25h[?25l[73;244H~@k[30;1H[73;244H   [31;1H[73;255H1[31;1H[?25h[?25l[73;244H~@k[31;1H[73;244H   [32;1H[73;255H2[32;1H[?25h[?25l[73;244H~@k[32;1H[73;244H   [33;1H[46m{[62;1H}[m[73;255H3[33;1H[?25h[?25l[73;244H~@k[33;1H[73;244H   [34;1H[33;1H{[62;1H}[73;255H4[34;1H[?25h[?25l[73;244H~@k[34;1H[73;244H   [35;1H[73;255H5[35;1H[?25h[?25l[73;244H~@k[35;1H[73;244H   [36;1H[73;255H6[36;1H[?25h[?25l[73;244H~@k[36;1H[73;244H   [37;1H[73;255H7[37;1H[?25h[?25l[73;244H~@k[37;1H[73;244H   [38;1H[73;255H8[38;1H[?25h[?25l[73;244H~@k[38;1H[73;244H   [39;1H[73;255H9[39;1H[?25h[?25l[73;244H~@k[39;1H[73;244H   [40;1H[73;254H40[40;1H[?25h[?25l[73;244H~@k[40;1H[73;244H   [41;1H[73;255H1[41;1H[?25h[?25l[73;244H~@k[41;1H[73;244H   [42;8H[73;255H2,1-8[42;8H[?25h[?25l[73;244H~@k[42;8H[73;244H   [43;1H[73;255H3,0-1[43;1H[?25h[?25l[73;244H~@k[43;1H[73;244H   [44;1H[73;255H4,1  [44;1H[?25h[?25l[73;244H~@k[44;1H[73;244H   [45;1H[73;255H5[45;1H[?25h[?25l[73;244H~@k[45;1H[73;244H   [46;1H[73;255H6[46;1H[?25h[?25l[73;244H~@k[46;1H[73;244H   [47;1H[73;255H7[47;1H[?25h[?25l[73;244H~@k[47;1H[73;244H   [48;1H[73;255H8[48;1H[?25h[?25l[73;244H~@k[48;1H[73;244H   [49;1H[73;255H9[49;1H[?25h[?25l[73;244H~@k[49;1H[73;244H   [50;1H[73;254H50[50;1H[?25h[?25l[73;244H~@k[50;1H[73;244H   [51;1H[73;255H1,0-1[51;1H[?25h[?25l[73;244H~@k[51;1H[73;244H   [52;8H[73;255H2,1-8[52;8H[?25h[?25l[73;244H~@k[52;8H[73;244H   [53;8H[73;255H3[53;8H[?25h[?25l[73;244H~@k[53;8H[73;244H   [54;8H[73;255H4[54;8H[?25h[?25l[73;244H~@k[54;8H[73;244H   [55;8H[73;255H5[55;8H[?25h[?25l[73;244H~@k[55;8H[73;244H   [56;8H[73;255H6[56;8H[?25h[?25l[73;244H~@k[56;8H[73;244H   [57;8H[73;255H7[57;8H[?25h[?25l[73;244H~@k[57;8H[73;244H   [58;8H[73;255H8[58;8H[?25h[?25l[73;244H~@k[58;8H[73;244H   [59;8H[73;255H9[59;8H[?25h[?25l[73;244H~@k[59;8H[73;244H   [60;1H[73;254H60,1  [60;1H[?25h[?25l[73;244H~@k[60;1H[73;244H   [61;1H[73;255H1[61;1H[?25h[?25l[73;244H~@k[61;1H[73;244H   [62;1H[33;1H[46m{[62;1H}[m[73;255H2[62;1H[?25h[?25l[73;244H~@k[62;1H[73;244H   [63;1H[33;1H{[62;1H}[73;255H3,0-1[63;1H[?25h[?25l[73;244H~@k[63;1H[73;244H   [64;1H[73;255H4,1  [64;1H[?25h[?25l[73;244H~@k[64;1H[73;244H   [65;1H[73;255H5[65;1H[?25h[?25l[73;244H~@k[65;1H[73;244H   [66;1H[73;255H6[66;1H[?25h[?25l[73;244H~@k[66;1H[73;244H   [67;1H[73;255H7[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;8H[1;72r[72;1H
[1;73r[72;5H[1m[33mreturn[m [1m[35m0[m;[21C[1m[36m/* Not a builtin command */[m[73;1H[K[73;254H68,1-8[9C2%[67;8H[?25h[?25l[73;244H~@k[67;8H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;1H}[73;254H[K[73;254H69,1[11C5%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;8H[1;72r[72;1H
[1;73r[72;1H[1m[36m/* $end eval */[m[73;254H[K[73;254H70,1-8[9C7%[67;8H[?25h[?25l[73;244H~@k[67;8H[73;244H   [67;1H[1;72r[72;1H
[1;73r[73;254H[K[73;254H71,1[10C10%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [66;8H[73;255H0,1-8[66;8H[?25h[?25l[73;244Hi[66;8H[73;244H [66;1H[73;1H[1m-- INSERT --[m[73;254H[K[73;254H70,1[10C10%[66;1H[?25h[?25l[73;257H2-9[66;9H[?25h[?25l[73;257H3-10[66;10H[?25h[?25l[73;257H4-11[66;11H[?25h[?25l[73;257H5-12[66;12H[?25h[?25l[73;257H6-13[66;13H[?25h[?25l[73;257H7-14[66;14H[?25h[?25l[73;257H8-15[66;15H[?25h[?25l[73;257H9-16[66;16H[?25h[?25l[73;257H10-17[66;17H[?25h[?25l[73;258H1-18[66;18H[?25h[?25l[73;258H2-19[66;19H[?25h[?25l[73;258H3-20[66;20H[?25h[?25l[73;258H4-21[66;21H[?25h[?25lv[46m[[1C][m[73;258H5-22[66;22H[?25h[?25l[73;258H6-23[66;23H[?25h[?25l[73;258H7-24[66;24H[?25h[?25l[73;258H8-25[66;25H[?25h[?25l[[1C][73;258H9-26[66;26H[?25h[?25l[66;25H[K[66;22H[46m[[1C][m[73;258H8-25[66;25H[?25h[?25l[66;24H[K[68;17H[1m[37m[41m;[69;13H;[m[66;22H[[73;258H7-24[66;24H[?25h[?25l[66;23H[K[73;258H6-23[66;23H[?25h[?25l[66;22H[K[68;17H;[69;13H; [73;258H5-22[66;22H[?25h[?25l[66;21H[K[73;258H4-21[66;21H[?25h[?25l[66;20H[K[73;258H3-20[66;20H[?25h[?25l[66;19H[K[73;258H2-19[66;19H[?25h[?25l[66;18H[K[73;258H1-18[66;18H[?25h[?25l[73;258H0-17[66;17H[?25h[?25l[66;16H[K[73;257H9-16 [66;16H[?25h[?25l[73;257H8-15[66;15H[?25h[?25l[66;14H[K[73;257H7-14[66;14H[?25h[?25l[66;13H[K[73;257H6-13[66;13H[?25h[?25l[66;12H[K[73;257H5-12[66;12H[?25h[?25l[66;11H[K[73;257H4-11[66;11H[?25h[?25l[66;10H[K[73;257H3-10[66;10H[?25h[?25l[66;9H[K[73;257H2-9 [66;9H[?25h[?25lex'[73;257H5-12[66;12H[?25h[?25l[66;11H[K[73;257H4-11[66;11H[?25h[?25l[66;10H[K[73;257H3-10[66;10H[?25h[?25l[66;9H[K[73;257H2-9 [66;9H[?25h[?25ls[73;257H3-10[66;10H[?25h[?25lt[73;257H4-11[66;11H[?25h[?25lr[73;257H5-12[66;12H[?25h[?25lc[73;257H6-13[66;13H[?25h[?25lp[73;257H7-14[66;14H[?25h[?25ly[73;257H8-15[66;15H[?25h[?25l([73;257H9-16[66;16H[?25h[?25lp[73;257H10-17[66;17H[?25h[?25lr[73;258H1-18[66;18H[?25h[?25lo[73;258H2-19[66;19H[?25h[?25lm[73;258H3-20[66;20H[?25h[?25lp[73;258H4-21[66;21H[?25h[?25lt[73;258H5-22[66;22H[?25h[?25l,[73;258H6-23[66;23H[?25h[?25l[73;258H7-24[66;24H[?25h[?25la[73;258H8-25[66;25H[?25h[?25lr[73;258H9-26[66;26H[?25h[?25lg[73;257H20-27[66;27H[?25h[?25lv[73;258H1-28[66;28H[?25h[?25l[[68;17H[1m[37m[41m;[69;13H;[m[73;258H2-29[66;29H[?25h[?25l[1m[35m1[m[73;258H3-30[66;30H[?25h[?25l][68;17H;[69;13H; [66;28H[46m[[1C][m[73;258H4-31[66;31H[?25h[?25l)[66;15H[46m([m[12C[[1C][46m)[m[73;258H5-32[66;32H[?25h[?25l;[66;15H([15C)[73;258H6-33[66;33H[?25h[73;1H[K[66;32H[?25l[73;244H^[[66;32H[73;244H  [66;33H[73;254H70,25-32      10%[66;32H[?25h[?25l[73;244H:[66;32H[73;244H[K[73;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"shellex.c" 111L, 2679C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim shellex.c[1Pmake shellex
gcc -o shellex shellex.c csapp.c -lpthread
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ make shellexvim shellex.c[1Pmake shellexvim shellex.c[1Pmake shellexvim shellex.c[8Pclearat > /dev/null[6P./shellex
> newprompt uksh
newprompt: Command not found.
uksh> ^[[A^[[B^[^C
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim shellex.c 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;73r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[73;1H"shellex.c" 111L, 2679C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#define MAXARGS   [m[31m128[m

[32mchar[m prompt[] = [31m""[m;

[34m/* Function prototypes */[m
[32mvoid[m eval([32mchar[m *cmdline);
[32mint[m parseline([32mchar[m *buf, [32mchar[m **argv);
[32mint[m builtin_command([32mchar[m **argv);

[32mint[m main()
{
    [32mchar[m cmdline[MAXLINE]; [34m/* Command line */[m[14;5H[33mwhile[m ([31m1[m) {[15;9H[34m/* Read */[m[16;9Hprintf([31m"[m[35m%s[m[31m> "[m, prompt);[17;9HFgets(cmdline, MAXLINE, [31mstdin[m);[18;9H[33mif[m (feof([31mstdin[m))[19;13Hexit([31m0[m);[21;9H[34m/* Evaluate */[m[22;9Heval(cmdline);
    }
}
[34m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[32mvoid[m eval([32mchar[m *cmdline)
{
    [32mchar[m *argv[MAXARGS]; [34m/* Argument list execve() */[m
    [32mchar[m buf[MAXLINE];   [34m/* Holds modified command line */[m
    [32mint[m bg;[14C[34m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[34m/* Process id */[m[36;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [33mif[m (argv[[31m0[m] == [31mNULL[m)[39;9H[33mreturn[m;   [34m/* Ignore empty lines */[m[41;5H[33mif[m (!builtin_command(argv)) {[42;9H[33mif[m ((pid = Fork()) == [31m0[m) {   [34m/* Child runs user job */[m[43;13H[33mif[m (execvpe(argv[[31m0[m], argv, environ) < [31m0[m) {[44;17Hprintf([31m"[m[35m%s[m[31m: Command not found.[m[35m\n[m[31m"[m, argv[[31m0[m]);[45;17Hexit([31m0[m);[46;13H}[47;9H}[49;9H[34m/* Parent waits for foreground job to terminate */[m[50;9H[33mif[m (!bg) {[51;13H[32mint[m status;[52;13H[33mif[m (waitpid(pid, &status, [31m0[m) < [31m0[m)[53;17Hunix_error([31m"waitfg: waitpid error"[m);[54;9H}[55;9H[33melse[m[56;13Hprintf([31m"[m[35m%d[m[31m [m[35m%s[m[31m"[m, pid, cmdline);
    }
    [33mreturn[m;
}

[34m/* If first arg is a builtin command, run it and return true */[m
[32mint[m builtin_command([32mchar[m **argv)
{
    [33mif[m (!strcmp(argv[[31m0[m], [31m"quit"[m)) [34m/* quit command */[m[65;9Hexit([31m0[m);
    [33mif[m (!strcmp(argv[[31m0[m], [31m"newprompt"[m))[67;9Hstrcpy(prompt, argv[[31m1[m]);
    [33mif[m (!strcmp(argv[[31m0[m], [31m"&"[m))    [34m/* Ignore singleton & */[m[69;9H[33mreturn[m [31m1[m;
    [33mreturn[m [31m0[m;[21C[34m/* Not a builtin command */[m
}
[34m/* $end eval */[m[73;254H70,25-32[7C7%[67;32H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[1m[34m#define MAXARGS   [m[1m[35m128[m

[1m[32mchar[m prompt[] = [1m[35m""[m;

[1m[36m/* Function prototypes */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline);
[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv);
[1m[32mint[m builtin_command([1m[32mchar[m **argv);

[1m[32mint[m main()
{
    [1m[32mchar[m cmdline[MAXLINE]; [1m[36m/* Command line */[m[14;5H[1m[33mwhile[m ([1m[35m1[m) {[15;9H[1m[36m/* Read */[m[16;9Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m> "[m, prompt);[17;9HFgets(cmdline, MAXLINE, [1m[35mstdin[m);[18;9H[1m[33mif[m (feof([1m[35mstdin[m))[19;13Hexit([1m[35m0[m);[21;9H[1m[36m/* Evaluate */[m[22;9Heval(cmdline);
    }
}
[1m[36m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline)
{
    [1m[32mchar[m *argv[MAXARGS]; [1m[36m/* Argument list execve() */[m
    [1m[32mchar[m buf[MAXLINE];   [1m[36m/* Holds modified command line */[m
    [1m[32mint[m bg;[14C[1m[36m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[1m[36m/* Process id */[m[36;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [1m[33mif[m (argv[[1m[35m0[m] == [1m[35mNULL[m)[39;9H[1m[33mreturn[m;   [1m[36m/* Ignore empty lines */[m[41;5H[1m[33mif[m (!builtin_command(argv)) {[42;9H[1m[33mif[m ((pid = Fork()) == [1m[35m0[m) {   [1m[36m/* Child runs user job */[m[43;13H[1m[33mif[m (execvpe(argv[[1m[35m0[m], argv, environ) < [1m[35m0[m) {[44;17Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m: Command not found.[m[1m[31m\n[m[1m[35m"[m, argv[[1m[35m0[m]);[45;17Hexit([1m[35m0[m);[46;13H}[47;9H}[49;9H[1m[36m/* Parent waits for foreground job to terminate */[m[50;9H[1m[33mif[m (!bg) {[51;13H[1m[32mint[m status;[52;13H[1m[33mif[m (waitpid(pid, &status, [1m[35m0[m) < [1m[35m0[m)[53;17Hunix_error([1m[35m"waitfg: waitpid error"[m);[54;9H}[55;9H[1m[33melse[m[56;13Hprintf([1m[35m"[m[1m[31m%d[m[1m[35m [m[1m[31m%s[m[1m[35m"[m, pid, cmdline);
    }
    [1m[33mreturn[m;
}

[1m[36m/* If first arg is a builtin command, run it and return true */[m
[1m[32mint[m builtin_command([1m[32mchar[m **argv)
{
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"quit"[m)) [1m[36m/* quit command */[m[65;9Hexit([1m[35m0[m);
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"newprompt"[m))[67;9Hstrcpy(prompt, argv[[1m[35m1[m]);
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[69;9H[1m[33mreturn[m [1m[35m1[m;
    [1m[33mreturn[m [1m[35m0[m;[21C[1m[36m/* Not a builtin command */[m
}
[1m[36m/* $end eval */[m[73;254H70,25-32[7C7%"shellex.c" 111L, 2679C[67;32H[?25h[?25l[1;72r[72;1H
[1;73r[73;1H[K[73;254H71,32[9C10%[67;32H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* $begin parseline */[m[73;254H[K[73;254H72,10-17      12%[67;17H[?25h[?25l[73;244H~@k[67;17H[73;244H   [67;32H[1;72r[72;1H
[1;73r[72;1H[1m[36m/* parseline - Parse the command line and build the argv array */[m[73;254H[K[73;254H73,32[9C15%[67;32H[?25h[?25l[1;72r[72;1H
[1;73r[59;1H[46m{[67;1H}[m[72;1H[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv)[73;254H[K[73;254H74,1[10C17%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[58;1H{[66;1H}[72;1H{[73;254H[K[73;254H75,15[9C20%[67;15H[?25h[?25l[73;244H~@k[67;15H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;5H[1m[32mchar[m *delim;[9C[1m[36m/* Points to first space delimiter */[m[73;254H[K[73;254H76,0-1[8C23%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[32mint[m argc;[12C[1m[36m/* Number of args */[m[73;254H[K[73;254H77,22[9C25%[67;22H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[32mint[m bg;[14C[1m[36m/* Background job? */[m[73;254H[K[73;254H78,32[9C28%[67;32H[?25h[?25l[73;244H~@k[67;32H[73;244H   [67;32H[1;72r[72;1H
[1;73r[73;254H[K[73;254H79,32[9C30%[67;32H[?25h[?25l[1;72r[72;1H
[1;73r[72;5Hbuf[strlen(buf)-[1m[35m1[m] = [1m[35m' '[m;  [1m[36m/* Replace trailing '\n' with space */[m[73;254H[K[73;254H80,1[10C33%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore leading spaces */[m[73;254H[K[73;254H81,32[9C35%[67;32H[?25h[?25l[73;244H~@k[67;32H[73;244H   [67;32H[1;72r[72;1H
[1;73r[72;9Hbuf++;[73;254H[K[73;254H82,32[9C38%[67;32H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H83,32[9C41%[67;32H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[36m/* Build the argv list */[m[73;254H[K[73;254H84,0-1[8C43%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;32H[1;72r[72;1H
[1;73r[72;5Hargc = [1m[35m0[m;[73;254H[K[73;254H85,32[9C46%[67;32H[?25h[?25l[1;72r[72;1H
[1;73r[67;20H[46m([11C)[m[72;5H[1m[33mwhile[m ((delim = strchr(buf, [1m[35m' '[m))) {[73;254H[K[73;254H86,32[9C48%[67;32H[?25h[?25l[1;72r[72;1H
[1;73r[66;20H([11C)[72;9Hargv[argc++] = buf;[73;254H[K[73;254H87,7-14[7C51%[67;14H[?25h[?25l[73;244H~@k[67;14H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;9H*delim = [1m[31m'\0'[m;[73;254H[K[73;254H88,0-1[8C53%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;9Hbuf = delim + [1m[35m1[m;[73;254H[K[73;254H89,29[9C56%[67;29H[?25h[?25l[1;72r[72;1H
[1;73r[72;9H[1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore spaces */[m[73;254H[K[73;254H90,13[9C58%[67;13H[?25h[?25l[73;244H~@k[67;13H[73;244H   [67;32H[1;72r[72;1H
[1;73r[72;13Hbuf++;[73;254H[K[73;254H91,32[9C61%[67;32H[?25h[?25l[73;244Hi[67;32H[73;244H [67;32H[73;1H[1m-- INSERT --[m[73;254H[K[73;254H91,32[9C61%[67;32H[?25h[?25l[73;254H88,1 [64;1H[?25h[?25l[73;255H5,32[61;32H[?25h[?25l[73;255H2[58;32H[?25h[?25l[73;254H79[55;32H[?25h[?25l[73;255H6,1 [52;1H[?25h[?25l[73;255H3,32[49;32H[?25h[?25l[46;15H[46m([15C)[m[73;255H0,25-32[46;32H[?25h[?25l[46;15H([15C)[73;255H3,32   [49;32H[?25h[?25l[73;258H1[49;31H[?25h[?25l[73;258H0[49;30H[?25h[?25l[73;257H29[49;29H[?25h[?25l[73;258H8[49;28H[?25h[?25l[73;258H7[49;27H[?25h[?25l[73;258H6[49;26H[?25h[?25l[73;258H5[49;25H[?25h[?25l[73;258H4[49;24H[?25h[?25l[73;258H3[49;23H[?25h[?25l[73;258H2[49;22H[?25h[?25l[73;258H1[49;21H[?25h[?25l[73;258H0[49;20H[?25h[?25l[73;257H19[49;19H[?25h[?25l[73;258H8[49;18H[?25h[?25l[73;258H7[49;17H[?25h[?25l[73;258H6[49;16H[?25h[?25l[73;258H5[49;15H[?25h[?25l[73;258H4[49;14H[?25h[?25l[73;258H3[49;13H[?25h[?25l[73;258H2[49;12H[?25h[?25l[73;258H1[49;11H[?25h[?25l[73;258H0[49;10H[?25h[?25l[73;257H9 [49;9H[?25h[?25l[73;257H8[49;8H[?25h[?25l[73;257H7[49;7H[?25h[?25l[73;257H6[49;6H[?25h[?25l[73;257H5[49;5H[?25h[?25lereturn [1m[35m0[m;[20C [1m[36m/* Not a builtin command */[m[73;257H6[49;6H[?25h[?25llreturn [1m[35m0[m;[20C [1m[36m/* Not a builtin command */[m[73;257H7[49;7H[?25h[?25lsreturn [1m[35m0[m;[20C [1m[36m/* Not a builtin command */[m[73;257H8[49;8H[?25h[?25lereturn [1m[35m0[m;[20C [1m[36m/* Not a builtin command */[m[73;257H9[49;9H[?25h[?25l[1m[33melse[m [1m[33mreturn[m [1m[35m0[m;[20C [1m[36m/* Not a builtin command */[m[73;257H10[49;10H[?25h[?25l[73;258H1[49;11H[?25h[?25l[73;258H2[49;12H[?25h[?25l[73;258H3[49;13H[?25h[?25l[73;258H4[49;14H[?25h[?25l[73;258H5[49;15H[?25h[?25l[73;258H6[49;16H[?25h[?25l[73;258H7[49;17H[?25h[?25l[73;258H8[49;18H[?25h[?25l[73;258H9[49;19H[?25h[?25l[73;258H8[49;18H[?25h[?25l[73;258H7[49;17H[?25h[?25l[73;258H6[49;16H[?25h[?25l[73;258H5[49;15H[?25h[?25l[73;258H4[49;14H[?25h[?25l[73;258H3[49;13H[?25h[?25l[73;258H2[49;12H[?25h[?25l[73;258H1[49;11H[?25h[?25l[73;258H0[49;10H[?25h[?25l[73;257H9 [49;9H[?25h[?25l[73;257H8[49;8H[?25h[?25l[73;257H7[49;7H[?25h[?25l[73;257H6[49;6H[?25h[?25l[73;257H5[49;5H[?25h[?25l[73;257H4[49;4H[?25h[?25l[73;257H3[49;3H[?25h[?25l[73;257H2[49;2H[?25h[?25l[73;257H1[49;1H[?25h[?25l[42;1H[46m{[50;1H}[m[73;255H4[50;1H[?25h[?25l[51;72r[51;1H[L[1;73r[50;1H[K[51;1H}[73;254H[K[73;254H75,1[10C60%[51;1H[46m}[?25h[?25l[m[42;1H{[51;1H}[73;255H4[50;1H[?25h[?25l[73;257H2-9[50;9H[?25h[?25l[73;257H1  [50;1H[?25h[?25l[73;257H2[50;2H[?25h[?25l[73;257H3[50;3H[?25h[?25l[73;257H4[50;4H[?25h[?25l[73;257H5[50;5H[?25h[?25lr[73;257H6[50;6H[?25h[?25le[73;257H7[50;7H[?25h[?25lt[73;257H8[50;8H[?25h[?25lu[73;257H9[50;9H[?25h[?25lr[73;257H10[50;10H[?25h[?25l[1m[33mreturn[m[73;258H1[50;11H[?25h[?25l[73;258H2[50;12H[?25h[?25l[1m[35m1[m[73;258H3[50;13H[?25h[?25l;[73;258H4[50;14H[?25h[73;1H[K[50;13H[?25l[73;244H^[[50;13H[73;244H  [50;14H[73;254H74,13[9C60%[50;13H[?25h[?25l[73;244H:[50;13H[73;244H[K[73;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"shellex.c" 112L, 2698C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim shellex.c [5P./shellexmake shellex
gcc -o shellex shellex.c csapp.c -lpthread
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ make shellexvim shellex.c [5P./shellex
> newprmp  ompt uksh
newprompt: Command not found.
uksh> ^[  :wq
:wq: Command not found.
uksh> :q  ]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ ./shellex
> ^C
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ clear
[3J[H[2J]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim shellex.c 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;73r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[73;1H"shellex.c" 112L, 2698C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m/* Function prototypes */[m
[32mvoid[m eval([32mchar[m *cmdline);
[32mint[m parseline([32mchar[m *buf, [32mchar[m **argv);
[32mint[m builtin_command([32mchar[m **argv);

[32mint[m main()
{
    [32mchar[m cmdline[MAXLINE]; [34m/* Command line */[m[10;5H[33mwhile[m ([31m1[m) {[11;9H[34m/* Read */[m[12;9Hprintf([31m"[m[35m%s[m[31m> "[m, prompt);[13;9HFgets(cmdline, MAXLINE, [31mstdin[m);[14;9H[33mif[m (feof([31mstdin[m))[15;13Hexit([31m0[m);[17;9H[34m/* Evaluate */[m[18;9Heval(cmdline);
    }
}
[34m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[32mvoid[m eval([32mchar[m *cmdline)
{
    [32mchar[m *argv[MAXARGS]; [34m/* Argument list execve() */[m
    [32mchar[m buf[MAXLINE];   [34m/* Holds modified command line */[m
    [32mint[m bg;[14C[34m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[34m/* Process id */[m[32;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [33mif[m (argv[[31m0[m] == [31mNULL[m)[35;9H[33mreturn[m;   [34m/* Ignore empty lines */[m[37;5H[33mif[m (!builtin_command(argv)) {[38;9H[33mif[m ((pid = Fork()) == [31m0[m) {   [34m/* Child runs user job */[m[39;13H[33mif[m (execvpe(argv[[31m0[m], argv, environ) < [31m0[m) {[40;17Hprintf([31m"[m[35m%s[m[31m: Command not found.[m[35m\n[m[31m"[m, argv[[31m0[m]);[41;17Hexit([31m0[m);[42;13H}[43;9H}[45;9H[34m/* Parent waits for foreground job to terminate */[m[46;9H[33mif[m (!bg) {[47;13H[32mint[m status;[48;13H[33mif[m (waitpid(pid, &status, [31m0[m) < [31m0[m)[49;17Hunix_error([31m"waitfg: waitpid error"[m);[50;9H}[51;9H[33melse[m[52;13Hprintf([31m"[m[35m%d[m[31m [m[35m%s[m[31m"[m, pid, cmdline);
    }
    [33mreturn[m;
}

[34m/* If first arg is a builtin command, run it and return true */[m
[32mint[m builtin_command([32mchar[m **argv)
{
    [33mif[m (!strcmp(argv[[31m0[m], [31m"quit"[m)) [34m/* quit command */[m[61;9Hexit([31m0[m);
    [33mif[m (!strcmp(argv[[31m0[m], [31m"newprompt"[m))[63;9Hstrcpy(prompt, argv[[31m1[m]);
    [33mif[m (!strcmp(argv[[31m0[m], [31m"&"[m))    [34m/* Ignore singleton & */[m[65;9H[33mreturn[m [31m1[m;
    [33melse[m [33mreturn[m [31m0[m;[21C[34m/* Not a builtin command */[m
    [33mreturn[m [31m1[m;
}
[34m/* $end eval */

/* $begin parseline */
/* parseline - Parse the command line and build the argv array */[m[73;254H74,13[9C17%[67;13H[?25h[?25l[73;244H^[[67;13H[73;246H][67;13H[73;247H1[67;13H[73;248H1[67;13H[73;249H;[67;13H[73;244H      [67;13H[27m[23m[29m[m[H[2J[1;1H[1m[36m/* Function prototypes */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline);
[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv);
[1m[32mint[m builtin_command([1m[32mchar[m **argv);

[1m[32mint[m main()
{
    [1m[32mchar[m cmdline[MAXLINE]; [1m[36m/* Command line */[m[10;5H[1m[33mwhile[m ([1m[35m1[m) {[11;9H[1m[36m/* Read */[m[12;9Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m> "[m, prompt);[13;9HFgets(cmdline, MAXLINE, [1m[35mstdin[m);[14;9H[1m[33mif[m (feof([1m[35mstdin[m))[15;13Hexit([1m[35m0[m);[17;9H[1m[36m/* Evaluate */[m[18;9Heval(cmdline);
    }
}
[1m[36m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline)
{
    [1m[32mchar[m *argv[MAXARGS]; [1m[36m/* Argument list execve() */[m
    [1m[32mchar[m buf[MAXLINE];   [1m[36m/* Holds modified command line */[m
    [1m[32mint[m bg;[14C[1m[36m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[1m[36m/* Process id */[m[32;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [1m[33mif[m (argv[[1m[35m0[m] == [1m[35mNULL[m)[35;9H[1m[33mreturn[m;   [1m[36m/* Ignore empty lines */[m[37;5H[1m[33mif[m (!builtin_command(argv)) {[38;9H[1m[33mif[m ((pid = Fork()) == [1m[35m0[m) {   [1m[36m/* Child runs user job */[m[39;13H[1m[33mif[m (execvpe(argv[[1m[35m0[m], argv, environ) < [1m[35m0[m) {[40;17Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m: Command not found.[m[1m[31m\n[m[1m[35m"[m, argv[[1m[35m0[m]);[41;17Hexit([1m[35m0[m);[42;13H}[43;9H}[45;9H[1m[36m/* Parent waits for foreground job to terminate */[m[46;9H[1m[33mif[m (!bg) {[47;13H[1m[32mint[m status;[48;13H[1m[33mif[m (waitpid(pid, &status, [1m[35m0[m) < [1m[35m0[m)[49;17Hunix_error([1m[35m"waitfg: waitpid error"[m);[50;9H}[51;9H[1m[33melse[m[52;13Hprintf([1m[35m"[m[1m[31m%d[m[1m[35m [m[1m[31m%s[m[1m[35m"[m, pid, cmdline);
    }
    [1m[33mreturn[m;
}

[1m[36m/* If first arg is a builtin command, run it and return true */[m
[1m[32mint[m builtin_command([1m[32mchar[m **argv)
{
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"quit"[m)) [1m[36m/* quit command */[m[61;9Hexit([1m[35m0[m);
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"newprompt"[m))[63;9Hstrcpy(prompt, argv[[1m[35m1[m]);
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[65;9H[1m[33mreturn[m [1m[35m1[m;
    [1m[33melse[m [1m[33mreturn[m [1m[35m0[m;[21C[1m[36m/* Not a builtin command */[m
    [1m[33mreturn[m [1m[35m1[m;
}
[1m[36m/* $end eval */

/* $begin parseline */
/* parseline - Parse the command line and build the argv array */[m[73;254H74,13[9C17%"shellex.c" 112L, 2698C[67;13H[?25h[?25l[73;255H3[66;13H[?25h[?25l[73;255H2,6-13[65;13H[?25h[?25l[73;244H~@k[65;13H[73;244H   [64;13H[73;255H1,13  [64;13H[?25h[?25l[73;255H2,6-13[65;13H[?25h[?25l[73;255H3,13  [66;13H[?25h[?25l[73;255H4[67;13H[?25h[?25l[1;72r[72;1H
[1;73r[58;1H[46m{[67;1H}[m[72;1H[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv)[73;1H[K[73;254H75,1[10C20%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[57;1H{[66;1H}[72;1H{[73;254H[K[73;254H76,13[9C22%[67;13H[?25h[?25l[73;244H~@k[67;13H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;5H[1m[32mchar[m *delim;[9C[1m[36m/* Points to first space delimiter */[m[73;254H[K[73;254H77,0-1[8C25%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[32mint[m argc;[12C[1m[36m/* Number of args */[m[73;254H[K[73;254H78,13[9C27%[67;13H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[32mint[m bg;[14C[1m[36m/* Background job? */[m[73;254H[K[73;254H79,13[9C30%[67;13H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H80,13[9C32%[67;13H[?25h[?25l[1;72r[72;1H
[1;73r[72;5Hbuf[strlen(buf)-[1m[35m1[m] = [1m[35m' '[m;  [1m[36m/* Replace trailing '\n' with space */[m[73;254H[K[73;254H81,1[10C35%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore leading spaces */[m[73;254H[K[73;254H82,13[9C37%[67;13H[?25h[?25l[73;244H~@k[67;13H[73;244H   [67;13H[1;72r[72;1H
[1;73r[72;9Hbuf++;[73;254H[K[73;254H83,13[9C40%[67;13H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H84,13[9C42%[67;13H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[36m/* Build the argv list */[m[73;254H[K[73;254H85,0-1[8C45%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;5Hargc = [1m[35m0[m;[73;254H[K[73;254H86,13[9C47%[67;13H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[33mwhile[m ((delim = strchr(buf, [1m[35m' '[m))) {[73;254H[K[73;254H87,13[9C50%[67;13H[?25h[?25l[1;72r[72;1H
[1;73r[72;9Hargv[argc++] = buf;[73;254H[K[73;254H88,6-13[7C52%[67;13H[?25h[?25l[73;244H~@k[67;13H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;9H*delim = [1m[31m'\0'[m;[73;254H[K[73;254H89,0-1[8C55%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;9Hbuf = delim + [1m[35m1[m;[73;254H[K[73;254H90,13[9C57%[67;13H[?25h[?25l[1;72r[72;1H
[1;73r[72;9H[1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore spaces */[m[73;254H[K[73;254H91,13[9C60%[67;13H[?25h[?25l[73;244H~@k[67;13H[73;244H   [67;13H[1;72r[72;1H
[1;73r[72;13Hbuf++;[73;254H[K[73;254H92,13[9C62%[67;13H[?25h[?25l[73;244H~@k[67;13H[73;244H   [67;13H[1;72r[72;1H
[1;73r[67;13H[46m[[margc++[46m][m[72;5H}[73;254H[K[73;254H93,6-13[7C65%[67;13H[?25h[?25l[73;244H~@k[67;13H[73;244H   [67;13H[1;72r[72;1H
[1;73r[66;13H[argc++][72;5Hargv[argc] = [1m[35mNULL[m;[73;254H[K[73;254H94,6-13[7C67%[67;13H[?25h[?25l[73;244H~@k[67;13H[73;244H   [66;13H[46m[[margc++[46m][m[73;255H3[66;13H[?25h[?25l[73;244H~@k[66;13H[73;244H   [65;13H[66;13H[argc++][73;255H2,13  [65;13H[?25h[?25l[73;244H~@k[65;13H[73;244H   [64;13H[73;255H1[64;13H[?25h[?25l[73;244H~@k[64;13H[73;244H   [63;13H[73;255H0[63;13H[?25h[?25l[73;244H~@k[63;13H[73;244H   [62;1H[73;254H89,0-1[62;1H[?25h[?25l[73;244H~@k[62;1H[73;244H   [61;13H[73;255H8,6-13[61;13H[?25h[?25l[73;244H~@k[61;13H[73;244H   [60;13H[73;255H7,13  [60;13H[?25h[?25l[73;244H~@k[60;13H[73;244H   [59;13H[73;255H6[59;13H[?25h[?25l[73;244H~@k[59;13H[73;244H   [58;1H[73;255H5,0-1[58;1H[?25h[?25l[73;244H~@k[58;1H[73;244H   [57;13H[73;255H4,13 [57;13H[?25h[?25l[73;244H~@k[57;13H[73;244H   [56;13H[73;255H3[56;13H[?25h[?25l[73;244H~@k[56;13H[73;244H   [55;13H[73;255H2[55;13H[?25h[?25l[73;244H~@k[55;13H[73;244H   [54;1H[73;255H1,1 [54;1H[?25h[?25l[73;244H~@k[54;1H[73;244H   [53;13H[73;255H0,13[53;13H[?25h[?25l[73;244H~@k[53;13H[73;244H   [52;13H[73;254H79[52;13H[?25h[?25l[73;244H~@k[52;13H[73;244H   [51;13H[73;255H8[51;13H[?25h[?25l[73;244H~@k[51;13H[73;244H   [50;1H[73;255H7,0-1[50;1H[?25h[?25l[73;244H~@k[50;1H[73;244H   [49;13H[73;255H6,13 [49;13H[?25h[?25l[73;244H~@k[49;13H[73;244H   [48;1H[39;1H[46m{[48;1H}[m[73;255H5,1 [48;1H[?25h[?25l[73;244H~@k[48;1H[73;244H   [47;13H[39;1H{[48;1H}[73;255H4,13[47;13H[?25h[?25l[73;244H~@k[47;13H[73;244H   [46;13H[73;255H3[46;13H[?25h[?25l[73;244H~@k[46;13H[73;244H   [45;13H[73;255H2,6-13[45;13H[?25h[?25l[73;244H~@k[45;13H[73;244H   [44;13H[73;255H1,13  [44;13H[?25h[?25l[73;244H~@k[44;13H[73;244H   [43;13H[73;255H0,6-13[43;13H[?25h[?25l[73;244H~@k[43;13H[73;244H   [42;13H[73;254H69,13  [42;13H[?25h[?25l[73;244H~@k[42;13H[73;244H   [41;13H[46m([1C)[m[73;255H8,6-13[41;13H[?25h[?25l[73;244H~@k[41;13H[73;244H   [41;12Ht([1C)[73;257H5-12[41;12H[?25h[?25l[73;244H~@k[41;12H[73;244H   [42;12H[73;255H9,12  [42;12H[?25h[?25l[73;244H~@k[42;12H[73;244H   [42;11H[73;258H1[42;11H[?25h[?25l[73;244H~@k[42;11H[73;244H   [42;10H[73;258H0[42;10H[?25h[?25l[73;244H~@k[42;10H[73;244H   [42;9H[73;257H9 [42;9H[?25h[?25l[73;244H~@k[42;9H[73;244H   [42;8H[46m([29C)[m[73;257H8[42;8H[?25h[?25l[73;244H~@k[42;8H[73;244H   [42;7H ([29C)[73;257H7[42;7H[?25h[?25l[73;244H~@k[42;7H[73;244H   [42;6H[73;257H6[42;6H[?25h[?25l[73;244H~@k[42;6H[73;244H   [42;5H[73;257H5[42;5H[?25h[?25l[73;244H~@k[42;5H[73;244H   [42;4H[73;257H4[42;4H[?25h[?25l[73;244H~@k[42;4H[73;244H   [42;5H[73;257H5[42;5H[?25h[?25l[73;244He[42;5H[73;244H [42;6H[73;257H6[42;6H[?25h[?25l[73;244Hl[42;6H[73;244H [42;7H[73;257H7[42;7H[?25h[?25l[73;244H~@k[42;7H[73;244H   [42;6H[73;257H6[42;6H[?25h[?25l[73;244H~@k[42;6H[73;244H   [42;5H[73;257H5[42;5H[?25h[?25l[73;244Hi[42;5H[73;244H [42;5H[73;1H[1m-- INSERT --[m[73;254H[K[73;254H69,5[10C67%[42;5H[?25h[?25leif (!strcmp(argv[[1m[35m0[m], [1m[35m"newprompt"[m))[73;257H6[42;6H[?25h[?25llif (!strcmp(argv[[1m[35m0[m], [1m[35m"newprompt"[m))[73;257H7[42;7H[?25h[?25lsif (!strcmp(argv[[1m[35m0[m], [1m[35m"newprompt"[m))[73;257H8[42;8H[?25h[?25leif (!strcmp(argv[[1m[35m0[m], [1m[35m"newprompt"[m))[73;257H9[42;9H[?25h[?25l[1m[33melse[m [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"newprompt"[m))[73;257H10[42;10H[?25h[?25l[73;254H70,3-10[43;10H[?25h[?25l[73;257H2-9 [43;9H[?25h[?25l[73;257H1  [43;1H[?25h[?25l[73;255H1[44;1H[?25h[?25l[73;257H2[44;2H[?25h[?25l[73;257H3[44;3H[?25h[?25l[73;257H4[44;4H[?25h[?25l[73;257H5[44;5H[?25h[?25leif (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[73;257H6[44;6H[?25h[?25llif (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[73;257H7[44;7H[?25h[?25lsif (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[73;257H8[44;8H[?25h[?25leif (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[73;257H9[44;9H[?25h[?25l[1m[33melse[m [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[73;257H10[44;10H[?25h[?25l[73;255H2,3-10[45;10H[?25h[73;1H[K[45;9H[?25l[73;244H^[[45;9H[73;244H  [45;10H[73;254H72,2-9[8C67%[45;9H[?25h[?25l[73;244H:[45;9H[73;244H[K[73;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"shellex.c" 112L, 2708C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ vim shellex.c [9Pclear./shellexmake shellex
gcc -o shellex shellex.c csapp.c -lpthread
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ make shellexvim shellex.c [9Pclear./shellex
> u newprompt uksh
uksh> ^C
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ clear
[3J[H[2J]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ clear./shellexmake shellexvim shellex.c [9Pclear./shellexmake shellexvim shellex.c [5P./shellexmake shellexvim shellex.c[1Pmake shellexvim shellex.c[1Pmake shellexvim shellex.c[8Pclearat > /dev/null[6P./shellexcat > /dev/null
If    The commands jobs or echo which are built into linus sho     x should be able to provide the process id of the commands being executed^[  :w  
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ 
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ cat > /dev/nulllear[Kat > /dev/null[Kcat > /dev/null[Kvim shellex.c 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;73r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[73;1H"shellex.c" 112L, 2708C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[32mchar[m prompt[] = [31m""[m;

[34m/* Function prototypes */[m
[32mvoid[m eval([32mchar[m *cmdline);
[32mint[m parseline([32mchar[m *buf, [32mchar[m **argv);
[32mint[m builtin_command([32mchar[m **argv);

[32mint[m main()
{
    [32mchar[m cmdline[MAXLINE]; [34m/* Command line */[m[12;5H[33mwhile[m ([31m1[m) {[13;9H[34m/* Read */[m[14;9Hprintf([31m"[m[35m%s[m[31m> "[m, prompt);[15;9HFgets(cmdline, MAXLINE, [31mstdin[m);[16;9H[33mif[m (feof([31mstdin[m))[17;13Hexit([31m0[m);[19;9H[34m/* Evaluate */[m[20;9Heval(cmdline);
    }
}
[34m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[32mvoid[m eval([32mchar[m *cmdline)
{
    [32mchar[m *argv[MAXARGS]; [34m/* Argument list execve() */[m
    [32mchar[m buf[MAXLINE];   [34m/* Holds modified command line */[m
    [32mint[m bg;[14C[34m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[34m/* Process id */[m[34;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [33mif[m (argv[[31m0[m] == [31mNULL[m)[37;9H[33mreturn[m;   [34m/* Ignore empty lines */[m[39;5H[33mif[m (!builtin_command(argv)) {[40;9H[33mif[m ((pid = Fork()) == [31m0[m) {   [34m/* Child runs user job */[m[41;13H[33mif[m (execvpe(argv[[31m0[m], argv, environ) < [31m0[m) {[42;17Hprintf([31m"[m[35m%s[m[31m: Command not found.[m[35m\n[m[31m"[m, argv[[31m0[m]);[43;17Hexit([31m0[m);[44;13H}[45;9H}[47;9H[34m/* Parent waits for foreground job to terminate */[m[48;9H[33mif[m (!bg) {[49;13H[32mint[m status;[50;13H[33mif[m (waitpid(pid, &status, [31m0[m) < [31m0[m)[51;17Hunix_error([31m"waitfg: waitpid error"[m);[52;9H}[53;9H[33melse[m[54;13Hprintf([31m"[m[35m%d[m[31m [m[35m%s[m[31m"[m, pid, cmdline);
    }
    [33mreturn[m;
}

[34m/* If first arg is a builtin command, run it and return true */[m
[32mint[m builtin_command([32mchar[m **argv)
{
    [33mif[m (!strcmp(argv[[31m0[m], [31m"quit"[m)) [34m/* quit command */[m[63;9Hexit([31m0[m);
    [33melse[m [33mif[m (!strcmp(argv[[31m0[m], [31m"newprompt"[m))[65;9Hstrcpy(prompt, argv[[31m1[m]);
    [33melse[m [33mif[m (!strcmp(argv[[31m0[m], [31m"&"[m))    [34m/* Ignore singleton & */[m[67;9H[33mreturn[m [31m1[m;
    [33melse[m [33mreturn[m [31m0[m;[21C[34m/* Not a builtin command */[m
    [33mreturn[m [31m1[m;
}
[34m/* $end eval */[m[73;254H72,2-9[8C12%[67;9H[?25h[?25l[73;244H^[[67;9H[73;246H][67;9H[73;247H1[67;9H[73;248H1[67;9H[73;249H;[67;9H[73;244H      [67;9H[27m[23m[29m[m[H[2J[1;1H[1m[32mchar[m prompt[] = [1m[35m""[m;

[1m[36m/* Function prototypes */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline);
[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv);
[1m[32mint[m builtin_command([1m[32mchar[m **argv);

[1m[32mint[m main()
{
    [1m[32mchar[m cmdline[MAXLINE]; [1m[36m/* Command line */[m[12;5H[1m[33mwhile[m ([1m[35m1[m) {[13;9H[1m[36m/* Read */[m[14;9Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m> "[m, prompt);[15;9HFgets(cmdline, MAXLINE, [1m[35mstdin[m);[16;9H[1m[33mif[m (feof([1m[35mstdin[m))[17;13Hexit([1m[35m0[m);[19;9H[1m[36m/* Evaluate */[m[20;9Heval(cmdline);
    }
}
[1m[36m/* $end shellmain */

/* $begin eval */
/* eval - Evaluate a command line */[m
[1m[32mvoid[m eval([1m[32mchar[m *cmdline)
{
    [1m[32mchar[m *argv[MAXARGS]; [1m[36m/* Argument list execve() */[m
    [1m[32mchar[m buf[MAXLINE];   [1m[36m/* Holds modified command line */[m
    [1m[32mint[m bg;[14C[1m[36m/* Should the job run in bg or fg? */[m
    pid_t pid;[11C[1m[36m/* Process id */[m[34;5Hstrcpy(buf, cmdline);
    bg = parseline(buf, argv);
    [1m[33mif[m (argv[[1m[35m0[m] == [1m[35mNULL[m)[37;9H[1m[33mreturn[m;   [1m[36m/* Ignore empty lines */[m[39;5H[1m[33mif[m (!builtin_command(argv)) {[40;9H[1m[33mif[m ((pid = Fork()) == [1m[35m0[m) {   [1m[36m/* Child runs user job */[m[41;13H[1m[33mif[m (execvpe(argv[[1m[35m0[m], argv, environ) < [1m[35m0[m) {[42;17Hprintf([1m[35m"[m[1m[31m%s[m[1m[35m: Command not found.[m[1m[31m\n[m[1m[35m"[m, argv[[1m[35m0[m]);[43;17Hexit([1m[35m0[m);[44;13H}[45;9H}[47;9H[1m[36m/* Parent waits for foreground job to terminate */[m[48;9H[1m[33mif[m (!bg) {[49;13H[1m[32mint[m status;[50;13H[1m[33mif[m (waitpid(pid, &status, [1m[35m0[m) < [1m[35m0[m)[51;17Hunix_error([1m[35m"waitfg: waitpid error"[m);[52;9H}[53;9H[1m[33melse[m[54;13Hprintf([1m[35m"[m[1m[31m%d[m[1m[35m [m[1m[31m%s[m[1m[35m"[m, pid, cmdline);
    }
    [1m[33mreturn[m;
}

[1m[36m/* If first arg is a builtin command, run it and return true */[m
[1m[32mint[m builtin_command([1m[32mchar[m **argv)
{
    [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"quit"[m)) [1m[36m/* quit command */[m[63;9Hexit([1m[35m0[m);
    [1m[33melse[m [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"newprompt"[m))[65;9Hstrcpy(prompt, argv[[1m[35m1[m]);
    [1m[33melse[m [1m[33mif[m (!strcmp(argv[[1m[35m0[m], [1m[35m"&"[m))    [1m[36m/* Ignore singleton & */[m[67;9H[1m[33mreturn[m [1m[35m1[m;
    [1m[33melse[m [1m[33mreturn[m [1m[35m0[m;[21C[1m[36m/* Not a builtin command */[m
    [1m[33mreturn[m [1m[35m1[m;
}
[1m[36m/* $end eval */[m[73;254H72,2-9[8C12%"shellex.c" 112L, 2708C[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* $begin parseline */[m[73;1H[K[73;254H73,9[10C15%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H[1m[36m/* parseline - Parse the command line and build the argv array */[m[73;254H[K[73;254H74,9[10C17%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;1H[1;72r[72;1H
[1;73r[58;1H[46m{[67;1H}[m[72;1H[1m[32mint[m parseline([1m[32mchar[m *buf, [1m[32mchar[m **argv)[73;254H[K[73;254H75,1[10C20%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[57;1H{[66;1H}[72;1H{[73;254H[K[73;254H76,9[10C22%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[32mchar[m *delim;[9C[1m[36m/* Points to first space delimiter */[m[73;254H[K[73;254H77,0-1[8C25%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;9H[1;72r[72;1H
[1;73r[72;5H[1m[32mint[m argc;[12C[1m[36m/* Number of args */[m[73;254H[K[73;254H78,9[10C27%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[32mint[m bg;[14C[1m[36m/* Background job? */[m[73;254H[K[73;254H79,9[10C30%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H80,9[10C32%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;1H[1;72r[72;1H
[1;73r[72;5Hbuf[strlen(buf)-[1m[35m1[m] = [1m[35m' '[m;  [1m[36m/* Replace trailing '\n' with space */[m[73;254H[K[73;254H81,1[10C35%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore leading spaces */[m[73;254H[K[73;254H82,9[10C37%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;9Hbuf++;[73;254H[K[73;254H83,9[10C40%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;9H[1;72r[72;1H
[1;73r[73;254H[K[73;254H84,9[10C42%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[36m/* Build the argv list */[m[73;254H[K[73;254H85,0-1[8C45%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;5Hargc = [1m[35m0[m;[73;254H[K[73;254H86,9[10C47%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;9H[1;72r[72;1H
[1;73r[72;5H[1m[33mwhile[m ((delim = strchr(buf, [1m[35m' '[m))) {[73;254H[K[73;254H87,9[10C50%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;9Hargv[argc++] = buf;[73;254H[K[73;254H88,2-9[8C52%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;9H*delim = [1m[31m'\0'[m;[73;254H[K[73;254H89,0-1[8C55%[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [67;9H[1;72r[72;1H
[1;73r[72;9Hbuf = delim + [1m[35m1[m;[73;254H[K[73;254H90,9[10C57%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;9H[1m[33mwhile[m (*buf && (*buf == [1m[35m' '[m)) [1m[36m/* Ignore spaces */[m[73;254H[K[73;254H91,9[10C60%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;13Hbuf++;[73;254H[K[73;254H92,9[10C62%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;9H[1;72r[72;1H
[1;73r[72;5H}[73;254H[K[73;254H93,2-9[8C65%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;5Hargv[argc] = [1m[35mNULL[m;[73;254H[K[73;254H94,2-9[8C67%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H95,2-9[8C70%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;9H[1;72r[72;1H
[1;73r[72;5H[1m[33mif[m (argc == [1m[35m0[m)  [1m[36m/* Ignore blank line */[m[73;254H[K[73;254H96,2-9[8C72%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;9H[1m[33mreturn[m [1m[35m1[m;[73;254H[K[73;254H97,9[10C75%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[61;40H[46m{[67;5H}[m[73;254H[K[73;254H98,5[10C77%[67;5H[?25h[?25l[73;244H~@k[67;5H[73;244H   [67;9H[1;72r[72;1H
[1;73r[60;40H{[66;5H}[67;9H[46m[[margc[46m][m[72;5H[1m[36m/* Should the job run in the background? */[m[73;254H[K[73;254H99,9[10C80%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[66;9H[argc][72;5H[1m[33mif[m ((bg = (*argv[argc-[1m[35m1[m] == [1m[35m'&'[m)) != [1m[35m0[m)[73;254H[K[73;254H100,4[9C82%[67;4H[?25h[?25l[1;72r[72;1H
[1;73r[72;9Hargv[--argc] = [1m[35mNULL[m;[73;254H[K[73;254H101,9[9C85%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;9H[1;72r[72;1H
[1;73r[73;254H[K[73;254H102,2-9[7C87%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[72;5H[1m[33mreturn[m bg;[73;254H[K[73;254H103,0-1[7C90%[67;1H[?25h[?25l[1;72r[72;1H
[1;73r[72;1H}[73;254H[K[73;254H104,9[9C92%[67;9H[?25h[?25l[73;244H~@k[67;9H[73;244H   [67;9H[1;72r[72;1H
[1;73r[67;9H[46m([27C)[m[72;1H[1m[36m/* $end parseline */[m[73;254H[K[73;254H105,9[9C95%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[66;9H([27C)[73;254H[K[73;254H106,2-9[7C97%[67;9H[?25h[?25l[1;72r[72;1H
[1;73r[73;254H[K[73;254H107,0-1[7CBot[67;1H[?25h[?25l[73;244H~@k[67;1H[73;244H   [68;9H[73;256H8,9  [68;9H[?25h[?25l[41;1H[46m{[69;1H}[m[73;256H9,1[69;1H[?25h[?25l[41;1H{[69;1H}[73;255H10,9[70;9H[?25h[?25l[73;244H~@k[70;9H[73;244H   [71;1H[73;256H1,0-1[71;1H[?25h[?25l[73;256H2[72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H~@k[72;1H[73;244H   [72;1H[?25h[?25l[73;244H:[72;1H[73;244H[K[73;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[73;3H[K[73;3H[?25h[?25l[73;2H[K[73;2H[?25hq[?25l[?25h![?25l[?25h[?25l[?2004l[73;1H[K[73;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ exit
exit

Script done on 2020-10-28 10:57:54-0400
Script started on 2020-10-28 12:52:30-0400
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ cat /dev//[Kni[Kull [K[C>/dev/null /dev/null
Correction: in order to get the pid and command issues you must supply a '&' to the shell following your cmdline
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ ./shellex 
> ls *&  &
8213 ls &
> Makefile  MySession.txt  csapp.c  csapp.h  fork  fork.c  forkfun  forkfun.c  shellex  shellex.c
^[  ^C
]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ clear
[3J[H[2J]0;bdgr235@bdgr235: ~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5bdgr235@bdgr235:~/University-Coursework/Fall2020/CS270-Systems-Programming/lab5$ exit
exit

Script done on 2020-10-28 12:53:36-0400
